import{s as ml,e as d,t as L,k as A,c as _,a as v,b as P,d as c,o as D,I as Gt,f as o,i as O,g as n,u as se,z as us,h as H,n as vt,H as ol,j as nl,p as Dl,q as Fl,y as at,A as ut,C as ee,Q as Ll,P as Xt,l as xt,G as Zl,S as Ol,D as ba,R as _l,E as sl,F as al,B as ys,J as Es,T as na}from"../chunks/scheduler.Dg_Xn4WQ.js";import{S as gl,i as bl,f as ft,b as de,d as _e,m as he,t as K,g as Vt,a as q,c as St,e as pe}from"../chunks/index.gNonUo3Z.js";import{t as ze}from"../chunks/Toaster.svelte_svelte_type_style_lang.CM0nbnqF.js";import{e as Hs,m as Nl,u as ia,H as zo,M as aa}from"../chunks/index.C2zJs1dP.js";import{c as Qo,u as Jo,d as Xo,e as xo,g as ql,f as eu,h as tu,i as lu,j as su,k as au,l as ru,a as ra,m as nu,n as iu}from"../chunks/index.ttVds5UM.js";import{f as Uo}from"../chunks/FileSaver.min.CimDdHIv.js";import{d as ou}from"../chunks/index.DWJsyPmW.js";import{l as uu}from"../chunks/index.PGXp80Wq.js";import{i as fu,e as cu,S as Vl,g as du,s as _u,a as hu,b as pu,c as vu}from"../chunks/index.CX1ppP1i.js";import{d as mu,e as gu,f as bu,h as Eu,i as wu,j as ku}from"../chunks/index.CUVzHynD.js";import{S as kl}from"../chunks/Switch.BbmWI4o0.js";import{T as Zt}from"../chunks/Tooltip.FP-CxtJW.js";import{e as It,u as Co,o as Ro}from"../chunks/each.dwVHsGX8.js";import{S as $s}from"../chunks/Spinner.C_k6OlPC.js";import{g as Iu,a as yu,b as Tu,u as Au}from"../chunks/index.CftsCmmZ.js";import{T as Qa,v as Du,s as ga}from"../chunks/index.bquoJ5FE.js";import{g as $u,a as Vu,b as Su,u as _n,c as Nu,v as hn}from"../chunks/index.fgGhQYcZ.js";import{T as oa}from"../chunks/Textarea.DsQDtKVQ.js";import{m as pn}from"../chunks/marked.esm._0_gBwjO.js";import{b as Mu,e as Ou,u as Lu,c as vn,t as Pu}from"../chunks/index.BOwZ_VJX.js";import{S as Uu}from"../chunks/Search.x77u7Tsb.js";import{M as Cu}from"../chunks/ModelEditor.DLCaX9ZX.js";import{C as Ja}from"../chunks/ConfirmDialog.BuoJh2qp.js";import{C as xa}from"../chunks/Cog6.G_rLffPC.js";import{M as Ea}from"../chunks/Modal.DLh1UrlN.js";import{S as Ru}from"../chunks/sortable.esm.C0-Qcoum.js";import{E as Bu}from"../chunks/EllipsisVertical.DQr0oDBW.js";import{A as Bo}from"../chunks/ArrowDownTray.B6lNvHfw.js";import{p as mn,d as gn,c as bn,a as Hu,u as ju,b as Gu,e as Ho,v as Ku,f as Zu}from"../chunks/index.C97N7eDD.js";import{v as qu,a as Fu,b as Wu,u as Yu}from"../chunks/index.TNrF8u2r.js";import{P as wa}from"../chunks/Plus.BU_HhSNR.js";import"../chunks/index.CGwCSIWv.js";import{g as zu,a as jo,u as Qu,b as Go,c as En,d as Ju,e as Xu,r as xu,f as ef}from"../chunks/index.BE5d1MAv.js";import{d as tf}from"../chunks/index.KfBBgaGK.js";import{a as lf,b as sf}from"../chunks/index.DDUbMGLd.js";import{A as af}from"../chunks/AccessControl.BdBhtnxq.js";function wn(s){let e,t,l,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',i,r,f=s[1].t("Download Database")+"",u,h,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',g,E,w=s[1].t("Export All Chats (All Users)")+"",k,I,y;return{c(){e=d("div"),t=d("button"),l=d("div"),l.innerHTML=a,i=A(),r=d("div"),u=L(f),h=A(),b=d("button"),p=d("div"),p.innerHTML=m,g=A(),E=d("div"),k=L(w),this.h()},l(T){e=_(T,"DIV",{class:!0});var $=v(e);t=_($,"BUTTON",{class:!0,type:!0});var S=v(t);l=_(S,"DIV",{class:!0,"data-svelte-h":!0}),Gt(l)!=="svelte-1n29mwa"&&(l.innerHTML=a),i=D(S),r=_(S,"DIV",{class:!0});var N=v(r);u=P(N,f),N.forEach(c),S.forEach(c),$.forEach(c),h=D(T),b=_(T,"BUTTON",{class:!0});var V=v(b);p=_(V,"DIV",{class:!0,"data-svelte-h":!0}),Gt(p)!=="svelte-1l0oz0g"&&(p.innerHTML=m),g=D(V),E=_(V,"DIV",{class:!0});var C=v(E);k=P(C,w),C.forEach(c),V.forEach(c),this.h()},h(){o(l,"class","self-center mr-3"),o(r,"class","self-center text-sm font-medium"),o(t,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(t,"type","button"),o(e,"class","flex w-full justify-between"),o(p,"class","self-center mr-3"),o(E,"class","self-center text-sm font-medium"),o(b,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(T,$){O(T,e,$),n(e,t),n(t,l),n(t,i),n(t,r),n(r,u),O(T,h,$),O(T,b,$),n(b,p),n(b,g),n(b,E),n(E,k),I||(y=[se(t,"click",s[9]),se(b,"click",s[10])],I=!0)},p(T,$){$&2&&f!==(f=T[1].t("Download Database")+"")&&H(u,f),$&2&&w!==(w=T[1].t("Export All Chats (All Users)")+"")&&H(k,w)},d(T){T&&(c(e),c(h),c(b)),I=!1,ol(y)}}}function rf(s){var G;let e,t,l,a,i=s[1].t("Database")+"",r,f,u,h,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',g,E,w=s[1].t("Import Config from JSON File")+"",k,I,y,T,$='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',S,N,V=s[1].t("Export Config to JSON File")+"",C,R,U,Z,B,M,j=(((G=s[2])==null?void 0:G.features.enable_admin_export)??!0)&&wn(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),r=L(i),f=A(),u=d("input"),h=A(),b=d("button"),p=d("div"),p.innerHTML=m,g=A(),E=d("div"),k=L(w),I=A(),y=d("button"),T=d("div"),T.innerHTML=$,S=A(),N=d("div"),C=L(V),R=A(),U=d("hr"),Z=A(),j&&j.c(),this.h()},l(W){e=_(W,"FORM",{class:!0});var z=v(e);t=_(z,"DIV",{class:!0});var x=v(t);l=_(x,"DIV",{});var te=v(l);a=_(te,"DIV",{class:!0});var Y=v(a);r=P(Y,i),Y.forEach(c),f=D(te),u=_(te,"INPUT",{id:!0,type:!0,accept:!0}),h=D(te),b=_(te,"BUTTON",{type:!0,class:!0});var Q=v(b);p=_(Q,"DIV",{class:!0,"data-svelte-h":!0}),Gt(p)!=="svelte-uk5zsu"&&(p.innerHTML=m),g=D(Q),E=_(Q,"DIV",{class:!0});var X=v(E);k=P(X,w),X.forEach(c),Q.forEach(c),I=D(te),y=_(te,"BUTTON",{type:!0,class:!0});var F=v(y);T=_(F,"DIV",{class:!0,"data-svelte-h":!0}),Gt(T)!=="svelte-uk5zsu"&&(T.innerHTML=$),S=D(F),N=_(F,"DIV",{class:!0});var J=v(N);C=P(J,V),J.forEach(c),F.forEach(c),R=D(te),U=_(te,"HR",{class:!0}),Z=D(te),j&&j.l(te),te.forEach(c),x.forEach(c),z.forEach(c),this.h()},h(){o(a,"class","mb-2 text-sm font-medium"),o(u,"id","config-json-input"),u.hidden=!0,o(u,"type","file"),o(u,"accept",".json"),o(p,"class","self-center mr-3"),o(E,"class","self-center text-sm font-medium"),o(b,"type","button"),o(b,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(T,"class","self-center mr-3"),o(N,"class","self-center text-sm font-medium"),o(y,"type","button"),o(y,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(U,"class","dark:border-gray-850 my-1"),o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(W,z){O(W,e,z),n(e,t),n(t,l),n(l,a),n(a,r),n(l,f),n(l,u),n(l,h),n(l,b),n(b,p),n(b,g),n(b,E),n(E,k),n(l,I),n(l,y),n(y,T),n(y,S),n(y,N),n(N,C),n(l,R),n(l,U),n(l,Z),j&&j.m(l,null),B||(M=[se(u,"change",s[6]),se(b,"click",s[7]),se(y,"click",s[8]),se(e,"submit",us(s[11]))],B=!0)},p(W,[z]){var x;z&2&&i!==(i=W[1].t("Database")+"")&&H(r,i),z&2&&w!==(w=W[1].t("Import Config from JSON File")+"")&&H(k,w),z&2&&V!==(V=W[1].t("Export Config to JSON File")+"")&&H(C,V),((x=W[2])==null?void 0:x.features.enable_admin_export)??!0?j?j.p(W,z):(j=wn(W),j.c(),j.m(l,null)):j&&(j.d(1),j=null)},i:vt,o:vt,d(W){W&&c(e),j&&j.d(),B=!1,ol(M)}}}function nf(s,e,t){let l,a;nl(s,Hs,w=>t(2,a=w));const{saveAs:i}=Uo,r=Dl("i18n");nl(s,r,w=>t(1,l=w));let{saveHandler:f}=e;const u=async()=>{let w=new Blob([JSON.stringify(await uu(localStorage.token))],{type:"application/json"});i(w,`all-chats-export-${Date.now()}.json`)};Fl(async()=>{});const h=w=>{const k=w.target.files[0],I=new FileReader;I.onload=async y=>{await fu(localStorage.token,JSON.parse(y.target.result)).catch($=>{ze.error(`${$}`)})&&ze.success("Config imported successfully"),y.target.value=null},I.readAsText(k)},b=async()=>{document.getElementById("config-json-input").click()},p=async()=>{const w=await cu(localStorage.token),k=new Blob([JSON.stringify(w)],{type:"application/json"});i(k,`config-${Date.now()}.json`)},m=()=>{ou(localStorage.token).catch(w=>{ze.error(`${w}`)})},g=()=>{u()},E=async()=>{f()};return s.$$set=w=>{"saveHandler"in w&&t(0,f=w.saveHandler)},[f,l,a,i,r,u,h,b,p,m,g,E]}class of extends gl{constructor(e){super(),bl(this,e,nf,rf,ml,{saveHandler:0})}}function kn(s){var st;let e,t,l=s[4].t("General Settings")+"",a,i,r,f,u=s[4].t("Enable New Sign Ups")+"",h,b,p,m,g,E,w,k=s[4].t("Default User Role")+"",I,y,T,$,S,N=s[4].t("pending")+"",V,C,R=s[4].t("user")+"",U,Z,B=s[4].t("admin")+"",M,j,G,W,z=s[4].t("Enable API Key")+"",x,te,Y,Q,X,F,J,ae,ue,ne,De=s[4].t("Show Admin Details in Account Pending Overlay")+"",ge,Pe,be,Re,$e,ie,le,Ee=s[4].t("Enable Community Sharing")+"",ce,ke,Ie,Qe,Je,ve,ye,fe=s[4].t("Enable Message Rating")+"",me,Oe,Me,He,Ce,Ge,je,$t,re,we,ht=s[4].t("WebUI URL")+"",mt,gt,Ke,Ye,ct,Ut,At=s[4].t("Enter the public URL of your WebUI. This URL will be used to generate links in the notifications.")+"",Ae,We,bt,ot,dt,rt,lt,et=s[4].t("JWT Expiration")+"",oe,Le,Tt,Xe,Ot,wt,it=s[4].t("Valid time units:")+"",Pt,zt,qt,Dt=s[4].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"",Rt,Nt,Ue,Te,Ne,pt,xe,_t=s[4].t("Webhook URL")+"",Kt,Lt,Bt,Et,Ze,Be,tt,kt,Mt,rl=s[4].t("Channels")+"",tl,Ht,ul=s[4].t("Beta")+"",hl,jt,Il,cl,il,yt,dl,Yt;function Qt(Fe){s[8](Fe)}let Ml={};s[0].ENABLE_SIGNUP!==void 0&&(Ml.state=s[0].ENABLE_SIGNUP),p=new kl({props:Ml}),at.push(()=>ft(p,"state",Qt));function pl(Fe){s[10](Fe)}let Ft={};s[0].ENABLE_API_KEY!==void 0&&(Ft.state=s[0].ENABLE_API_KEY),Y=new kl({props:Ft}),at.push(()=>ft(Y,"state",pl));let Jt=((st=s[0])==null?void 0:st.ENABLE_API_KEY)&&In(s);function Rl(Fe){s[13](Fe)}let Pl={};s[0].SHOW_ADMIN_DETAILS!==void 0&&(Pl.state=s[0].SHOW_ADMIN_DETAILS),be=new kl({props:Pl}),at.push(()=>ft(be,"state",Rl));function Ul(Fe){s[14](Fe)}let fl={};s[0].ENABLE_COMMUNITY_SHARING!==void 0&&(fl.state=s[0].ENABLE_COMMUNITY_SHARING),Ie=new kl({props:fl}),at.push(()=>ft(Ie,"state",Ul));function Wt(Fe){s[15](Fe)}let Wl={};s[0].ENABLE_MESSAGE_RATING!==void 0&&(Wl.state=s[0].ENABLE_MESSAGE_RATING),Me=new kl({props:Wl}),at.push(()=>ft(Me,"state",Wt));function El(Fe){s[19](Fe)}let Ve={};return s[0].ENABLE_CHANNELS!==void 0&&(Ve.state=s[0].ENABLE_CHANNELS),cl=new kl({props:Ve}),at.push(()=>ft(cl,"state",El)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),h=L(u),b=A(),de(p.$$.fragment),g=A(),E=d("div"),w=d("div"),I=L(k),y=A(),T=d("div"),$=d("select"),S=d("option"),V=L(N),C=d("option"),U=L(R),Z=d("option"),M=L(B),j=A(),G=d("div"),W=d("div"),x=L(z),te=A(),de(Y.$$.fragment),X=A(),Jt&&Jt.c(),F=A(),J=d("hr"),ae=A(),ue=d("div"),ne=d("div"),ge=L(De),Pe=A(),de(be.$$.fragment),$e=A(),ie=d("div"),le=d("div"),ce=L(Ee),ke=A(),de(Ie.$$.fragment),Je=A(),ve=d("div"),ye=d("div"),me=L(fe),Oe=A(),de(Me.$$.fragment),Ce=A(),Ge=d("hr"),je=A(),$t=d("div"),re=d("div"),we=d("div"),mt=L(ht),gt=A(),Ke=d("div"),Ye=d("input"),ct=A(),Ut=d("div"),Ae=L(At),We=A(),bt=d("hr"),ot=A(),dt=d("div"),rt=d("div"),lt=d("div"),oe=L(et),Le=A(),Tt=d("div"),Xe=d("input"),Ot=A(),wt=d("div"),Pt=L(it),zt=A(),qt=d("span"),Rt=L(Dt),Nt=A(),Ue=d("hr"),Te=A(),Ne=d("div"),pt=d("div"),xe=d("div"),Kt=L(_t),Lt=A(),Bt=d("div"),Et=d("input"),Ze=A(),Be=d("hr"),tt=A(),kt=d("div"),Mt=d("div"),tl=L(rl),Ht=L(" ("),hl=L(ul),jt=L(")"),Il=A(),de(cl.$$.fragment),this.h()},l(Fe){e=_(Fe,"DIV",{});var qe=v(e);t=_(qe,"DIV",{class:!0});var vl=v(t);a=P(vl,l),vl.forEach(c),i=D(qe),r=_(qe,"DIV",{class:!0});var wl=v(r);f=_(wl,"DIV",{class:!0});var yl=v(f);h=P(yl,u),yl.forEach(c),b=D(wl),_e(p.$$.fragment,wl),wl.forEach(c),g=D(qe),E=_(qe,"DIV",{class:!0});var Tl=v(E);w=_(Tl,"DIV",{class:!0});var Kl=v(w);I=P(Kl,k),Kl.forEach(c),y=D(Tl),T=_(Tl,"DIV",{class:!0});var Bl=v(T);$=_(Bl,"SELECT",{class:!0,placeholder:!0});var Hl=v($);S=_(Hl,"OPTION",{});var Ct=v(S);V=P(Ct,N),Ct.forEach(c),C=_(Hl,"OPTION",{});var Al=v(C);U=P(Al,R),Al.forEach(c),Z=_(Hl,"OPTION",{});var ts=v(Z);M=P(ts,B),ts.forEach(c),Hl.forEach(c),Bl.forEach(c),Tl.forEach(c),j=D(qe),G=_(qe,"DIV",{class:!0});var ss=v(G);W=_(ss,"DIV",{class:!0});var is=v(W);x=P(is,z),is.forEach(c),te=D(ss),_e(Y.$$.fragment,ss),ss.forEach(c),X=D(qe),Jt&&Jt.l(qe),F=D(qe),J=_(qe,"HR",{class:!0}),ae=D(qe),ue=_(qe,"DIV",{class:!0});var fs=v(ue);ne=_(fs,"DIV",{class:!0});var hs=v(ne);ge=P(hs,De),hs.forEach(c),Pe=D(fs),_e(be.$$.fragment,fs),fs.forEach(c),$e=D(qe),ie=_(qe,"DIV",{class:!0});var as=v(ie);le=_(as,"DIV",{class:!0});var Sl=v(le);ce=P(Sl,Ee),Sl.forEach(c),ke=D(as),_e(Ie.$$.fragment,as),as.forEach(c),Je=D(qe),ve=_(qe,"DIV",{class:!0});var cs=v(ve);ye=_(cs,"DIV",{class:!0});var ps=v(ye);me=P(ps,fe),ps.forEach(c),Oe=D(cs),_e(Me.$$.fragment,cs),cs.forEach(c),Ce=D(qe),Ge=_(qe,"HR",{class:!0}),je=D(qe),$t=_(qe,"DIV",{class:!0});var jl=v($t);re=_(jl,"DIV",{class:!0});var rs=v(re);we=_(rs,"DIV",{class:!0});var vs=v(we);mt=P(vs,ht),vs.forEach(c),rs.forEach(c),gt=D(jl),Ke=_(jl,"DIV",{class:!0});var ds=v(Ke);Ye=_(ds,"INPUT",{class:!0,type:!0,placeholder:!0}),ds.forEach(c),ct=D(jl),Ut=_(jl,"DIV",{class:!0});var Ts=v(Ut);Ae=P(Ts,At),Ts.forEach(c),jl.forEach(c),We=D(qe),bt=_(qe,"HR",{class:!0}),ot=D(qe),dt=_(qe,"DIV",{class:!0});var Gl=v(dt);rt=_(Gl,"DIV",{class:!0});var Cl=v(rt);lt=_(Cl,"DIV",{class:!0});var _s=v(lt);oe=P(_s,et),_s.forEach(c),Cl.forEach(c),Le=D(Gl),Tt=_(Gl,"DIV",{class:!0});var As=v(Tt);Xe=_(As,"INPUT",{class:!0,type:!0,placeholder:!0}),As.forEach(c),Ot=D(Gl),wt=_(Gl,"DIV",{class:!0});var Yl=v(wt);Pt=P(Yl,it),zt=D(Yl),qt=_(Yl,"SPAN",{class:!0});var zl=v(qt);Rt=P(zl,Dt),zl.forEach(c),Yl.forEach(c),Gl.forEach(c),Nt=D(qe),Ue=_(qe,"HR",{class:!0}),Te=D(qe),Ne=_(qe,"DIV",{class:!0});var ns=v(Ne);pt=_(ns,"DIV",{class:!0});var ms=v(pt);xe=_(ms,"DIV",{class:!0});var ws=v(xe);Kt=P(ws,_t),ws.forEach(c),ms.forEach(c),Lt=D(ns),Bt=_(ns,"DIV",{class:!0});var Ds=v(Bt);Et=_(Ds,"INPUT",{class:!0,type:!0,placeholder:!0}),Ds.forEach(c),ns.forEach(c),Ze=D(qe),Be=_(qe,"HR",{class:!0}),tt=D(qe),kt=_(qe,"DIV",{class:!0});var $l=v(kt);Mt=_($l,"DIV",{class:!0});var ls=v(Mt);tl=P(ls,rl),Ht=P(ls," ("),hl=P(ls,ul),jt=P(ls,")"),ls.forEach(c),Il=D($l),_e(cl.$$.fragment,$l),$l.forEach(c),qe.forEach(c),this.h()},h(){o(t,"class","mb-3 text-sm font-medium"),o(f,"class","self-center text-xs font-medium"),o(r,"class","flex w-full justify-between pr-2"),o(w,"class","self-center text-xs font-medium"),S.__value="pending",ee(S,S.__value),C.__value="user",ee(C,C.__value),Z.__value="admin",ee(Z,Z.__value),o($,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),o($,"placeholder","Select a role"),s[0].DEFAULT_USER_ROLE===void 0&&Ll(()=>s[9].call($)),o(T,"class","flex items-center relative"),o(E,"class","my-3 flex w-full justify-between"),o(W,"class","self-center text-xs font-medium"),o(G,"class","flex w-full justify-between pr-2 my-3"),o(J,"class","border-gray-50 dark:border-gray-850 my-2"),o(ne,"class","self-center text-xs font-medium"),o(ue,"class","my-3 flex w-full items-center justify-between pr-2"),o(le,"class","self-center text-xs font-medium"),o(ie,"class","my-3 flex w-full items-center justify-between pr-2"),o(ye,"class","self-center text-xs font-medium"),o(ve,"class","my-3 flex w-full items-center justify-between pr-2"),o(Ge,"class","border-gray-50 dark:border-gray-850 my-2"),o(we,"class","self-center text-xs font-medium"),o(re,"class","flex w-full justify-between"),o(Ye,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Ye,"type","text"),o(Ye,"placeholder",'e.g.) "http://localhost:3000"'),o(Ke,"class","flex mt-2 space-x-2"),o(Ut,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o($t,"class","w-full justify-between"),o(bt,"class","border-gray-50 dark:border-gray-850 my-2"),o(lt,"class","self-center text-xs font-medium"),o(rt,"class","flex w-full justify-between"),o(Xe,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Xe,"type","text"),o(Xe,"placeholder",'e.g.) "30m","1h", "10d". '),o(Tt,"class","flex mt-2 space-x-2"),o(qt,"class","text-gray-300 font-medium"),o(wt,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(dt,"class","w-full justify-between"),o(Ue,"class","border-gray-50 dark:border-gray-850 my-2"),o(xe,"class","self-center text-xs font-medium"),o(pt,"class","flex w-full justify-between"),o(Et,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Et,"type","text"),o(Et,"placeholder","https://example.com/webhook"),o(Bt,"class","flex mt-2 space-x-2"),o(Ne,"class","w-full justify-between"),o(Be,"class","border-gray-50 dark:border-gray-850 my-2"),o(Mt,"class","self-center text-sm font-medium"),o(kt,"class","pt-1 flex w-full justify-between pr-2")},m(Fe,qe){O(Fe,e,qe),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,h),n(r,b),he(p,r,null),n(e,g),n(e,E),n(E,w),n(w,I),n(E,y),n(E,T),n(T,$),n($,S),n(S,V),n($,C),n(C,U),n($,Z),n(Z,M),Xt($,s[0].DEFAULT_USER_ROLE,!0),n(e,j),n(e,G),n(G,W),n(W,x),n(G,te),he(Y,G,null),n(e,X),Jt&&Jt.m(e,null),n(e,F),n(e,J),n(e,ae),n(e,ue),n(ue,ne),n(ne,ge),n(ue,Pe),he(be,ue,null),n(e,$e),n(e,ie),n(ie,le),n(le,ce),n(ie,ke),he(Ie,ie,null),n(e,Je),n(e,ve),n(ve,ye),n(ye,me),n(ve,Oe),he(Me,ve,null),n(e,Ce),n(e,Ge),n(e,je),n(e,$t),n($t,re),n(re,we),n(we,mt),n($t,gt),n($t,Ke),n(Ke,Ye),ee(Ye,s[0].WEBUI_URL),n($t,ct),n($t,Ut),n(Ut,Ae),n(e,We),n(e,bt),n(e,ot),n(e,dt),n(dt,rt),n(rt,lt),n(lt,oe),n(dt,Le),n(dt,Tt),n(Tt,Xe),ee(Xe,s[0].JWT_EXPIRES_IN),n(dt,Ot),n(dt,wt),n(wt,Pt),n(wt,zt),n(wt,qt),n(qt,Rt),n(e,Nt),n(e,Ue),n(e,Te),n(e,Ne),n(Ne,pt),n(pt,xe),n(xe,Kt),n(Ne,Lt),n(Ne,Bt),n(Bt,Et),ee(Et,s[1]),n(e,Ze),n(e,Be),n(e,tt),n(e,kt),n(kt,Mt),n(Mt,tl),n(Mt,Ht),n(Mt,hl),n(Mt,jt),n(kt,Il),he(cl,kt,null),yt=!0,dl||(Yt=[se($,"change",s[9]),se(Ye,"input",s[16]),se(Xe,"input",s[17]),se(Et,"input",s[18])],dl=!0)},p(Fe,qe){var Hl;(!yt||qe[0]&16)&&l!==(l=Fe[4].t("General Settings")+"")&&H(a,l),(!yt||qe[0]&16)&&u!==(u=Fe[4].t("Enable New Sign Ups")+"")&&H(h,u);const vl={};!m&&qe[0]&1&&(m=!0,vl.state=Fe[0].ENABLE_SIGNUP,ut(()=>m=!1)),p.$set(vl),(!yt||qe[0]&16)&&k!==(k=Fe[4].t("Default User Role")+"")&&H(I,k),(!yt||qe[0]&16)&&N!==(N=Fe[4].t("pending")+"")&&H(V,N),(!yt||qe[0]&16)&&R!==(R=Fe[4].t("user")+"")&&H(U,R),(!yt||qe[0]&16)&&B!==(B=Fe[4].t("admin")+"")&&H(M,B),qe[0]&1&&Xt($,Fe[0].DEFAULT_USER_ROLE),(!yt||qe[0]&16)&&z!==(z=Fe[4].t("Enable API Key")+"")&&H(x,z);const wl={};!Q&&qe[0]&1&&(Q=!0,wl.state=Fe[0].ENABLE_API_KEY,ut(()=>Q=!1)),Y.$set(wl),(Hl=Fe[0])!=null&&Hl.ENABLE_API_KEY?Jt?(Jt.p(Fe,qe),qe[0]&1&&K(Jt,1)):(Jt=In(Fe),Jt.c(),K(Jt,1),Jt.m(e,F)):Jt&&(Vt(),q(Jt,1,1,()=>{Jt=null}),St()),(!yt||qe[0]&16)&&De!==(De=Fe[4].t("Show Admin Details in Account Pending Overlay")+"")&&H(ge,De);const yl={};!Re&&qe[0]&1&&(Re=!0,yl.state=Fe[0].SHOW_ADMIN_DETAILS,ut(()=>Re=!1)),be.$set(yl),(!yt||qe[0]&16)&&Ee!==(Ee=Fe[4].t("Enable Community Sharing")+"")&&H(ce,Ee);const Tl={};!Qe&&qe[0]&1&&(Qe=!0,Tl.state=Fe[0].ENABLE_COMMUNITY_SHARING,ut(()=>Qe=!1)),Ie.$set(Tl),(!yt||qe[0]&16)&&fe!==(fe=Fe[4].t("Enable Message Rating")+"")&&H(me,fe);const Kl={};!He&&qe[0]&1&&(He=!0,Kl.state=Fe[0].ENABLE_MESSAGE_RATING,ut(()=>He=!1)),Me.$set(Kl),(!yt||qe[0]&16)&&ht!==(ht=Fe[4].t("WebUI URL")+"")&&H(mt,ht),qe[0]&1&&Ye.value!==Fe[0].WEBUI_URL&&ee(Ye,Fe[0].WEBUI_URL),(!yt||qe[0]&16)&&At!==(At=Fe[4].t("Enter the public URL of your WebUI. This URL will be used to generate links in the notifications.")+"")&&H(Ae,At),(!yt||qe[0]&16)&&et!==(et=Fe[4].t("JWT Expiration")+"")&&H(oe,et),qe[0]&1&&Xe.value!==Fe[0].JWT_EXPIRES_IN&&ee(Xe,Fe[0].JWT_EXPIRES_IN),(!yt||qe[0]&16)&&it!==(it=Fe[4].t("Valid time units:")+"")&&H(Pt,it),(!yt||qe[0]&16)&&Dt!==(Dt=Fe[4].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"")&&H(Rt,Dt),(!yt||qe[0]&16)&&_t!==(_t=Fe[4].t("Webhook URL")+"")&&H(Kt,_t),qe[0]&2&&Et.value!==Fe[1]&&ee(Et,Fe[1]),(!yt||qe[0]&16)&&rl!==(rl=Fe[4].t("Channels")+"")&&H(tl,rl),(!yt||qe[0]&16)&&ul!==(ul=Fe[4].t("Beta")+"")&&H(hl,ul);const Bl={};!il&&qe[0]&1&&(il=!0,Bl.state=Fe[0].ENABLE_CHANNELS,ut(()=>il=!1)),cl.$set(Bl)},i(Fe){yt||(K(p.$$.fragment,Fe),K(Y.$$.fragment,Fe),K(Jt),K(be.$$.fragment,Fe),K(Ie.$$.fragment,Fe),K(Me.$$.fragment,Fe),K(cl.$$.fragment,Fe),yt=!0)},o(Fe){q(p.$$.fragment,Fe),q(Y.$$.fragment,Fe),q(Jt),q(be.$$.fragment,Fe),q(Ie.$$.fragment,Fe),q(Me.$$.fragment,Fe),q(cl.$$.fragment,Fe),yt=!1},d(Fe){Fe&&c(e),pe(p),pe(Y),Jt&&Jt.d(),pe(be),pe(Ie),pe(Me),pe(cl),dl=!1,ol(Yt)}}}function In(s){var E;let e,t,l=s[4].t("API Key Endpoint Restrictions")+"",a,i,r,f,u,h,b;function p(w){s[11](w)}let m={};s[0].ENABLE_API_KEY_ENDPOINT_RESTRICTIONS!==void 0&&(m.state=s[0].ENABLE_API_KEY_ENDPOINT_RESTRICTIONS),r=new kl({props:m}),at.push(()=>ft(r,"state",p));let g=((E=s[0])==null?void 0:E.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS)&&yn(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),u=A(),g&&g.c(),h=xt(),this.h()},l(w){e=_(w,"DIV",{class:!0});var k=v(e);t=_(k,"DIV",{class:!0});var I=v(t);a=P(I,l),I.forEach(c),i=D(k),_e(r.$$.fragment,k),k.forEach(c),u=D(w),g&&g.l(w),h=xt(),this.h()},h(){o(t,"class","self-center text-xs font-medium"),o(e,"class","flex w-full justify-between pr-2 my-3")},m(w,k){O(w,e,k),n(e,t),n(t,a),n(e,i),he(r,e,null),O(w,u,k),g&&g.m(w,k),O(w,h,k),b=!0},p(w,k){var y;(!b||k[0]&16)&&l!==(l=w[4].t("API Key Endpoint Restrictions")+"")&&H(a,l);const I={};!f&&k[0]&1&&(f=!0,I.state=w[0].ENABLE_API_KEY_ENDPOINT_RESTRICTIONS,ut(()=>f=!1)),r.$set(I),(y=w[0])!=null&&y.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS?g?g.p(w,k):(g=yn(w),g.c(),g.m(h.parentNode,h)):g&&(g.d(1),g=null)},i(w){b||(K(r.$$.fragment,w),b=!0)},o(w){q(r.$$.fragment,w),b=!1},d(w){w&&(c(e),c(u),c(h)),pe(r),g&&g.d(w)}}}function yn(s){let e,t,l=s[4].t("Allowed Endpoints")+"",a,i,r,f,u,h,b=s[4].t("To learn more about available endpoints, visit our documentation.")+"",p,m,g;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("input"),f=A(),u=d("div"),h=d("a"),p=L(b),this.h()},l(E){e=_(E,"DIV",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);a=P(k,l),k.forEach(c),i=D(w),r=_(w,"INPUT",{class:!0,type:!0,placeholder:!0}),f=D(w),u=_(w,"DIV",{class:!0});var I=v(u);h=_(I,"A",{href:!0,target:!0,class:!0});var y=v(h);p=P(y,b),y.forEach(c),I.forEach(c),w.forEach(c),this.h()},h(){o(t,"class","text-xs font-medium"),o(r,"class","w-full mt-1 rounded-lg text-sm dark:text-gray-300 bg-transparent outline-none"),o(r,"type","text"),o(r,"placeholder","e.g.) /api/v1/messages, /api/v1/channels"),o(h,"href","https://docs.openwebui.com/getting-started/advanced-topics/api-endpoints"),o(h,"target","_blank"),o(h,"class","text-gray-300 font-medium underline"),o(u,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(e,"class","flex w-full flex-col pr-2")},m(E,w){O(E,e,w),n(e,t),n(t,a),n(e,i),n(e,r),ee(r,s[0].API_KEY_ALLOWED_ENDPOINTS),n(e,f),n(e,u),n(u,h),n(h,p),m||(g=se(r,"input",s[12]),m=!0)},p(E,w){w[0]&16&&l!==(l=E[4].t("Allowed Endpoints")+"")&&H(a,l),w[0]&1&&r.value!==E[0].API_KEY_ALLOWED_ENDPOINTS&&ee(r,E[0].API_KEY_ALLOWED_ENDPOINTS),w[0]&16&&b!==(b=E[4].t("To learn more about available endpoints, visit our documentation.")+"")&&H(p,b)},d(E){E&&c(e),m=!1,g()}}}function Tn(s){let e,t,l,a,i=s[4].t("Label")+"",r,f,u,h,b,p,m,g,E,w,k=s[4].t("Host")+"",I,y,T,$,S,N,V,C=s[4].t("Port")+"",R,U,Z,B,M,j,G,W=s[4].t("Application DN")+"",z,x,te,Y,Q,X,F=s[4].t("Application DN Password")+"",J,ae,ue,ne,De,ge,Pe,be,Re=s[4].t("Attribute for Mail")+"",$e,ie,le,Ee,ce,ke,Ie,Qe=s[4].t("Attribute for Username")+"",Je,ve,ye,fe,me,Oe,Me,He=s[4].t("Search Base")+"",Ce,Ge,je,$t,re,we,ht,mt=s[4].t("Search Filters")+"",gt,Ke,Ye,ct,Ut,At,Ae,We=s[4].t("Click here for filter guides.")+"",bt,ot,dt,rt,lt,et=s[4].t("TLS")+"",oe,Le,Tt,Xe,Ot,wt,it,Pt,zt;Z=new Zt({props:{placement:"top-start",content:s[4].t("Default to 389 or 636 if TLS is enabled"),className:"w-full",$$slots:{default:[uf]},$$scope:{ctx:s}}}),te=new Zt({props:{content:s[4].t("The Application Account DN you bind with for search"),placement:"top-start",$$slots:{default:[ff]},$$scope:{ctx:s}}});function qt(Te){s[26](Te)}let Dt={placeholder:s[4].t("Enter Application DN Password")};s[3].app_dn_password!==void 0&&(Dt.value=s[3].app_dn_password),ue=new Vl({props:Dt}),at.push(()=>ft(ue,"value",qt)),le=new Zt({props:{content:s[4].t("The LDAP attribute that maps to the mail that users use to sign in."),placement:"top-start",$$slots:{default:[cf]},$$scope:{ctx:s}}}),ye=new Zt({props:{content:s[4].t("The LDAP attribute that maps to the username that users use to sign in."),placement:"top-start",$$slots:{default:[df]},$$scope:{ctx:s}}}),je=new Zt({props:{content:s[4].t("The base to search for users"),placement:"top-start",$$slots:{default:[_f]},$$scope:{ctx:s}}});function Rt(Te){s[31](Te)}let Nt={};s[3].use_tls!==void 0&&(Nt.state=s[3].use_tls),Xe=new kl({props:Nt}),at.push(()=>ft(Xe,"state",Rt));let Ue=s[3].use_tls&&An(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=L(i),f=A(),u=d("input"),b=A(),p=d("div"),m=A(),g=d("div"),E=d("div"),w=d("div"),I=L(k),y=A(),T=d("input"),S=A(),N=d("div"),V=d("div"),R=L(C),U=A(),de(Z.$$.fragment),B=A(),M=d("div"),j=d("div"),G=d("div"),z=L(W),x=A(),de(te.$$.fragment),Y=A(),Q=d("div"),X=d("div"),J=L(F),ae=A(),de(ue.$$.fragment),De=A(),ge=d("div"),Pe=d("div"),be=d("div"),$e=L(Re),ie=A(),de(le.$$.fragment),Ee=A(),ce=d("div"),ke=d("div"),Ie=d("div"),Je=L(Qe),ve=A(),de(ye.$$.fragment),fe=A(),me=d("div"),Oe=d("div"),Me=d("div"),Ce=L(He),Ge=A(),de(je.$$.fragment),$t=A(),re=d("div"),we=d("div"),ht=d("div"),gt=L(mt),Ke=A(),Ye=d("input"),Ut=A(),At=d("div"),Ae=d("a"),bt=L(We),ot=A(),dt=d("div"),rt=d("div"),lt=d("div"),oe=L(et),Le=A(),Tt=d("div"),de(Xe.$$.fragment),wt=A(),Ue&&Ue.c(),this.h()},l(Te){e=_(Te,"DIV",{class:!0});var Ne=v(e);t=_(Ne,"DIV",{class:!0});var pt=v(t);l=_(pt,"DIV",{class:!0});var xe=v(l);a=_(xe,"DIV",{class:!0});var _t=v(a);r=P(_t,i),_t.forEach(c),f=D(xe),u=_(xe,"INPUT",{class:!0,placeholder:!0}),xe.forEach(c),b=D(pt),p=_(pt,"DIV",{class:!0}),v(p).forEach(c),pt.forEach(c),m=D(Ne),g=_(Ne,"DIV",{class:!0});var Kt=v(g);E=_(Kt,"DIV",{class:!0});var Lt=v(E);w=_(Lt,"DIV",{class:!0});var Bt=v(w);I=P(Bt,k),Bt.forEach(c),y=D(Lt),T=_(Lt,"INPUT",{class:!0,placeholder:!0}),Lt.forEach(c),S=D(Kt),N=_(Kt,"DIV",{class:!0});var Et=v(N);V=_(Et,"DIV",{class:!0});var Ze=v(V);R=P(Ze,C),Ze.forEach(c),U=D(Et),_e(Z.$$.fragment,Et),Et.forEach(c),Kt.forEach(c),B=D(Ne),M=_(Ne,"DIV",{class:!0});var Be=v(M);j=_(Be,"DIV",{class:!0});var tt=v(j);G=_(tt,"DIV",{class:!0});var kt=v(G);z=P(kt,W),kt.forEach(c),x=D(tt),_e(te.$$.fragment,tt),tt.forEach(c),Y=D(Be),Q=_(Be,"DIV",{class:!0});var Mt=v(Q);X=_(Mt,"DIV",{class:!0});var rl=v(X);J=P(rl,F),rl.forEach(c),ae=D(Mt),_e(ue.$$.fragment,Mt),Mt.forEach(c),Be.forEach(c),De=D(Ne),ge=_(Ne,"DIV",{class:!0});var tl=v(ge);Pe=_(tl,"DIV",{class:!0});var Ht=v(Pe);be=_(Ht,"DIV",{class:!0});var ul=v(be);$e=P(ul,Re),ul.forEach(c),ie=D(Ht),_e(le.$$.fragment,Ht),Ht.forEach(c),tl.forEach(c),Ee=D(Ne),ce=_(Ne,"DIV",{class:!0});var hl=v(ce);ke=_(hl,"DIV",{class:!0});var jt=v(ke);Ie=_(jt,"DIV",{class:!0});var Il=v(Ie);Je=P(Il,Qe),Il.forEach(c),ve=D(jt),_e(ye.$$.fragment,jt),jt.forEach(c),hl.forEach(c),fe=D(Ne),me=_(Ne,"DIV",{class:!0});var cl=v(me);Oe=_(cl,"DIV",{class:!0});var il=v(Oe);Me=_(il,"DIV",{class:!0});var yt=v(Me);Ce=P(yt,He),yt.forEach(c),Ge=D(il),_e(je.$$.fragment,il),il.forEach(c),cl.forEach(c),$t=D(Ne),re=_(Ne,"DIV",{class:!0});var dl=v(re);we=_(dl,"DIV",{class:!0});var Yt=v(we);ht=_(Yt,"DIV",{class:!0});var Qt=v(ht);gt=P(Qt,mt),Qt.forEach(c),Ke=D(Yt),Ye=_(Yt,"INPUT",{class:!0,placeholder:!0}),Yt.forEach(c),dl.forEach(c),Ut=D(Ne),At=_(Ne,"DIV",{class:!0});var Ml=v(At);Ae=_(Ml,"A",{class:!0,href:!0,target:!0});var pl=v(Ae);bt=P(pl,We),pl.forEach(c),Ml.forEach(c),ot=D(Ne),dt=_(Ne,"DIV",{});var Ft=v(dt);rt=_(Ft,"DIV",{class:!0});var Jt=v(rt);lt=_(Jt,"DIV",{class:!0});var Rl=v(lt);oe=P(Rl,et),Rl.forEach(c),Le=D(Jt),Tt=_(Jt,"DIV",{class:!0});var Pl=v(Tt);_e(Xe.$$.fragment,Pl),Pl.forEach(c),Jt.forEach(c),wt=D(Ft),Ue&&Ue.l(Ft),Ft.forEach(c),Ne.forEach(c),this.h()},h(){o(a,"class","self-center text-xs font-medium min-w-fit mb-1"),o(u,"class","w-full bg-transparent outline-none py-0.5"),u.required=!0,o(u,"placeholder",h=s[4].t("Enter server label")),o(l,"class","w-full"),o(p,"class","w-full"),o(t,"class","flex w-full gap-2"),o(w,"class","self-center text-xs font-medium min-w-fit mb-1"),o(T,"class","w-full bg-transparent outline-none py-0.5"),T.required=!0,o(T,"placeholder",$=s[4].t("Enter server host")),o(E,"class","w-full"),o(V,"class","self-center text-xs font-medium min-w-fit mb-1"),o(N,"class","w-full"),o(g,"class","flex w-full gap-2"),o(G,"class","self-center text-xs font-medium min-w-fit mb-1"),o(j,"class","w-full"),o(X,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Q,"class","w-full"),o(M,"class","flex w-full gap-2"),o(be,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Pe,"class","w-full"),o(ge,"class","flex w-full gap-2"),o(Ie,"class","self-center text-xs font-medium min-w-fit mb-1"),o(ke,"class","w-full"),o(ce,"class","flex w-full gap-2"),o(Me,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Oe,"class","w-full"),o(me,"class","flex w-full gap-2"),o(ht,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Ye,"class","w-full bg-transparent outline-none py-0.5"),o(Ye,"placeholder",ct=s[4].t("Example: (&(objectClass=inetOrgPerson)(uid=%s))")),o(we,"class","w-full"),o(re,"class","flex w-full gap-2"),o(Ae,"class","text-gray-300 font-medium underline"),o(Ae,"href","https://ldap.com/ldap-filters/"),o(Ae,"target","_blank"),o(At,"class","text-xs text-gray-400 dark:text-gray-500"),o(lt,"class","font-medium"),o(Tt,"class","mt-1"),o(rt,"class","flex justify-between items-center text-sm"),o(e,"class","flex flex-col gap-1")},m(Te,Ne){O(Te,e,Ne),n(e,t),n(t,l),n(l,a),n(a,r),n(l,f),n(l,u),ee(u,s[3].label),n(t,b),n(t,p),n(e,m),n(e,g),n(g,E),n(E,w),n(w,I),n(E,y),n(E,T),ee(T,s[3].host),n(g,S),n(g,N),n(N,V),n(V,R),n(N,U),he(Z,N,null),n(e,B),n(e,M),n(M,j),n(j,G),n(G,z),n(j,x),he(te,j,null),n(M,Y),n(M,Q),n(Q,X),n(X,J),n(Q,ae),he(ue,Q,null),n(e,De),n(e,ge),n(ge,Pe),n(Pe,be),n(be,$e),n(Pe,ie),he(le,Pe,null),n(e,Ee),n(e,ce),n(ce,ke),n(ke,Ie),n(Ie,Je),n(ke,ve),he(ye,ke,null),n(e,fe),n(e,me),n(me,Oe),n(Oe,Me),n(Me,Ce),n(Oe,Ge),he(je,Oe,null),n(e,$t),n(e,re),n(re,we),n(we,ht),n(ht,gt),n(we,Ke),n(we,Ye),ee(Ye,s[3].search_filters),n(e,Ut),n(e,At),n(At,Ae),n(Ae,bt),n(e,ot),n(e,dt),n(dt,rt),n(rt,lt),n(lt,oe),n(rt,Le),n(rt,Tt),he(Xe,Tt,null),n(dt,wt),Ue&&Ue.m(dt,null),it=!0,Pt||(zt=[se(u,"input",s[22]),se(T,"input",s[23]),se(Ye,"input",s[30])],Pt=!0)},p(Te,Ne){(!it||Ne[0]&16)&&i!==(i=Te[4].t("Label")+"")&&H(r,i),(!it||Ne[0]&16&&h!==(h=Te[4].t("Enter server label")))&&o(u,"placeholder",h),Ne[0]&8&&u.value!==Te[3].label&&ee(u,Te[3].label),(!it||Ne[0]&16)&&k!==(k=Te[4].t("Host")+"")&&H(I,k),(!it||Ne[0]&16&&$!==($=Te[4].t("Enter server host")))&&o(T,"placeholder",$),Ne[0]&8&&T.value!==Te[3].host&&ee(T,Te[3].host),(!it||Ne[0]&16)&&C!==(C=Te[4].t("Port")+"")&&H(R,C);const pt={};Ne[0]&16&&(pt.content=Te[4].t("Default to 389 or 636 if TLS is enabled")),Ne[0]&24|Ne[1]&32&&(pt.$$scope={dirty:Ne,ctx:Te}),Z.$set(pt),(!it||Ne[0]&16)&&W!==(W=Te[4].t("Application DN")+"")&&H(z,W);const xe={};Ne[0]&16&&(xe.content=Te[4].t("The Application Account DN you bind with for search")),Ne[0]&24|Ne[1]&32&&(xe.$$scope={dirty:Ne,ctx:Te}),te.$set(xe),(!it||Ne[0]&16)&&F!==(F=Te[4].t("Application DN Password")+"")&&H(J,F);const _t={};Ne[0]&16&&(_t.placeholder=Te[4].t("Enter Application DN Password")),!ne&&Ne[0]&8&&(ne=!0,_t.value=Te[3].app_dn_password,ut(()=>ne=!1)),ue.$set(_t),(!it||Ne[0]&16)&&Re!==(Re=Te[4].t("Attribute for Mail")+"")&&H($e,Re);const Kt={};Ne[0]&16&&(Kt.content=Te[4].t("The LDAP attribute that maps to the mail that users use to sign in.")),Ne[0]&24|Ne[1]&32&&(Kt.$$scope={dirty:Ne,ctx:Te}),le.$set(Kt),(!it||Ne[0]&16)&&Qe!==(Qe=Te[4].t("Attribute for Username")+"")&&H(Je,Qe);const Lt={};Ne[0]&16&&(Lt.content=Te[4].t("The LDAP attribute that maps to the username that users use to sign in.")),Ne[0]&24|Ne[1]&32&&(Lt.$$scope={dirty:Ne,ctx:Te}),ye.$set(Lt),(!it||Ne[0]&16)&&He!==(He=Te[4].t("Search Base")+"")&&H(Ce,He);const Bt={};Ne[0]&16&&(Bt.content=Te[4].t("The base to search for users")),Ne[0]&24|Ne[1]&32&&(Bt.$$scope={dirty:Ne,ctx:Te}),je.$set(Bt),(!it||Ne[0]&16)&&mt!==(mt=Te[4].t("Search Filters")+"")&&H(gt,mt),(!it||Ne[0]&16&&ct!==(ct=Te[4].t("Example: (&(objectClass=inetOrgPerson)(uid=%s))")))&&o(Ye,"placeholder",ct),Ne[0]&8&&Ye.value!==Te[3].search_filters&&ee(Ye,Te[3].search_filters),(!it||Ne[0]&16)&&We!==(We=Te[4].t("Click here for filter guides.")+"")&&H(bt,We),(!it||Ne[0]&16)&&et!==(et=Te[4].t("TLS")+"")&&H(oe,et);const Et={};!Ot&&Ne[0]&8&&(Ot=!0,Et.state=Te[3].use_tls,ut(()=>Ot=!1)),Xe.$set(Et),Te[3].use_tls?Ue?(Ue.p(Te,Ne),Ne[0]&8&&K(Ue,1)):(Ue=An(Te),Ue.c(),K(Ue,1),Ue.m(dt,null)):Ue&&(Vt(),q(Ue,1,1,()=>{Ue=null}),St())},i(Te){it||(K(Z.$$.fragment,Te),K(te.$$.fragment,Te),K(ue.$$.fragment,Te),K(le.$$.fragment,Te),K(ye.$$.fragment,Te),K(je.$$.fragment,Te),K(Xe.$$.fragment,Te),K(Ue),it=!0)},o(Te){q(Z.$$.fragment,Te),q(te.$$.fragment,Te),q(ue.$$.fragment,Te),q(le.$$.fragment,Te),q(ye.$$.fragment,Te),q(je.$$.fragment,Te),q(Xe.$$.fragment,Te),q(Ue),it=!1},d(Te){Te&&c(e),pe(Z),pe(te),pe(ue),pe(le),pe(ye),pe(je),pe(Xe),Ue&&Ue.d(),Pt=!1,ol(zt)}}}function uf(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-none py-0.5"),o(e,"type","number"),o(e,"placeholder",t=s[4].t("Enter server port"))},m(i,r){O(i,e,r),ee(e,s[3].port),l||(a=se(e,"input",s[24]),l=!0)},p(i,r){r[0]&16&&t!==(t=i[4].t("Enter server port"))&&o(e,"placeholder",t),r[0]&8&&Zl(e.value)!==i[3].port&&ee(e,i[3].port)},d(i){i&&c(e),l=!1,a()}}}function ff(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-none py-0.5"),e.required=!0,o(e,"placeholder",t=s[4].t("Enter Application DN"))},m(i,r){O(i,e,r),ee(e,s[3].app_dn),l||(a=se(e,"input",s[25]),l=!0)},p(i,r){r[0]&16&&t!==(t=i[4].t("Enter Application DN"))&&o(e,"placeholder",t),r[0]&8&&e.value!==i[3].app_dn&&ee(e,i[3].app_dn)},d(i){i&&c(e),l=!1,a()}}}function cf(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-none py-0.5"),e.required=!0,o(e,"placeholder",t=s[4].t("Example: mail"))},m(i,r){O(i,e,r),ee(e,s[3].attribute_for_mail),l||(a=se(e,"input",s[27]),l=!0)},p(i,r){r[0]&16&&t!==(t=i[4].t("Example: mail"))&&o(e,"placeholder",t),r[0]&8&&e.value!==i[3].attribute_for_mail&&ee(e,i[3].attribute_for_mail)},d(i){i&&c(e),l=!1,a()}}}function df(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-none py-0.5"),e.required=!0,o(e,"placeholder",t=s[4].t("Example: sAMAccountName or uid or userPrincipalName"))},m(i,r){O(i,e,r),ee(e,s[3].attribute_for_username),l||(a=se(e,"input",s[28]),l=!0)},p(i,r){r[0]&16&&t!==(t=i[4].t("Example: sAMAccountName or uid or userPrincipalName"))&&o(e,"placeholder",t),r[0]&8&&e.value!==i[3].attribute_for_username&&ee(e,i[3].attribute_for_username)},d(i){i&&c(e),l=!1,a()}}}function _f(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-none py-0.5"),e.required=!0,o(e,"placeholder",t=s[4].t("Example: ou=users,dc=foo,dc=example"))},m(i,r){O(i,e,r),ee(e,s[3].search_base),l||(a=se(e,"input",s[29]),l=!0)},p(i,r){r[0]&16&&t!==(t=i[4].t("Example: ou=users,dc=foo,dc=example"))&&o(e,"placeholder",t),r[0]&8&&e.value!==i[3].search_base&&ee(e,i[3].search_base)},d(i){i&&c(e),l=!1,a()}}}function An(s){let e,t,l,a=s[4].t("Certificate Path")+"",i,r,f,u,h,b,p,m,g=s[4].t("Ciphers")+"",E,w,k,I,y,T,$,S;return k=new Zt({props:{content:s[4].t("Default to ALL"),placement:"top-start",$$slots:{default:[hf]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("input"),h=A(),b=d("div"),p=d("div"),m=d("div"),E=L(g),w=A(),de(k.$$.fragment),I=A(),y=d("div"),this.h()},l(N){e=_(N,"DIV",{class:!0});var V=v(e);t=_(V,"DIV",{class:!0});var C=v(t);l=_(C,"DIV",{class:!0});var R=v(l);i=P(R,a),R.forEach(c),r=D(C),f=_(C,"INPUT",{class:!0,placeholder:!0}),C.forEach(c),V.forEach(c),h=D(N),b=_(N,"DIV",{class:!0});var U=v(b);p=_(U,"DIV",{class:!0});var Z=v(p);m=_(Z,"DIV",{class:!0});var B=v(m);E=P(B,g),B.forEach(c),w=D(Z),_e(k.$$.fragment,Z),Z.forEach(c),I=D(U),y=_(U,"DIV",{class:!0}),v(y).forEach(c),U.forEach(c),this.h()},h(){o(l,"class","self-center text-xs font-medium min-w-fit mb-1 mt-1"),o(f,"class","w-full bg-transparent outline-none py-0.5"),f.required=!0,o(f,"placeholder",u=s[4].t("Enter certificate path")),o(t,"class","w-full"),o(e,"class","flex w-full gap-2"),o(m,"class","self-center text-xs font-medium min-w-fit mb-1"),o(p,"class","w-full"),o(y,"class","w-full"),o(b,"class","flex w-full gap-2")},m(N,V){O(N,e,V),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),ee(f,s[3].certificate_path),O(N,h,V),O(N,b,V),n(b,p),n(p,m),n(m,E),n(p,w),he(k,p,null),n(b,I),n(b,y),T=!0,$||(S=se(f,"input",s[32]),$=!0)},p(N,V){(!T||V[0]&16)&&a!==(a=N[4].t("Certificate Path")+"")&&H(i,a),(!T||V[0]&16&&u!==(u=N[4].t("Enter certificate path")))&&o(f,"placeholder",u),V[0]&8&&f.value!==N[3].certificate_path&&ee(f,N[3].certificate_path),(!T||V[0]&16)&&g!==(g=N[4].t("Ciphers")+"")&&H(E,g);const C={};V[0]&16&&(C.content=N[4].t("Default to ALL")),V[0]&24|V[1]&32&&(C.$$scope={dirty:V,ctx:N}),k.$set(C)},i(N){T||(K(k.$$.fragment,N),T=!0)},o(N){q(k.$$.fragment,N),T=!1},d(N){N&&(c(e),c(h),c(b)),pe(k),$=!1,S()}}}function hf(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-none py-0.5"),o(e,"placeholder",t=s[4].t("Example: ALL"))},m(i,r){O(i,e,r),ee(e,s[3].ciphers),l||(a=se(e,"input",s[33]),l=!0)},p(i,r){r[0]&16&&t!==(t=i[4].t("Example: ALL"))&&o(e,"placeholder",t),r[0]&8&&e.value!==i[3].ciphers&&ee(e,i[3].ciphers)},d(i){i&&c(e),l=!1,a()}}}function pf(s){let e,t,l,a,i,r,f,u,h,b=s[4].t("LDAP")+"",p,m,g,E,w,k,I,y,T,$=s[4].t("Save")+"",S,N,V,C,R=s[0]!==null&&kn(s);function U(M){s[20](M)}let Z={};s[2]!==void 0&&(Z.state=s[2]),E=new kl({props:Z}),at.push(()=>ft(E,"state",U)),E.$on("change",s[21]);let B=s[2]&&Tn(s);return{c(){e=d("form"),t=d("div"),R&&R.c(),l=A(),a=d("hr"),i=A(),r=d("div"),f=d("div"),u=d("div"),h=d("div"),p=L(b),m=A(),g=d("div"),de(E.$$.fragment),k=A(),B&&B.c(),I=A(),y=d("div"),T=d("button"),S=L($),this.h()},l(M){e=_(M,"FORM",{class:!0});var j=v(e);t=_(j,"DIV",{class:!0});var G=v(t);R&&R.l(G),l=D(G),a=_(G,"HR",{class:!0}),i=D(G),r=_(G,"DIV",{class:!0});var W=v(r);f=_(W,"DIV",{class:!0});var z=v(f);u=_(z,"DIV",{class:!0});var x=v(u);h=_(x,"DIV",{class:!0});var te=v(h);p=P(te,b),te.forEach(c),m=D(x),g=_(x,"DIV",{class:!0});var Y=v(g);_e(E.$$.fragment,Y),Y.forEach(c),x.forEach(c),k=D(z),B&&B.l(z),z.forEach(c),W.forEach(c),G.forEach(c),I=D(j),y=_(j,"DIV",{class:!0});var Q=v(y);T=_(Q,"BUTTON",{class:!0,type:!0});var X=v(T);S=P(X,$),X.forEach(c),Q.forEach(c),j.forEach(c),this.h()},h(){o(a,"class","border-gray-50 dark:border-gray-850"),o(h,"class","font-medium"),o(g,"class","mt-1"),o(u,"class","flex justify-between items-center text-sm"),o(f,"class","mt-2 space-y-2 pr-1.5"),o(r,"class","space-y-3"),o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(T,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(T,"type","submit"),o(y,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(M,j){O(M,e,j),n(e,t),R&&R.m(t,null),n(t,l),n(t,a),n(t,i),n(t,r),n(r,f),n(f,u),n(u,h),n(h,p),n(u,m),n(u,g),he(E,g,null),n(f,k),B&&B.m(f,null),n(e,I),n(e,y),n(y,T),n(T,S),N=!0,V||(C=se(e,"submit",us(s[34])),V=!0)},p(M,j){M[0]!==null?R?(R.p(M,j),j[0]&1&&K(R,1)):(R=kn(M),R.c(),K(R,1),R.m(t,l)):R&&(Vt(),q(R,1,1,()=>{R=null}),St()),(!N||j[0]&16)&&b!==(b=M[4].t("LDAP")+"")&&H(p,b);const G={};!w&&j[0]&4&&(w=!0,G.state=M[2],ut(()=>w=!1)),E.$set(G),M[2]?B?(B.p(M,j),j[0]&4&&K(B,1)):(B=Tn(M),B.c(),K(B,1),B.m(f,null)):B&&(Vt(),q(B,1,1,()=>{B=null}),St()),(!N||j[0]&16)&&$!==($=M[4].t("Save")+"")&&H(S,$)},i(M){N||(K(R),K(E.$$.fragment,M),K(B),N=!0)},o(M){q(R),q(E.$$.fragment,M),q(B),N=!1},d(M){M&&c(e),R&&R.d(),pe(E),B&&B.d(),V=!1,C()}}}function vf(s,e,t){let l;const a=Dl("i18n");nl(s,a,F=>t(4,l=F));let{saveHandler:i}=e,r=null,f="",u=!1,h={label:"",host:"",port:"",attribute_for_mail:"mail",attribute_for_username:"uid",app_dn:"",app_dn_password:"",search_base:"",search_filters:"",use_tls:!1,certificate_path:"",ciphers:""};const b=async()=>{if(!u)return;await ku(localStorage.token,h).catch(J=>(ze.error(`${J}`),null))&&ze.success(l.t("LDAP server updated"))},p=async()=>{t(1,f=await Jo(localStorage.token,f));const F=await Eu(localStorage.token,r);await b(),F?i():ze.error(a.t("Failed to update settings"))};Fl(async()=>{await Promise.all([(async()=>{t(0,r=await mu(localStorage.token))})(),(async()=>{t(1,f=await Qo(localStorage.token))})(),(async()=>{t(3,h=await gu(localStorage.token))})()]);const F=await bu(localStorage.token);t(2,u=F.ENABLE_LDAP)});function m(F){s.$$.not_equal(r.ENABLE_SIGNUP,F)&&(r.ENABLE_SIGNUP=F,t(0,r))}function g(){r.DEFAULT_USER_ROLE=Ol(this),t(0,r)}function E(F){s.$$.not_equal(r.ENABLE_API_KEY,F)&&(r.ENABLE_API_KEY=F,t(0,r))}function w(F){s.$$.not_equal(r.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS,F)&&(r.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS=F,t(0,r))}function k(){r.API_KEY_ALLOWED_ENDPOINTS=this.value,t(0,r)}function I(F){s.$$.not_equal(r.SHOW_ADMIN_DETAILS,F)&&(r.SHOW_ADMIN_DETAILS=F,t(0,r))}function y(F){s.$$.not_equal(r.ENABLE_COMMUNITY_SHARING,F)&&(r.ENABLE_COMMUNITY_SHARING=F,t(0,r))}function T(F){s.$$.not_equal(r.ENABLE_MESSAGE_RATING,F)&&(r.ENABLE_MESSAGE_RATING=F,t(0,r))}function $(){r.WEBUI_URL=this.value,t(0,r)}function S(){r.JWT_EXPIRES_IN=this.value,t(0,r)}function N(){f=this.value,t(1,f)}function V(F){s.$$.not_equal(r.ENABLE_CHANNELS,F)&&(r.ENABLE_CHANNELS=F,t(0,r))}function C(F){u=F,t(2,u)}const R=async()=>{wu(localStorage.token,u)};function U(){h.label=this.value,t(3,h)}function Z(){h.host=this.value,t(3,h)}function B(){h.port=Zl(this.value),t(3,h)}function M(){h.app_dn=this.value,t(3,h)}function j(F){s.$$.not_equal(h.app_dn_password,F)&&(h.app_dn_password=F,t(3,h))}function G(){h.attribute_for_mail=this.value,t(3,h)}function W(){h.attribute_for_username=this.value,t(3,h)}function z(){h.search_base=this.value,t(3,h)}function x(){h.search_filters=this.value,t(3,h)}function te(F){s.$$.not_equal(h.use_tls,F)&&(h.use_tls=F,t(3,h))}function Y(){h.certificate_path=this.value,t(3,h)}function Q(){h.ciphers=this.value,t(3,h)}const X=async()=>{p()};return s.$$set=F=>{"saveHandler"in F&&t(7,i=F.saveHandler)},[r,f,u,h,l,a,p,i,m,g,E,w,k,I,y,T,$,S,N,V,C,R,U,Z,B,M,j,G,W,z,x,te,Y,Q,X]}class mf extends gl{constructor(e){super(),bl(this,e,vf,pf,ml,{saveHandler:7},null,[-1,-1])}}function Dn(s,e,t){const l=s.slice();return l[34]=e[t],l[35]=e,l[36]=t,l}function $n(s,e,t){const l=s.slice();return l[37]=e[t],l}function Vn(s,e,t){const l=s.slice();return l[40]=e[t],l[36]=t,l}function Sn(s,e,t){const l=s.slice();return l[10]=e[t],l[36]=t,l}function gf(s){let e,t,l,a;return l=new $s({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),de(l.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var f=v(t);_e(l.$$.fragment,f),f.forEach(c),r.forEach(c),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex justify-center h-full")},m(i,r){O(i,e,r),n(e,t),he(l,t,null),a=!0},p:vt,i(i){a||(K(l.$$.fragment,i),a=!0)},o(i){q(l.$$.fragment,i),a=!1},d(i){i&&c(e),pe(l)}}}function bf(s){let e,t,l=s[9].t("Manage Pipelines")+"",a,i,r,f,u,h;const b=[wf,Ef],p=[];function m(g,E){return g[3].length>0?0:1}return r=m(s),f=p[r]=b[r](s),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),f.c(),u=xt(),this.h()},l(g){e=_(g,"DIV",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);a=P(w,l),w.forEach(c),E.forEach(c),i=D(g),f.l(g),u=xt(),this.h()},h(){o(t,"class","self-center text-sm font-semibold"),o(e,"class","flex w-full justify-between mb-2")},m(g,E){O(g,e,E),n(e,t),n(t,a),O(g,i,E),p[r].m(g,E),O(g,u,E),h=!0},p(g,E){(!h||E[0]&512)&&l!==(l=g[9].t("Manage Pipelines")+"")&&H(a,l);let w=r;r=m(g),r===w?p[r].p(g,E):(Vt(),q(p[w],1,1,()=>{p[w]=null}),St(),f=p[r],f?f.p(g,E):(f=p[r]=b[r](g),f.c()),K(f,1),f.m(u.parentNode,u))},i(g){h||(K(f),h=!0)},o(g){q(f),h=!1},d(g){g&&(c(e),c(i),c(u)),p[r].d(g)}}}function Ef(s){let e,t=s[9].t("Pipelines Not Detected")+"",l;return{c(){e=d("div"),l=L(t)},l(a){e=_(a,"DIV",{});var i=v(e);l=P(i,t),i.forEach(c)},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&512&&t!==(t=a[9].t("Pipelines Not Detected")+"")&&H(l,t)},i:vt,o:vt,d(a){a&&c(e)}}}function wf(s){let e,t,l,a,i,r=s[9].t("Select a pipeline url")+"",f,u,h,b,p,m=s[9].t("Upload Pipeline")+"",g,E,w,k,I,y,T,$,S,N,V,C,R=s[9].t("Install from Github URL")+"",U,Z,B,M,j,G,W,z,x,te,Y=`<span class="font-semibold dark:text-gray-200">Warning:</span> Pipelines are a plugin
						system with arbitrary code execution —
						<span class="font-medium dark:text-gray-400">don&#39;t fetch random pipelines from sources you don&#39;t trust.</span>`,Q,X,F,J,ae,ue,ne,De,ge,Pe=It(s[3]),be=[];for(let fe=0;fe<Pe.length;fe+=1)be[fe]=Nn(Sn(s,Pe,fe));function Re(fe,me){return fe[2]?If:kf}let $e=Re(s),ie=$e(s);function le(fe,me){return fe[1]?Tf:yf}let Ee=le(s),ce=Ee(s);function ke(fe,me){return fe[0]?Df:Af}let Ie=ke(s),Qe=Ie(s);const Je=[Vf,$f],ve=[];function ye(fe,me){return fe[10]!==null?0:1}return J=ye(s),ae=ve[J]=Je[J](s),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("select"),i=d("option"),f=L(r);for(let fe=0;fe<be.length;fe+=1)be[fe].c();h=A(),b=d("div"),p=d("div"),g=L(m),E=A(),w=d("div"),k=d("div"),I=d("input"),y=A(),T=d("button"),ie.c(),$=A(),S=d("button"),ce.c(),N=A(),V=d("div"),C=d("div"),U=L(R),Z=A(),B=d("div"),M=d("div"),j=d("input"),W=A(),z=d("button"),Qe.c(),x=A(),te=d("div"),te.innerHTML=Y,Q=A(),X=d("hr"),F=A(),ae.c(),ue=xt(),this.h()},l(fe){e=_(fe,"DIV",{class:!0});var me=v(e);t=_(me,"DIV",{class:!0});var Oe=v(t);l=_(Oe,"DIV",{class:!0});var Me=v(l);a=_(Me,"SELECT",{class:!0,placeholder:!0});var He=v(a);i=_(He,"OPTION",{class:!0});var Ce=v(i);f=P(Ce,r),Ce.forEach(c);for(let Ut=0;Ut<be.length;Ut+=1)be[Ut].l(He);He.forEach(c),Me.forEach(c),Oe.forEach(c),me.forEach(c),h=D(fe),b=_(fe,"DIV",{class:!0});var Ge=v(b);p=_(Ge,"DIV",{class:!0});var je=v(p);g=P(je,m),je.forEach(c),E=D(Ge),w=_(Ge,"DIV",{class:!0});var $t=v(w);k=_($t,"DIV",{class:!0});var re=v(k);I=_(re,"INPUT",{id:!0,type:!0,accept:!0}),y=D(re),T=_(re,"BUTTON",{class:!0,type:!0});var we=v(T);ie.l(we),we.forEach(c),re.forEach(c),$=D($t),S=_($t,"BUTTON",{class:!0,type:!0});var ht=v(S);ce.l(ht),ht.forEach(c),$t.forEach(c),Ge.forEach(c),N=D(fe),V=_(fe,"DIV",{class:!0});var mt=v(V);C=_(mt,"DIV",{class:!0});var gt=v(C);U=P(gt,R),gt.forEach(c),Z=D(mt),B=_(mt,"DIV",{class:!0});var Ke=v(B);M=_(Ke,"DIV",{class:!0});var Ye=v(M);j=_(Ye,"INPUT",{class:!0,placeholder:!0}),Ye.forEach(c),W=D(Ke),z=_(Ke,"BUTTON",{class:!0,type:!0});var ct=v(z);Qe.l(ct),ct.forEach(c),Ke.forEach(c),x=D(mt),te=_(mt,"DIV",{class:!0,"data-svelte-h":!0}),Gt(te)!=="svelte-ob7r3n"&&(te.innerHTML=Y),mt.forEach(c),Q=D(fe),X=_(fe,"HR",{class:!0}),F=D(fe),ae.l(fe),ue=xt(),this.h()},h(){i.__value="",ee(i,i.__value),i.selected=!0,i.disabled=!0,o(i,"class","bg-gray-100 dark:bg-gray-700"),o(a,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(a,"placeholder",u=s[9].t("Select a pipeline url")),s[4]===void 0&&Ll(()=>s[19].call(a)),o(l,"class","flex-1"),o(t,"class","flex gap-2"),o(e,"class","space-y-1"),o(p,"class","mb-2 text-sm font-medium"),o(I,"id","pipelines-upload-input"),o(I,"type","file"),o(I,"accept",".py"),I.hidden=!0,o(T,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),o(T,"type","button"),o(k,"class","flex-1 mr-2"),o(S,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),S.disabled=s[1],o(S,"type","button"),o(w,"class","flex w-full"),o(b,"class","my-2"),o(C,"class","mb-2 text-sm font-medium"),o(j,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(j,"placeholder",G=s[9].t("Enter Github Raw URL")),o(M,"class","flex-1 mr-2"),o(z,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),z.disabled=s[0],o(z,"type","button"),o(B,"class","flex w-full"),o(te,"class","mt-2 text-xs text-gray-500"),o(V,"class","my-2"),o(X,"class","dark:border-gray-800 my-3 w-full")},m(fe,me){O(fe,e,me),n(e,t),n(t,l),n(l,a),n(a,i),n(i,f);for(let Oe=0;Oe<be.length;Oe+=1)be[Oe]&&be[Oe].m(a,null);Xt(a,s[4],!0),O(fe,h,me),O(fe,b,me),n(b,p),n(p,g),n(b,E),n(b,w),n(w,k),n(k,I),n(k,y),n(k,T),ie.m(T,null),n(w,$),n(w,S),ce.m(S,null),O(fe,N,me),O(fe,V,me),n(V,C),n(C,U),n(V,Z),n(V,B),n(B,M),n(M,j),ee(j,s[8]),n(B,W),n(B,z),Qe.m(z,null),n(V,x),n(V,te),O(fe,Q,me),O(fe,X,me),O(fe,F,me),ve[J].m(fe,me),O(fe,ue,me),ne=!0,De||(ge=[se(a,"change",s[19]),se(a,"change",s[20]),se(I,"change",s[21]),se(T,"click",s[22]),se(S,"click",s[23]),se(j,"input",s[24]),se(z,"click",s[25])],De=!0)},p(fe,me){if((!ne||me[0]&512)&&r!==(r=fe[9].t("Select a pipeline url")+"")&&H(f,r),me[0]&8){Pe=It(fe[3]);let Me;for(Me=0;Me<Pe.length;Me+=1){const He=Sn(fe,Pe,Me);be[Me]?be[Me].p(He,me):(be[Me]=Nn(He),be[Me].c(),be[Me].m(a,null))}for(;Me<be.length;Me+=1)be[Me].d(1);be.length=Pe.length}(!ne||me[0]&512&&u!==(u=fe[9].t("Select a pipeline url")))&&o(a,"placeholder",u),me[0]&24&&Xt(a,fe[4]),(!ne||me[0]&512)&&m!==(m=fe[9].t("Upload Pipeline")+"")&&H(g,m),$e===($e=Re(fe))&&ie?ie.p(fe,me):(ie.d(1),ie=$e(fe),ie&&(ie.c(),ie.m(T,null))),Ee!==(Ee=le(fe))&&(ce.d(1),ce=Ee(fe),ce&&(ce.c(),ce.m(S,null))),(!ne||me[0]&2)&&(S.disabled=fe[1]),(!ne||me[0]&512)&&R!==(R=fe[9].t("Install from Github URL")+"")&&H(U,R),(!ne||me[0]&512&&G!==(G=fe[9].t("Enter Github Raw URL")))&&o(j,"placeholder",G),me[0]&256&&j.value!==fe[8]&&ee(j,fe[8]),Ie!==(Ie=ke(fe))&&(Qe.d(1),Qe=Ie(fe),Qe&&(Qe.c(),Qe.m(z,null))),(!ne||me[0]&1)&&(z.disabled=fe[0]);let Oe=J;J=ye(fe),J===Oe?ve[J].p(fe,me):(Vt(),q(ve[Oe],1,1,()=>{ve[Oe]=null}),St(),ae=ve[J],ae?ae.p(fe,me):(ae=ve[J]=Je[J](fe),ae.c()),K(ae,1),ae.m(ue.parentNode,ue))},i(fe){ne||(K(ae),ne=!0)},o(fe){q(ae),ne=!1},d(fe){fe&&(c(e),c(h),c(b),c(N),c(V),c(Q),c(X),c(F),c(ue)),_l(be,fe),ie.d(),ce.d(),Qe.d(),ve[J].d(fe),De=!1,ol(ge)}}}function Nn(s){let e,t=s[10].url+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var r=v(e);l=P(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[10].idx.toString(),ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&8&&t!==(t=i[10].url+"")&&H(l,t),r[0]&8&&a!==(a=i[10].idx.toString())&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function kf(s){let e=s[9].t("Click here to select a py file.")+"",t;return{c(){t=L(e)},l(l){t=P(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&512&&e!==(e=l[9].t("Click here to select a py file.")+"")&&H(t,e)},d(l){l&&c(t)}}}function If(s){let e=s[2].length>0?`${s[2].length}`:"",t,l;return{c(){t=L(e),l=L(" pipeline(s) selected.")},l(a){t=P(a,e),l=P(a," pipeline(s) selected.")},m(a,i){O(a,t,i),O(a,l,i)},p(a,i){i[0]&4&&e!==(e=a[2].length>0?`${a[2].length}`:"")&&H(t,e)},d(a){a&&(c(t),c(l))}}}function yf(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","size-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function Tf(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function Af(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function Df(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function $f(s){let e,t,l,a;return l=new $s({props:{className:"size-4"}}),{c(){e=d("div"),t=d("div"),de(l.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var f=v(t);_e(l.$$.fragment,f),f.forEach(c),r.forEach(c),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex justify-center")},m(i,r){O(i,e,r),n(e,t),he(l,t,null),a=!0},p:vt,i(i){a||(K(l.$$.fragment,i),a=!0)},o(i){q(l.$$.fragment,i),a=!1},d(i){i&&c(e),pe(l)}}}function Vf(s){let e,t,l,a;const i=[Nf,Sf],r=[];function f(u,h){return u[10].length>0?0:u[10].length===0?1:-1}return~(e=f(s))&&(t=r[e]=i[e](s)),{c(){t&&t.c(),l=xt()},l(u){t&&t.l(u),l=xt()},m(u,h){~e&&r[e].m(u,h),O(u,l,h),a=!0},p(u,h){let b=e;e=f(u),e===b?~e&&r[e].p(u,h):(t&&(Vt(),q(r[b],1,1,()=>{r[b]=null}),St()),~e?(t=r[e],t?t.p(u,h):(t=r[e]=i[e](u),t.c()),K(t,1),t.m(l.parentNode,l)):t=null)},i(u){a||(K(t),a=!0)},o(u){q(t),a=!1},d(u){u&&c(l),~e&&r[e].d(u)}}}function Sf(s){let e,t="Pipelines Not Detected";return{c(){e=d("div"),e.textContent=t},l(l){e=_(l,"DIV",{"data-svelte-h":!0}),Gt(e)!=="svelte-nrqgpw"&&(e.textContent=t)},m(l,a){O(l,e,a)},p:vt,i:vt,o:vt,d(l){l&&c(e)}}}function Nf(s){let e,t,l=s[9].t("Pipelines Valves")+"",a,i,r,f,u,h,b,p,m=s[10].length>0&&Mn(s);const g=[Of,Mf],E=[];function w(k,I){return k[10][k[7]].valves?0:1}return h=w(s),b=E[h]=g[h](s),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),m&&m.c(),f=A(),u=d("div"),b.c(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var y=v(t);a=P(y,l),y.forEach(c),I.forEach(c),i=D(k),r=_(k,"DIV",{class:!0});var T=v(r);m&&m.l(T),f=D(T),u=_(T,"DIV",{class:!0});var $=v(u);b.l($),$.forEach(c),T.forEach(c),this.h()},h(){o(t,"class","self-center text-sm font-semibold"),o(e,"class","flex w-full justify-between mb-2"),o(u,"class","space-y-1"),o(r,"class","space-y-1")},m(k,I){O(k,e,I),n(e,t),n(t,a),O(k,i,I),O(k,r,I),m&&m.m(r,null),n(r,f),n(r,u),E[h].m(u,null),p=!0},p(k,I){(!p||I[0]&512)&&l!==(l=k[9].t("Pipelines Valves")+"")&&H(a,l),k[10].length>0?m?m.p(k,I):(m=Mn(k),m.c(),m.m(r,f)):m&&(m.d(1),m=null);let y=h;h=w(k),h===y?E[h].p(k,I):(Vt(),q(E[y],1,1,()=>{E[y]=null}),St(),b=E[h],b?b.p(k,I):(b=E[h]=g[h](k),b.c()),K(b,1),b.m(u,null))},i(k){p||(K(b),p=!0)},o(k){q(b),p=!1},d(k){k&&(c(e),c(i),c(r)),m&&m.d(),E[h].d()}}}function Mn(s){let e,t,l,a,i,r,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',u,h,b=It(s[10]),p=[];for(let m=0;m<b.length;m+=1)p[m]=On(Vn(s,b,m));return{c(){e=d("div"),t=d("div"),l=d("select");for(let m=0;m<p.length;m+=1)p[m].c();i=A(),r=d("button"),r.innerHTML=f,this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);l=_(E,"SELECT",{class:!0,placeholder:!0});var w=v(l);for(let k=0;k<p.length;k+=1)p[k].l(w);w.forEach(c),E.forEach(c),i=D(g),r=_(g,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Gt(r)!=="svelte-121ij38"&&(r.innerHTML=f),g.forEach(c),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[9].t("Select a pipeline")),s[7]===void 0&&Ll(()=>s[26].call(l)),o(t,"class","flex-1"),o(r,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(r,"type","button"),o(e,"class","flex gap-2")},m(m,g){O(m,e,g),n(e,t),n(t,l);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(l,null);Xt(l,s[7],!0),n(e,i),n(e,r),u||(h=[se(l,"change",s[26]),se(l,"change",s[27]),se(r,"click",s[28])],u=!0)},p(m,g){if(g[0]&1024){b=It(m[10]);let E;for(E=0;E<b.length;E+=1){const w=Vn(m,b,E);p[E]?p[E].p(w,g):(p[E]=On(w),p[E].c(),p[E].m(l,null))}for(;E<p.length;E+=1)p[E].d(1);p.length=b.length}g[0]&512&&a!==(a=m[9].t("Select a pipeline"))&&o(l,"placeholder",a),g[0]&128&&Xt(l,m[7])},d(m){m&&c(e),_l(p,m),u=!1,ol(h)}}}function On(s){let e,t=s[40].name+"",l,a,i=(s[40].type??"pipe")+"",r,f;return{c(){e=d("option"),l=L(t),a=L(" ("),r=L(i),f=L(")"),this.h()},l(u){e=_(u,"OPTION",{class:!0});var h=v(e);l=P(h,t),a=P(h," ("),r=P(h,i),f=P(h,")"),h.forEach(c),this.h()},h(){e.__value=s[36],ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(u,h){O(u,e,h),n(e,l),n(e,a),n(e,r),n(e,f)},p(u,h){h[0]&1024&&t!==(t=u[40].name+"")&&H(l,t),h[0]&1024&&i!==(i=(u[40].type??"pipe")+"")&&H(r,i)},d(u){u&&c(e)}}}function Mf(s){let e,t="No valves";return{c(){e=d("div"),e.textContent=t},l(l){e=_(l,"DIV",{"data-svelte-h":!0}),Gt(e)!=="svelte-gfhjqw"&&(e.textContent=t)},m(l,a){O(l,e,a)},p:vt,i:vt,o:vt,d(l){l&&c(e)}}}function Of(s){let e,t,l,a;const i=[Pf,Lf],r=[];function f(u,h){return u[5]?0:1}return e=f(s),t=r[e]=i[e](s),{c(){t.c(),l=xt()},l(u){t.l(u),l=xt()},m(u,h){r[e].m(u,h),O(u,l,h),a=!0},p(u,h){let b=e;e=f(u),e===b?r[e].p(u,h):(Vt(),q(r[b],1,1,()=>{r[b]=null}),St(),t=r[e],t?t.p(u,h):(t=r[e]=i[e](u),t.c()),K(t,1),t.m(l.parentNode,l))},i(u){a||(K(t),a=!0)},o(u){q(t),a=!1},d(u){u&&c(l),r[e].d(u)}}}function Lf(s){let e,t;return e=new $s({props:{className:"size-5"}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function Pf(s){let e,t,l=It(Object.keys(s[6].properties)),a=[];for(let r=0;r<l.length;r+=1)a[r]=Un(Dn(s,l,r));const i=r=>q(a[r],1,1,()=>{a[r]=null});return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=xt()},l(r){for(let f=0;f<a.length;f+=1)a[f].l(r);e=xt()},m(r,f){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(r,f);O(r,e,f),t=!0},p(r,f){if(f[0]&608){l=It(Object.keys(r[6].properties));let u;for(u=0;u<l.length;u+=1){const h=Dn(r,l,u);a[u]?(a[u].p(h,f),K(a[u],1)):(a[u]=Un(h),a[u].c(),K(a[u],1),a[u].m(e.parentNode,e))}for(Vt(),u=l.length;u<a.length;u+=1)i(u);St()}},i(r){if(!t){for(let f=0;f<l.length;f+=1)K(a[f]);t=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)q(a[f]);t=!1},d(r){r&&c(e),_l(a,r)}}}function Uf(s){let e,t=s[9].t("Custom")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&512&&t!==(t=a[9].t("Custom")+"")&&H(l,t)},d(a){a&&c(e)}}}function Cf(s){let e,t=s[9].t("None")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&512&&t!==(t=a[9].t("None")+"")&&H(l,t)},d(a){a&&c(e)}}}function Ln(s){let e,t,l,a,i;const r=[Hf,Bf,Rf],f=[];function u(h,b){var p,m;return((p=h[6].properties[h[34]])==null?void 0:p.enum)??null?0:(((m=h[6].properties[h[34]])==null?void 0:m.type)??null)==="boolean"?1:2}return l=u(s),a=f[l]=r[l](s),{c(){e=d("div"),t=d("div"),a.c(),this.h()},l(h){e=_(h,"DIV",{class:!0});var b=v(e);t=_(b,"DIV",{class:!0});var p=v(t);a.l(p),p.forEach(c),b.forEach(c),this.h()},h(){o(t,"class","flex-1"),o(e,"class","flex mt-0.5 mb-1.5 space-x-2")},m(h,b){O(h,e,b),n(e,t),f[l].m(t,null),i=!0},p(h,b){let p=l;l=u(h),l===p?f[l].p(h,b):(Vt(),q(f[p],1,1,()=>{f[p]=null}),St(),a=f[l],a?a.p(h,b):(a=f[l]=r[l](h),a.c()),K(a,1),a.m(t,null))},i(h){i||(K(a),i=!0)},o(h){q(a),i=!1},d(h){h&&c(e),f[l].d()}}}function Rf(s){let e,t,l,a;function i(){s[32].call(e,s[34])}return{c(){e=d("input"),this.h()},l(r){e=_(r,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"type","text"),o(e,"placeholder",t=s[6].properties[s[34]].title),o(e,"autocomplete","off"),e.required=!0},m(r,f){O(r,e,f),ee(e,s[5][s[34]]),l||(a=se(e,"input",i),l=!0)},p(r,f){s=r,f[0]&64&&t!==(t=s[6].properties[s[34]].title)&&o(e,"placeholder",t),f[0]&96&&e.value!==s[5][s[34]]&&ee(e,s[5][s[34]])},i:vt,o:vt,d(r){r&&c(e),l=!1,a()}}}function Bf(s){let e,t,l=s[5][s[34]]?"Enabled":"Disabled",a,i,r,f,u,h;function b(m){s[31](m,s[34])}let p={};return s[5][s[34]]!==void 0&&(p.state=s[5][s[34]]),f=new kl({props:p}),at.push(()=>ft(f,"state",b)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),de(f.$$.fragment),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=P(E,l),E.forEach(c),i=D(g),r=_(g,"DIV",{class:!0});var w=v(r);_e(f.$$.fragment,w),w.forEach(c),g.forEach(c),this.h()},h(){o(t,"class","text-xs text-gray-500"),o(r,"class","pr-2"),o(e,"class","flex justify-between items-center")},m(m,g){O(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),he(f,r,null),h=!0},p(m,g){s=m,(!h||g[0]&96)&&l!==(l=s[5][s[34]]?"Enabled":"Disabled")&&H(a,l);const E={};!u&&g[0]&96&&(u=!0,E.state=s[5][s[34]],ut(()=>u=!1)),f.$set(E)},i(m){h||(K(f.$$.fragment,m),h=!0)},o(m){q(f.$$.fragment,m),h=!1},d(m){m&&c(e),pe(f)}}}function Hf(s){let e,t,l,a=It(s[6].properties[s[34]].enum),i=[];for(let f=0;f<a.length;f+=1)i[f]=Pn($n(s,a,f));function r(){s[30].call(e,s[34])}return{c(){e=d("select");for(let f=0;f<i.length;f+=1)i[f].c();this.h()},l(f){e=_(f,"SELECT",{class:!0});var u=v(e);for(let h=0;h<i.length;h+=1)i[h].l(u);u.forEach(c),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),s[5][s[34]]===void 0&&Ll(r)},m(f,u){O(f,e,u);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(e,null);Xt(e,s[5][s[34]],!0),t||(l=se(e,"change",r),t=!0)},p(f,u){if(s=f,u[0]&96){a=It(s[6].properties[s[34]].enum);let h;for(h=0;h<a.length;h+=1){const b=$n(s,a,h);i[h]?i[h].p(b,u):(i[h]=Pn(b),i[h].c(),i[h].m(e,null))}for(;h<i.length;h+=1)i[h].d(1);i.length=a.length}u[0]&96&&Xt(e,s[5][s[34]])},i:vt,o:vt,d(f){f&&c(e),_l(i,f),t=!1,l()}}}function Pn(s){let e,t=s[37]+"",l,a,i,r;return{c(){e=d("option"),l=L(t),a=A(),this.h()},l(f){e=_(f,"OPTION",{});var u=v(e);l=P(u,t),a=D(u),u.forEach(c),this.h()},h(){e.__value=i=s[37],ee(e,e.__value),e.selected=r=s[37]===s[5][s[34]]},m(f,u){O(f,e,u),n(e,l),n(e,a)},p(f,u){u[0]&64&&t!==(t=f[37]+"")&&H(l,t),u[0]&64&&i!==(i=f[37])&&(e.__value=i,ee(e,e.__value)),u[0]&96&&r!==(r=f[37]===f[5][f[34]])&&(e.selected=r)},d(f){f&&c(e)}}}function Un(s){let e,t,l,a=s[6].properties[s[34]].title+"",i,r,f,u,h,b,p,m;function g(y,T){return(y[5][y[34]]??null)===null?Cf:Uf}let E=g(s),w=E(s);function k(){return s[29](s[34])}let I=(s[5][s[34]]??null)!==null&&Ln(s);return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("button"),w.c(),u=A(),I&&I.c(),h=A(),this.h()},l(y){e=_(y,"DIV",{class:!0});var T=v(e);t=_(T,"DIV",{class:!0});var $=v(t);l=_($,"DIV",{class:!0});var S=v(l);i=P(S,a),S.forEach(c),r=D($),f=_($,"BUTTON",{class:!0,type:!0});var N=v(f);w.l(N),N.forEach(c),$.forEach(c),u=D(T),I&&I.l(T),h=D(T),T.forEach(c),this.h()},h(){o(l,"class","self-center text-xs font-medium"),o(f,"class","p-1 px-3 text-xs flex rounded transition"),o(f,"type","button"),o(t,"class","flex w-full justify-between"),o(e,"class","py-0.5 w-full justify-between")},m(y,T){O(y,e,T),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),w.m(f,null),n(e,u),I&&I.m(e,null),n(e,h),b=!0,p||(m=se(f,"click",k),p=!0)},p(y,T){s=y,(!b||T[0]&64)&&a!==(a=s[6].properties[s[34]].title+"")&&H(i,a),E===(E=g(s))&&w?w.p(s,T):(w.d(1),w=E(s),w&&(w.c(),w.m(f,null))),(s[5][s[34]]??null)!==null?I?(I.p(s,T),T[0]&96&&K(I,1)):(I=Ln(s),I.c(),K(I,1),I.m(e,h)):I&&(Vt(),q(I,1,1,()=>{I=null}),St())},i(y){b||(K(I),b=!0)},o(y){q(I),b=!1},d(y){y&&c(e),w.d(),I&&I.d(),p=!1,m()}}}function Cn(s){let e,t,l=s[9].t("Save")+"",a;return{c(){e=d("div"),t=d("button"),a=L(l),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"BUTTON",{class:!0,type:!0});var f=v(t);a=P(f,l),f.forEach(c),r.forEach(c),this.h()},h(){o(t,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(t,"type","submit"),o(e,"class","flex justify-end pt-3 text-sm font-medium")},m(i,r){O(i,e,r),n(e,t),n(t,a)},p(i,r){r[0]&512&&l!==(l=i[9].t("Save")+"")&&H(a,l)},d(i){i&&c(e)}}}function jf(s){let e,t,l,a,i,r,f,u;const h=[bf,gf],b=[];function p(g,E){return g[3]!==null?0:1}l=p(s),a=b[l]=h[l](s);let m=s[3]!==null&&s[3].length>0&&Cn(s);return{c(){e=d("form"),t=d("div"),a.c(),i=A(),m&&m.c(),this.h()},l(g){e=_(g,"FORM",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);a.l(w),w.forEach(c),i=D(E),m&&m.l(E),E.forEach(c),this.h()},h(){o(t,"class","overflow-y-scroll scrollbar-hidden h-full"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(g,E){O(g,e,E),n(e,t),b[l].m(t,null),n(e,i),m&&m.m(e,null),r=!0,f||(u=se(e,"submit",us(s[33])),f=!0)},p(g,E){let w=l;l=p(g),l===w?b[l].p(g,E):(Vt(),q(b[w],1,1,()=>{b[w]=null}),St(),a=b[l],a?a.p(g,E):(a=b[l]=h[l](g),a.c()),K(a,1),a.m(t,null)),g[3]!==null&&g[3].length>0?m?m.p(g,E):(m=Cn(g),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i(g){r||(K(a),r=!0)},o(g){q(a),r=!1},d(g){g&&c(e),b[l].d(),m&&m.d(),f=!1,u()}}}function Gf(s,e,t){let l;const a=Dl("i18n");nl(s,a,Q=>t(9,l=Q));let{saveHandler:i}=e,r=!1,f=!1,u,h=null,b="",p=null,m=null,g=null,E=null,w="";const k=async()=>{var X;const Q=p[E];if(Q&&((Q==null?void 0:Q.valves)??!1)){for(const J in g.properties)((X=g.properties[J])==null?void 0:X.type)==="array"&&t(5,m[J]=m[J].split(",").map(ae=>ae.trim()),m);await xo(localStorage.token,Q.id,m,b).catch(J=>{ze.error(`${J}`)})&&(ze.success(l.t("Valves updated successfully")),y(),Nl.set(await ql(localStorage.token)),i())}else ze.error(l.t("No valves to update"))},I=async Q=>{var X;t(5,m=null),t(6,g=null),t(6,g=await eu(localStorage.token,p[Q].id,b)),t(5,m=await tu(localStorage.token,p[Q].id,b));for(const F in g.properties)((X=g.properties[F])==null?void 0:X.type)==="array"&&t(5,m[F]=m[F].join(","),m)},y=async()=>{t(10,p=null),t(5,m=null),t(6,g=null),h.length>0?(console.log(b),t(10,p=await lu(localStorage.token,b)),p.length>0&&(t(7,E=0),await I(E))):t(10,p=[])},T=async()=>{t(0,r=!0),await su(localStorage.token,w,b).catch(X=>(ze.error(`${X}`),null))&&(ze.success(l.t("Pipeline downloaded successfully")),y(),Nl.set(await ql(localStorage.token))),t(0,r=!1)},$=async()=>{if(t(1,f=!0),u&&u.length!==0){const X=u[0];console.log(X),await ru(localStorage.token,X,b).catch(J=>(console.log(J),ze.error("Something went wrong :/"),null))&&(ze.success(l.t("Pipeline downloaded successfully")),y(),Nl.set(await ql(localStorage.token)))}else ze.error(l.t("No file selected"));t(2,u=null);const Q=document.getElementById("pipelines-upload-input");Q&&(Q.value=null),t(1,f=!1)},S=async()=>{await au(localStorage.token,p[E].id,b).catch(X=>(ze.error(`${X}`),null))&&(ze.success(l.t("Pipeline deleted successfully")),y(),Nl.set(await ql(localStorage.token)))};Fl(async()=>{t(3,h=await Xo(localStorage.token)),console.log(h),h.length>0&&t(4,b=h[0].idx.toString()),await y()});function N(){b=Ol(this),t(4,b),t(3,h)}const V=async()=>{await ba(),await y()};function C(){u=this.files,t(2,u)}const R=()=>{var Q;(Q=document.getElementById("pipelines-upload-input"))==null||Q.click()},U=()=>{$()};function Z(){w=this.value,t(8,w)}const B=()=>{T()};function M(){E=Ol(this),t(7,E)}const j=async()=>{await ba(),await I(E)},G=()=>{S()},W=Q=>{t(5,m[Q]=(m[Q]??null)===null?"":null,m)};function z(Q){m[Q]=Ol(this),t(5,m),t(6,g)}function x(Q,X){s.$$.not_equal(m[X],Q)&&(m[X]=Q,t(5,m))}function te(Q){m[Q]=this.value,t(5,m),t(6,g)}const Y=async()=>{k()};return s.$$set=Q=>{"saveHandler"in Q&&t(18,i=Q.saveHandler)},[r,f,u,h,b,m,g,E,w,l,p,a,k,I,y,T,$,S,i,N,V,C,R,U,Z,B,M,j,G,W,z,x,te,Y]}class Kf extends gl{constructor(e){super(),bl(this,e,Gf,jf,ml,{saveHandler:18},null,[-1,-1])}}function Rn(s,e,t){const l=s.slice();return l[48]=e[t],l}function Bn(s,e,t){const l=s.slice();return l[51]=e[t],l}function Hn(s,e,t){const l=s.slice();return l[54]=e[t],l}function jn(s,e,t){const l=s.slice();return l[51]=e[t],l}function Gn(s,e,t){const l=s.slice();return l[54]=e[t],l}function Kn(s,e,t){const l=s.slice();return l[51]=e[t],l}function Zn(s,e,t){const l=s.slice();return l[51]=e[t],l}function Zf(s){let e,t,l=s[17].t("STT Model")+"",a,i,r,f,u,h,b,p,m,g,E=s[17].t("Open WebUI uses faster-whisper internally.")+"",w,k,I,y=s[17].t("Click here to learn more about faster-whisper and see the available models.")+"",T,$,S;function N(R,U){return R[14]?Wf:Ff}let V=N(s),C=V(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),b=A(),p=d("button"),C.c(),m=A(),g=d("div"),w=L(E),k=A(),I=d("a"),T=L(y),this.h()},l(R){e=_(R,"DIV",{});var U=v(e);t=_(U,"DIV",{class:!0});var Z=v(t);a=P(Z,l),Z.forEach(c),i=D(U),r=_(U,"DIV",{class:!0});var B=v(r);f=_(B,"DIV",{class:!0});var M=v(f);u=_(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(c),b=D(B),p=_(B,"BUTTON",{class:!0});var j=v(p);C.l(j),j.forEach(c),B.forEach(c),m=D(U),g=_(U,"DIV",{class:!0});var G=v(g);w=P(G,E),k=D(G),I=_(G,"A",{class:!0,href:!0,target:!0});var W=v(I);T=P(W,y),W.forEach(c),G.forEach(c),U.forEach(c),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"placeholder",h=s[17].t("Set whisper model")),o(f,"class","flex-1 mr-2"),o(p,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),p.disabled=s[14],o(r,"class","flex w-full"),o(I,"class","hover:underline dark:text-gray-200 text-gray-800"),o(I,"href","https://github.com/SYSTRAN/faster-whisper"),o(I,"target","_blank"),o(g,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(R,U){O(R,e,U),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[13]),n(r,b),n(r,p),C.m(p,null),n(e,m),n(e,g),n(g,w),n(g,k),n(g,I),n(I,T),$||(S=[se(u,"input",s[29]),se(p,"click",s[30])],$=!0)},p(R,U){U[0]&131072&&l!==(l=R[17].t("STT Model")+"")&&H(a,l),U[0]&131072&&h!==(h=R[17].t("Set whisper model"))&&o(u,"placeholder",h),U[0]&8192&&u.value!==R[13]&&ee(u,R[13]),V!==(V=N(R))&&(C.d(1),C=V(R),C&&(C.c(),C.m(p,null))),U[0]&16384&&(p.disabled=R[14]),U[0]&131072&&E!==(E=R[17].t("Open WebUI uses faster-whisper internally.")+"")&&H(w,E),U[0]&131072&&y!==(y=R[17].t("Click here to learn more about faster-whisper and see the available models.")+"")&&H(T,y)},i:vt,o:vt,d(R){R&&c(e),C.d(),$=!1,ol(S)}}}function qf(s){let e,t,l,a,i,r,f,u,h,b,p,m,g=s[17].t("STT Model")+"",E,w,k,I,y,T,$,S,N,V,C;function R(Z){s[27](Z)}let U={placeholder:s[17].t("API Key")};return s[10]!==void 0&&(U.value=s[10]),r=new Vl({props:U}),at.push(()=>ft(r,"value",R)),{c(){e=d("div"),t=d("div"),l=d("input"),i=A(),de(r.$$.fragment),u=A(),h=d("hr"),b=A(),p=d("div"),m=d("div"),E=L(g),w=A(),k=d("div"),I=d("div"),y=d("input"),T=A(),$=d("datalist"),S=d("option"),this.h()},l(Z){e=_(Z,"DIV",{});var B=v(e);t=_(B,"DIV",{class:!0});var M=v(t);l=_(M,"INPUT",{class:!0,placeholder:!0}),i=D(M),_e(r.$$.fragment,M),M.forEach(c),B.forEach(c),u=D(Z),h=_(Z,"HR",{class:!0}),b=D(Z),p=_(Z,"DIV",{});var j=v(p);m=_(j,"DIV",{class:!0});var G=v(m);E=P(G,g),G.forEach(c),w=D(j),k=_(j,"DIV",{class:!0});var W=v(k);I=_(W,"DIV",{class:!0});var z=v(I);y=_(z,"INPUT",{list:!0,class:!0,placeholder:!0}),T=D(z),$=_(z,"DATALIST",{id:!0});var x=v($);S=_(x,"OPTION",{}),v(S).forEach(c),x.forEach(c),z.forEach(c),W.forEach(c),j.forEach(c),this.h()},h(){o(l,"class","flex-1 w-full bg-transparent outline-none"),o(l,"placeholder",a=s[17].t("API Base URL")),l.required=!0,o(t,"class","mt-1 flex gap-2 mb-1"),o(h,"class","dark:border-gray-850 my-2"),o(m,"class","mb-1.5 text-sm font-medium"),o(y,"list","model-list"),o(y,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(y,"placeholder","Select a model"),S.__value="whisper-1",ee(S,S.__value),o($,"id","model-list"),o(I,"class","flex-1"),o(k,"class","flex w-full")},m(Z,B){O(Z,e,B),n(e,t),n(t,l),ee(l,s[9]),n(t,i),he(r,t,null),O(Z,u,B),O(Z,h,B),O(Z,b,B),O(Z,p,B),n(p,m),n(m,E),n(p,w),n(p,k),n(k,I),n(I,y),ee(y,s[12]),n(I,T),n(I,$),n($,S),N=!0,V||(C=[se(l,"input",s[26]),se(y,"input",s[28])],V=!0)},p(Z,B){(!N||B[0]&131072&&a!==(a=Z[17].t("API Base URL")))&&o(l,"placeholder",a),B[0]&512&&l.value!==Z[9]&&ee(l,Z[9]);const M={};B[0]&131072&&(M.placeholder=Z[17].t("API Key")),!f&&B[0]&1024&&(f=!0,M.value=Z[10],ut(()=>f=!1)),r.$set(M),(!N||B[0]&131072)&&g!==(g=Z[17].t("STT Model")+"")&&H(E,g),B[0]&4096&&y.value!==Z[12]&&ee(y,Z[12])},i(Z){N||(K(r.$$.fragment,Z),N=!0)},o(Z){q(r.$$.fragment,Z),N=!1},d(Z){Z&&(c(e),c(u),c(h),c(b),c(p)),pe(r),V=!1,ol(C)}}}function Ff(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function Wf(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}

												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-1rv6pho"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function Yf(s){let e,t,l,a,i,r,f,u,h;return{c(){e=d("div"),t=d("div"),l=d("input"),i=A(),r=d("input"),this.h()},l(b){e=_(b,"DIV",{});var p=v(e);t=_(p,"DIV",{class:!0});var m=v(t);l=_(m,"INPUT",{class:!0,placeholder:!0}),i=D(m),r=_(m,"INPUT",{class:!0,placeholder:!0}),m.forEach(c),p.forEach(c),this.h()},h(){o(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[17].t("API Key")),l.required=!0,o(r,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(r,"placeholder",f=s[17].t("Azure Region")),r.required=!0,o(t,"class","mt-1 flex gap-2 mb-1")},m(b,p){O(b,e,p),n(e,t),n(t,l),ee(l,s[2]),n(t,i),n(t,r),ee(r,s[7]),u||(h=[se(l,"input",s[36]),se(r,"input",s[37])],u=!0)},p(b,p){p[0]&131072&&a!==(a=b[17].t("API Key"))&&o(l,"placeholder",a),p[0]&4&&l.value!==b[2]&&ee(l,b[2]),p[0]&131072&&f!==(f=b[17].t("Azure Region"))&&o(r,"placeholder",f),p[0]&128&&r.value!==b[7]&&ee(r,b[7])},i:vt,o:vt,d(b){b&&c(e),u=!1,ol(h)}}}function zf(s){let e,t,l,a,i,r;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(f){e=_(f,"DIV",{});var u=v(e);t=_(u,"DIV",{class:!0});var h=v(t);l=_(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(c),u.forEach(c),this.h()},h(){o(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[17].t("API Key")),l.required=!0,o(t,"class","mt-1 flex gap-2 mb-1")},m(f,u){O(f,e,u),n(e,t),n(t,l),ee(l,s[2]),i||(r=se(l,"input",s[35]),i=!0)},p(f,u){u[0]&131072&&a!==(a=f[17].t("API Key"))&&o(l,"placeholder",a),u[0]&4&&l.value!==f[2]&&ee(l,f[2])},i:vt,o:vt,d(f){f&&c(e),i=!1,r()}}}function Qf(s){let e,t,l,a,i,r,f,u,h,b;function p(g){s[34](g)}let m={placeholder:s[17].t("API Key")};return s[1]!==void 0&&(m.value=s[1]),r=new Vl({props:m}),at.push(()=>ft(r,"value",p)),{c(){e=d("div"),t=d("div"),l=d("input"),i=A(),de(r.$$.fragment),this.h()},l(g){e=_(g,"DIV",{});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);l=_(w,"INPUT",{class:!0,placeholder:!0}),i=D(w),_e(r.$$.fragment,w),w.forEach(c),E.forEach(c),this.h()},h(){o(l,"class","flex-1 w-full bg-transparent outline-none"),o(l,"placeholder",a=s[17].t("API Base URL")),l.required=!0,o(t,"class","mt-1 flex gap-2 mb-1")},m(g,E){O(g,e,E),n(e,t),n(t,l),ee(l,s[0]),n(t,i),he(r,t,null),u=!0,h||(b=se(l,"input",s[33]),h=!0)},p(g,E){(!u||E[0]&131072&&a!==(a=g[17].t("API Base URL")))&&o(l,"placeholder",a),E[0]&1&&l.value!==g[0]&&ee(l,g[0]);const w={};E[0]&131072&&(w.placeholder=g[17].t("API Key")),!f&&E[0]&2&&(f=!0,w.value=g[1],ut(()=>f=!1)),r.$set(w)},i(g){u||(K(r.$$.fragment,g),u=!0)},o(g){q(r.$$.fragment,g),u=!1},d(g){g&&c(e),pe(r),h=!1,b()}}}function Jf(s){let e,t,l,a=s[17].t("TTS Voice")+"",i,r,f,u,h,b,p,m,g,E,w=s[17].t("Output format")+"",k,I,y,T,$=s[17].t("Available list")+"",S,N,V,C,R,U,Z,B=It(s[15]),M=[];for(let j=0;j<B.length;j+=1)M[j]=qn(Bn(s,B,j));return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("div"),u=d("div"),h=d("input"),b=A(),p=d("datalist");for(let j=0;j<M.length;j+=1)M[j].c();m=A(),g=d("div"),E=d("div"),k=L(w),I=A(),y=d("a"),T=d("small"),S=L($),N=A(),V=d("div"),C=d("div"),R=d("input"),this.h()},l(j){e=_(j,"DIV",{class:!0});var G=v(e);t=_(G,"DIV",{class:!0});var W=v(t);l=_(W,"DIV",{class:!0});var z=v(l);i=P(z,a),z.forEach(c),r=D(W),f=_(W,"DIV",{class:!0});var x=v(f);u=_(x,"DIV",{class:!0});var te=v(u);h=_(te,"INPUT",{list:!0,class:!0,placeholder:!0}),b=D(te),p=_(te,"DATALIST",{id:!0});var Y=v(p);for(let ne=0;ne<M.length;ne+=1)M[ne].l(Y);Y.forEach(c),te.forEach(c),x.forEach(c),W.forEach(c),m=D(G),g=_(G,"DIV",{class:!0});var Q=v(g);E=_(Q,"DIV",{class:!0});var X=v(E);k=P(X,w),I=D(X),y=_(X,"A",{href:!0,target:!0});var F=v(y);T=_(F,"SMALL",{});var J=v(T);S=P(J,$),J.forEach(c),F.forEach(c),X.forEach(c),N=D(Q),V=_(Q,"DIV",{class:!0});var ae=v(V);C=_(ae,"DIV",{class:!0});var ue=v(C);R=_(ue,"INPUT",{list:!0,class:!0,placeholder:!0}),ue.forEach(c),ae.forEach(c),Q.forEach(c),G.forEach(c),this.h()},h(){o(l,"class","mb-1.5 text-sm font-medium"),o(h,"list","voice-list"),o(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(h,"placeholder","Select a voice"),o(p,"id","voice-list"),o(u,"class","flex-1"),o(f,"class","flex w-full"),o(t,"class","w-full"),o(y,"href","https://learn.microsoft.com/en-us/azure/ai-services/speech-service/rest-text-to-speech?tabs=streaming#audio-outputs"),o(y,"target","_blank"),o(E,"class","mb-1.5 text-sm font-medium"),o(R,"list","tts-model-list"),o(R,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(R,"placeholder","Select a output format"),o(C,"class","flex-1"),o(V,"class","flex w-full"),o(g,"class","w-full"),o(e,"class","flex gap-2")},m(j,G){O(j,e,G),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),n(f,u),n(u,h),ee(h,s[5]),n(u,b),n(u,p);for(let W=0;W<M.length;W+=1)M[W]&&M[W].m(p,null);n(e,m),n(e,g),n(g,E),n(E,k),n(E,I),n(E,y),n(y,T),n(T,S),n(g,N),n(g,V),n(V,C),n(C,R),ee(R,s[8]),U||(Z=[se(h,"input",s[44]),se(R,"input",s[45])],U=!0)},p(j,G){if(G[0]&131072&&a!==(a=j[17].t("TTS Voice")+"")&&H(i,a),G[0]&32800&&h.value!==j[5]&&ee(h,j[5]),G[0]&32768){B=It(j[15]);let W;for(W=0;W<B.length;W+=1){const z=Bn(j,B,W);M[W]?M[W].p(z,G):(M[W]=qn(z),M[W].c(),M[W].m(p,null))}for(;W<M.length;W+=1)M[W].d(1);M.length=B.length}G[0]&131072&&w!==(w=j[17].t("Output format")+"")&&H(k,w),G[0]&131072&&$!==($=j[17].t("Available list")+"")&&H(S,$),G[0]&256&&R.value!==j[8]&&ee(R,j[8])},d(j){j&&c(e),_l(M,j),U=!1,ol(Z)}}}function Xf(s){let e,t,l,a=s[17].t("TTS Voice")+"",i,r,f,u,h,b,p,m,g,E,w=s[17].t("TTS Model")+"",k,I,y,T,$,S,N,V,C,R=It(s[15]),U=[];for(let M=0;M<R.length;M+=1)U[M]=Fn(jn(s,R,M));let Z=It(s[16]),B=[];for(let M=0;M<Z.length;M+=1)B[M]=Wn(Hn(s,Z,M));return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("div"),u=d("div"),h=d("input"),b=A(),p=d("datalist");for(let M=0;M<U.length;M+=1)U[M].c();m=A(),g=d("div"),E=d("div"),k=L(w),I=A(),y=d("div"),T=d("div"),$=d("input"),S=A(),N=d("datalist");for(let M=0;M<B.length;M+=1)B[M].c();this.h()},l(M){e=_(M,"DIV",{class:!0});var j=v(e);t=_(j,"DIV",{class:!0});var G=v(t);l=_(G,"DIV",{class:!0});var W=v(l);i=P(W,a),W.forEach(c),r=D(G),f=_(G,"DIV",{class:!0});var z=v(f);u=_(z,"DIV",{class:!0});var x=v(u);h=_(x,"INPUT",{list:!0,class:!0,placeholder:!0}),b=D(x),p=_(x,"DATALIST",{id:!0});var te=v(p);for(let ae=0;ae<U.length;ae+=1)U[ae].l(te);te.forEach(c),x.forEach(c),z.forEach(c),G.forEach(c),m=D(j),g=_(j,"DIV",{class:!0});var Y=v(g);E=_(Y,"DIV",{class:!0});var Q=v(E);k=P(Q,w),Q.forEach(c),I=D(Y),y=_(Y,"DIV",{class:!0});var X=v(y);T=_(X,"DIV",{class:!0});var F=v(T);$=_(F,"INPUT",{list:!0,class:!0,placeholder:!0}),S=D(F),N=_(F,"DATALIST",{id:!0});var J=v(N);for(let ae=0;ae<B.length;ae+=1)B[ae].l(J);J.forEach(c),F.forEach(c),X.forEach(c),Y.forEach(c),j.forEach(c),this.h()},h(){o(l,"class","mb-1.5 text-sm font-medium"),o(h,"list","voice-list"),o(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(h,"placeholder","Select a voice"),o(p,"id","voice-list"),o(u,"class","flex-1"),o(f,"class","flex w-full"),o(t,"class","w-full"),o(E,"class","mb-1.5 text-sm font-medium"),o($,"list","tts-model-list"),o($,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o($,"placeholder","Select a model"),o(N,"id","tts-model-list"),o(T,"class","flex-1"),o(y,"class","flex w-full"),o(g,"class","w-full"),o(e,"class","flex gap-2")},m(M,j){O(M,e,j),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),n(f,u),n(u,h),ee(h,s[5]),n(u,b),n(u,p);for(let G=0;G<U.length;G+=1)U[G]&&U[G].m(p,null);n(e,m),n(e,g),n(g,E),n(E,k),n(g,I),n(g,y),n(y,T),n(T,$),ee($,s[4]),n(T,S),n(T,N);for(let G=0;G<B.length;G+=1)B[G]&&B[G].m(N,null);V||(C=[se(h,"input",s[42]),se($,"input",s[43])],V=!0)},p(M,j){if(j[0]&131072&&a!==(a=M[17].t("TTS Voice")+"")&&H(i,a),j[0]&32800&&h.value!==M[5]&&ee(h,M[5]),j[0]&32768){R=It(M[15]);let G;for(G=0;G<R.length;G+=1){const W=jn(M,R,G);U[G]?U[G].p(W,j):(U[G]=Fn(W),U[G].c(),U[G].m(p,null))}for(;G<U.length;G+=1)U[G].d(1);U.length=R.length}if(j[0]&131072&&w!==(w=M[17].t("TTS Model")+"")&&H(k,w),j[0]&16&&$.value!==M[4]&&ee($,M[4]),j[0]&65536){Z=It(M[16]);let G;for(G=0;G<Z.length;G+=1){const W=Hn(M,Z,G);B[G]?B[G].p(W,j):(B[G]=Wn(W),B[G].c(),B[G].m(N,null))}for(;G<B.length;G+=1)B[G].d(1);B.length=Z.length}},d(M){M&&c(e),_l(U,M),_l(B,M),V=!1,ol(C)}}}function xf(s){let e,t,l,a=s[17].t("TTS Voice")+"",i,r,f,u,h,b,p,m,g,E,w=s[17].t("TTS Model")+"",k,I,y,T,$,S,N,V,C,R=It(s[15]),U=[];for(let M=0;M<R.length;M+=1)U[M]=Yn(Kn(s,R,M));let Z=It(s[16]),B=[];for(let M=0;M<Z.length;M+=1)B[M]=zn(Gn(s,Z,M));return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("div"),u=d("div"),h=d("input"),b=A(),p=d("datalist");for(let M=0;M<U.length;M+=1)U[M].c();m=A(),g=d("div"),E=d("div"),k=L(w),I=A(),y=d("div"),T=d("div"),$=d("input"),S=A(),N=d("datalist");for(let M=0;M<B.length;M+=1)B[M].c();this.h()},l(M){e=_(M,"DIV",{class:!0});var j=v(e);t=_(j,"DIV",{class:!0});var G=v(t);l=_(G,"DIV",{class:!0});var W=v(l);i=P(W,a),W.forEach(c),r=D(G),f=_(G,"DIV",{class:!0});var z=v(f);u=_(z,"DIV",{class:!0});var x=v(u);h=_(x,"INPUT",{list:!0,class:!0,placeholder:!0}),b=D(x),p=_(x,"DATALIST",{id:!0});var te=v(p);for(let ae=0;ae<U.length;ae+=1)U[ae].l(te);te.forEach(c),x.forEach(c),z.forEach(c),G.forEach(c),m=D(j),g=_(j,"DIV",{class:!0});var Y=v(g);E=_(Y,"DIV",{class:!0});var Q=v(E);k=P(Q,w),Q.forEach(c),I=D(Y),y=_(Y,"DIV",{class:!0});var X=v(y);T=_(X,"DIV",{class:!0});var F=v(T);$=_(F,"INPUT",{list:!0,class:!0,placeholder:!0}),S=D(F),N=_(F,"DATALIST",{id:!0});var J=v(N);for(let ae=0;ae<B.length;ae+=1)B[ae].l(J);J.forEach(c),F.forEach(c),X.forEach(c),Y.forEach(c),j.forEach(c),this.h()},h(){o(l,"class","mb-1.5 text-sm font-medium"),o(h,"list","voice-list"),o(h,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(h,"placeholder","Select a voice"),o(p,"id","voice-list"),o(u,"class","flex-1"),o(f,"class","flex w-full"),o(t,"class","w-full"),o(E,"class","mb-1.5 text-sm font-medium"),o($,"list","tts-model-list"),o($,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o($,"placeholder","Select a model"),o(N,"id","tts-model-list"),o(T,"class","flex-1"),o(y,"class","flex w-full"),o(g,"class","w-full"),o(e,"class","flex gap-2")},m(M,j){O(M,e,j),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),n(f,u),n(u,h),ee(h,s[5]),n(u,b),n(u,p);for(let G=0;G<U.length;G+=1)U[G]&&U[G].m(p,null);n(e,m),n(e,g),n(g,E),n(E,k),n(g,I),n(g,y),n(y,T),n(T,$),ee($,s[4]),n(T,S),n(T,N);for(let G=0;G<B.length;G+=1)B[G]&&B[G].m(N,null);V||(C=[se(h,"input",s[40]),se($,"input",s[41])],V=!0)},p(M,j){if(j[0]&131072&&a!==(a=M[17].t("TTS Voice")+"")&&H(i,a),j[0]&32800&&h.value!==M[5]&&ee(h,M[5]),j[0]&32768){R=It(M[15]);let G;for(G=0;G<R.length;G+=1){const W=Kn(M,R,G);U[G]?U[G].p(W,j):(U[G]=Yn(W),U[G].c(),U[G].m(p,null))}for(;G<U.length;G+=1)U[G].d(1);U.length=R.length}if(j[0]&131072&&w!==(w=M[17].t("TTS Model")+"")&&H(k,w),j[0]&16&&$.value!==M[4]&&ee($,M[4]),j[0]&65536){Z=It(M[16]);let G;for(G=0;G<Z.length;G+=1){const W=Gn(M,Z,G);B[G]?B[G].p(W,j):(B[G]=zn(W),B[G].c(),B[G].m(N,null))}for(;G<B.length;G+=1)B[G].d(1);B.length=Z.length}},d(M){M&&c(e),_l(U,M),_l(B,M),V=!1,ol(C)}}}function ec(s){let e,t,l=s[17].t("TTS Model")+"",a,i,r,f,u,h,b,p,m,g,E=s[17].t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.")+"",w,k,I,y=s[17].t("click here",{name:"SpeechT5"})+"",T,$,S,N,V=s[17].t("click here")+"",C,R,U,Z;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),h=A(),b=d("datalist"),p=d("option"),m=A(),g=d("div"),w=L(E),k=L(`

							To learn more about SpeechT5,

							`),I=d("a"),T=L(y),$=L("."),S=L(`
							To see the available CMU Arctic speaker embeddings,
							`),N=d("a"),C=L(V),R=L("."),this.h()},l(B){e=_(B,"DIV",{});var M=v(e);t=_(M,"DIV",{class:!0});var j=v(t);a=P(j,l),j.forEach(c),i=D(M),r=_(M,"DIV",{class:!0});var G=v(r);f=_(G,"DIV",{class:!0});var W=v(f);u=_(W,"INPUT",{list:!0,class:!0,placeholder:!0}),h=D(W),b=_(W,"DATALIST",{id:!0});var z=v(b);p=_(z,"OPTION",{}),v(p).forEach(c),z.forEach(c),W.forEach(c),G.forEach(c),m=D(M),g=_(M,"DIV",{class:!0});var x=v(g);w=P(x,E),k=P(x,`

							To learn more about SpeechT5,

							`),I=_(x,"A",{class:!0,href:!0,target:!0});var te=v(I);T=P(te,y),$=P(te,"."),te.forEach(c),S=P(x,`
							To see the available CMU Arctic speaker embeddings,
							`),N=_(x,"A",{class:!0,href:!0,target:!0});var Y=v(N);C=P(Y,V),R=P(Y,"."),Y.forEach(c),x.forEach(c),M.forEach(c),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(u,"list","model-list"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"placeholder","CMU ARCTIC speaker embedding name"),p.__value="tts-1",ee(p,p.__value),o(b,"id","model-list"),o(f,"class","flex-1"),o(r,"class","flex w-full"),o(I,"class","hover:underline dark:text-gray-200 text-gray-800"),o(I,"href","https://github.com/microsoft/SpeechT5"),o(I,"target","_blank"),o(N,"class","hover:underline dark:text-gray-200 text-gray-800"),o(N,"href","https://huggingface.co/datasets/Matthijs/cmu-arctic-xvectors"),o(N,"target","_blank"),o(g,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(B,M){O(B,e,M),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[4]),n(f,h),n(f,b),n(b,p),n(e,m),n(e,g),n(g,w),n(g,k),n(g,I),n(I,T),n(I,$),n(g,S),n(g,N),n(N,C),n(N,R),U||(Z=se(u,"input",s[39]),U=!0)},p(B,M){M[0]&131072&&l!==(l=B[17].t("TTS Model")+"")&&H(a,l),M[0]&16&&u.value!==B[4]&&ee(u,B[4]),M[0]&131072&&E!==(E=B[17].t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.")+"")&&H(w,E),M[0]&131072&&y!==(y=B[17].t("click here",{name:"SpeechT5"})+"")&&H(T,y),M[0]&131072&&V!==(V=B[17].t("click here")+"")&&H(C,V)},d(B){B&&c(e),U=!1,Z()}}}function tc(s){let e,t,l=s[17].t("TTS Voice")+"",a,i,r,f,u,h,b=s[17].t("Default")+"",p,m,g,E,w=It(s[15]),k=[];for(let I=0;I<w.length;I+=1)k[I]=Qn(Zn(s,w,I));return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("select"),h=d("option"),p=L(b);for(let I=0;I<k.length;I+=1)k[I].c();this.h()},l(I){e=_(I,"DIV",{});var y=v(e);t=_(y,"DIV",{class:!0});var T=v(t);a=P(T,l),T.forEach(c),i=D(y),r=_(y,"DIV",{class:!0});var $=v(r);f=_($,"DIV",{class:!0});var S=v(f);u=_(S,"SELECT",{class:!0});var N=v(u);h=_(N,"OPTION",{});var V=v(h);p=P(V,b),V.forEach(c);for(let C=0;C<k.length;C+=1)k[C].l(N);N.forEach(c),S.forEach(c),$.forEach(c),y.forEach(c),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),h.__value="",ee(h,h.__value),h.selected=m=s[5]!=="",o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),s[5]===void 0&&Ll(()=>s[38].call(u)),o(f,"class","flex-1"),o(r,"class","flex w-full")},m(I,y){O(I,e,y),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),n(u,h),n(h,p);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(u,null);Xt(u,s[5],!0),g||(E=se(u,"change",s[38]),g=!0)},p(I,y){if(y[0]&131072&&l!==(l=I[17].t("TTS Voice")+"")&&H(a,l),y[0]&131072&&b!==(b=I[17].t("Default")+"")&&H(p,b),y[0]&32800&&m!==(m=I[5]!=="")&&(h.selected=m),y[0]&32800){w=It(I[15]);let T;for(T=0;T<w.length;T+=1){const $=Zn(I,w,T);k[T]?k[T].p($,y):(k[T]=Qn($),k[T].c(),k[T].m(u,null))}for(;T<k.length;T+=1)k[T].d(1);k.length=w.length}y[0]&32800&&Xt(u,I[5])},d(I){I&&c(e),_l(k,I),g=!1,E()}}}function qn(s){let e,t=s[51].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{});var r=v(e);l=P(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[51].id,ee(e,e.__value)},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&32768&&t!==(t=i[51].name+"")&&H(l,t),r[0]&32768&&a!==(a=i[51].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function Fn(s){let e,t=s[51].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{});var r=v(e);l=P(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[51].id,ee(e,e.__value)},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&32768&&t!==(t=i[51].name+"")&&H(l,t),r[0]&32768&&a!==(a=i[51].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function Wn(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=_(l,"OPTION",{class:!0}),v(e).forEach(c),this.h()},h(){e.__value=t=s[54].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(l,a){O(l,e,a)},p(l,a){a[0]&65536&&t!==(t=l[54].id)&&(e.__value=t,ee(e,e.__value))},d(l){l&&c(e)}}}function Yn(s){let e,t=s[51].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{});var r=v(e);l=P(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[51].id,ee(e,e.__value)},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&32768&&t!==(t=i[51].name+"")&&H(l,t),r[0]&32768&&a!==(a=i[51].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function zn(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=_(l,"OPTION",{class:!0}),v(e).forEach(c),this.h()},h(){e.__value=t=s[54].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(l,a){O(l,e,a)},p(l,a){a[0]&65536&&t!==(t=l[54].id)&&(e.__value=t,ee(e,e.__value))},d(l){l&&c(e)}}}function Qn(s){let e,t=s[51].name.replace("+",", ")+"",l,a,i;return{c(){e=d("option"),l=L(t),this.h()},l(r){e=_(r,"OPTION",{class:!0});var f=v(e);l=P(f,t),f.forEach(c),this.h()},h(){e.__value=a=s[51].voiceURI,ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=i=s[5]===s[51].voiceURI},m(r,f){O(r,e,f),n(e,l)},p(r,f){f[0]&32768&&t!==(t=r[51].name.replace("+",", ")+"")&&H(l,t),f[0]&32768&&a!==(a=r[51].voiceURI)&&(e.__value=a,ee(e,e.__value)),f[0]&32800&&i!==(i=r[5]===r[51].voiceURI)&&(e.selected=i)},d(r){r&&c(e)}}}function Jn(s){let e,t=s[17].t(s[48].charAt(0).toUpperCase()+s[48].slice(1))+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){e.__value=s[48],ee(e,e.__value)},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&131072&&t!==(t=a[17].t(a[48].charAt(0).toUpperCase()+a[48].slice(1))+"")&&H(l,t)},d(a){a&&c(e)}}}function lc(s){let e,t,l,a,i,r=s[17].t("STT Settings")+"",f,u,h,b,p=s[17].t("Speech-to-Text Engine")+"",m,g,E,w,k,I=s[17].t("Whisper (Local)")+"",y,T,$="OpenAI",S,N=s[17].t("Web API")+"",V,C,R,U,Z,B,M,j,G,W=s[17].t("TTS Settings")+"",z,x,te,Y,Q=s[17].t("Text-to-Speech Engine")+"",X,F,J,ae,ue,ne=s[17].t("Web API")+"",De,ge,Pe=s[17].t("Transformers")+"",be,Re,$e=s[17].t("Local")+"",ie,le,Ee,ce=s[17].t("OpenAI")+"",ke,Ie,Qe=s[17].t("ElevenLabs")+"",Je,ve,ye=s[17].t("Azure AI Speech")+"",fe,me,Oe,Me,He,Ce,Ge,je,$t,re,we,ht,mt=s[17].t("Response splitting")+"",gt,Ke,Ye,ct,Ut,At,Ae=s[17].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"",We,bt,ot,dt,rt=s[17].t("Save")+"",lt,et,oe,Le;const Tt=[qf,Zf],Xe=[];function Ot(Ue,Te){return Ue[11]==="openai"?0:Ue[11]===""?1:-1}~(R=Ot(s))&&(U=Xe[R]=Tt[R](s));const wt=[Qf,zf,Yf],it=[];function Pt(Ue,Te){return Ue[3]==="openai"?0:Ue[3]==="elevenlabs"?1:Ue[3]==="azure"?2:-1}~(Oe=Pt(s))&&(Me=it[Oe]=wt[Oe](s));function zt(Ue,Te){if(Ue[3]==="")return tc;if(Ue[3]==="transformers")return ec;if(Ue[3]==="openai")return xf;if(Ue[3]==="elevenlabs")return Xf;if(Ue[3]==="azure")return Jf}let qt=zt(s),Dt=qt&&qt(s),Rt=It(Object.values(Qa)),Nt=[];for(let Ue=0;Ue<Rt.length;Ue+=1)Nt[Ue]=Jn(Rn(s,Rt,Ue));return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=d("div"),f=L(r),u=A(),h=d("div"),b=d("div"),m=L(p),g=A(),E=d("div"),w=d("select"),k=d("option"),y=L(I),T=d("option"),T.textContent=$,S=d("option"),V=L(N),C=A(),U&&U.c(),Z=A(),B=d("hr"),M=A(),j=d("div"),G=d("div"),z=L(W),x=A(),te=d("div"),Y=d("div"),X=L(Q),F=A(),J=d("div"),ae=d("select"),ue=d("option"),De=L(ne),ge=d("option"),be=L(Pe),Re=L(" ("),ie=L($e),le=L(")"),Ee=d("option"),ke=L(ce),Ie=d("option"),Je=L(Qe),ve=d("option"),fe=L(ye),me=A(),Me&&Me.c(),He=A(),Ce=d("hr"),Ge=A(),Dt&&Dt.c(),je=A(),$t=d("hr"),re=A(),we=d("div"),ht=d("div"),gt=L(mt),Ke=A(),Ye=d("div"),ct=d("select");for(let Ue=0;Ue<Nt.length;Ue+=1)Nt[Ue].c();Ut=A(),At=d("div"),We=L(Ae),bt=A(),ot=d("div"),dt=d("button"),lt=L(rt),this.h()},l(Ue){e=_(Ue,"FORM",{class:!0});var Te=v(e);t=_(Te,"DIV",{class:!0});var Ne=v(t);l=_(Ne,"DIV",{class:!0});var pt=v(l);a=_(pt,"DIV",{});var xe=v(a);i=_(xe,"DIV",{class:!0});var _t=v(i);f=P(_t,r),_t.forEach(c),u=D(xe),h=_(xe,"DIV",{class:!0});var Kt=v(h);b=_(Kt,"DIV",{class:!0});var Lt=v(b);m=P(Lt,p),Lt.forEach(c),g=D(Kt),E=_(Kt,"DIV",{class:!0});var Bt=v(E);w=_(Bt,"SELECT",{class:!0,placeholder:!0});var Et=v(w);k=_(Et,"OPTION",{});var Ze=v(k);y=P(Ze,I),Ze.forEach(c),T=_(Et,"OPTION",{"data-svelte-h":!0}),Gt(T)!=="svelte-bbvrw2"&&(T.textContent=$),S=_(Et,"OPTION",{});var Be=v(S);V=P(Be,N),Be.forEach(c),Et.forEach(c),Bt.forEach(c),Kt.forEach(c),C=D(xe),U&&U.l(xe),xe.forEach(c),Z=D(pt),B=_(pt,"HR",{class:!0}),M=D(pt),j=_(pt,"DIV",{});var tt=v(j);G=_(tt,"DIV",{class:!0});var kt=v(G);z=P(kt,W),kt.forEach(c),x=D(tt),te=_(tt,"DIV",{class:!0});var Mt=v(te);Y=_(Mt,"DIV",{class:!0});var rl=v(Y);X=P(rl,Q),rl.forEach(c),F=D(Mt),J=_(Mt,"DIV",{class:!0});var tl=v(J);ae=_(tl,"SELECT",{class:!0,placeholder:!0});var Ht=v(ae);ue=_(Ht,"OPTION",{});var ul=v(ue);De=P(ul,ne),ul.forEach(c),ge=_(Ht,"OPTION",{});var hl=v(ge);be=P(hl,Pe),Re=P(hl," ("),ie=P(hl,$e),le=P(hl,")"),hl.forEach(c),Ee=_(Ht,"OPTION",{});var jt=v(Ee);ke=P(jt,ce),jt.forEach(c),Ie=_(Ht,"OPTION",{});var Il=v(Ie);Je=P(Il,Qe),Il.forEach(c),ve=_(Ht,"OPTION",{});var cl=v(ve);fe=P(cl,ye),cl.forEach(c),Ht.forEach(c),tl.forEach(c),Mt.forEach(c),me=D(tt),Me&&Me.l(tt),He=D(tt),Ce=_(tt,"HR",{class:!0}),Ge=D(tt),Dt&&Dt.l(tt),je=D(tt),$t=_(tt,"HR",{class:!0}),re=D(tt),we=_(tt,"DIV",{class:!0});var il=v(we);ht=_(il,"DIV",{class:!0});var yt=v(ht);gt=P(yt,mt),yt.forEach(c),Ke=D(il),Ye=_(il,"DIV",{class:!0});var dl=v(Ye);ct=_(dl,"SELECT",{class:!0,"aria-label":!0});var Yt=v(ct);for(let Ft=0;Ft<Nt.length;Ft+=1)Nt[Ft].l(Yt);Yt.forEach(c),dl.forEach(c),il.forEach(c),Ut=D(tt),At=_(tt,"DIV",{class:!0});var Qt=v(At);We=P(Qt,Ae),Qt.forEach(c),tt.forEach(c),pt.forEach(c),Ne.forEach(c),bt=D(Te),ot=_(Te,"DIV",{class:!0});var Ml=v(ot);dt=_(Ml,"BUTTON",{class:!0,type:!0});var pl=v(dt);lt=P(pl,rt),pl.forEach(c),Ml.forEach(c),Te.forEach(c),this.h()},h(){o(i,"class","mb-1 text-sm font-medium"),o(b,"class","self-center text-xs font-medium"),k.__value="",ee(k,k.__value),T.__value="openai",ee(T,T.__value),S.__value="web",ee(S,S.__value),o(w,"class","dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(w,"placeholder","Select an engine"),s[11]===void 0&&Ll(()=>s[25].call(w)),o(E,"class","flex items-center relative"),o(h,"class","py-0.5 flex w-full justify-between"),o(B,"class","dark:border-gray-800"),o(G,"class","mb-1 text-sm font-medium"),o(Y,"class","self-center text-xs font-medium"),ue.__value="",ee(ue,ue.__value),ge.__value="transformers",ee(ge,ge.__value),Ee.__value="openai",ee(Ee,Ee.__value),Ie.__value="elevenlabs",ee(Ie,Ie.__value),ve.__value="azure",ee(ve,ve.__value),o(ae,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(ae,"placeholder","Select a mode"),s[3]===void 0&&Ll(()=>s[31].call(ae)),o(J,"class","flex items-center relative"),o(te,"class","py-0.5 flex w-full justify-between"),o(Ce,"class","dark:border-gray-850 my-2"),o($t,"class","dark:border-gray-850 my-2"),o(ht,"class","self-center text-xs font-medium"),o(ct,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(ct,"aria-label","Select how to split message text for TTS requests"),s[6]===void 0&&Ll(()=>s[46].call(ct)),o(Ye,"class","flex items-center relative"),o(we,"class","pt-0.5 flex w-full justify-between"),o(At,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(l,"class","flex flex-col gap-3"),o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(dt,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(dt,"type","submit"),o(ot,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Ue,Te){O(Ue,e,Te),n(e,t),n(t,l),n(l,a),n(a,i),n(i,f),n(a,u),n(a,h),n(h,b),n(b,m),n(h,g),n(h,E),n(E,w),n(w,k),n(k,y),n(w,T),n(w,S),n(S,V),Xt(w,s[11],!0),n(a,C),~R&&Xe[R].m(a,null),n(l,Z),n(l,B),n(l,M),n(l,j),n(j,G),n(G,z),n(j,x),n(j,te),n(te,Y),n(Y,X),n(te,F),n(te,J),n(J,ae),n(ae,ue),n(ue,De),n(ae,ge),n(ge,be),n(ge,Re),n(ge,ie),n(ge,le),n(ae,Ee),n(Ee,ke),n(ae,Ie),n(Ie,Je),n(ae,ve),n(ve,fe),Xt(ae,s[3],!0),n(j,me),~Oe&&it[Oe].m(j,null),n(j,He),n(j,Ce),n(j,Ge),Dt&&Dt.m(j,null),n(j,je),n(j,$t),n(j,re),n(j,we),n(we,ht),n(ht,gt),n(we,Ke),n(we,Ye),n(Ye,ct);for(let Ne=0;Ne<Nt.length;Ne+=1)Nt[Ne]&&Nt[Ne].m(ct,null);Xt(ct,s[6],!0),n(j,Ut),n(j,At),n(At,We),n(e,bt),n(e,ot),n(ot,dt),n(dt,lt),et=!0,oe||(Le=[se(w,"change",s[25]),se(ae,"change",s[31]),se(ae,"change",s[32]),se(ct,"change",s[46]),se(e,"submit",us(s[47]))],oe=!0)},p(Ue,Te){(!et||Te[0]&131072)&&r!==(r=Ue[17].t("STT Settings")+"")&&H(f,r),(!et||Te[0]&131072)&&p!==(p=Ue[17].t("Speech-to-Text Engine")+"")&&H(m,p),(!et||Te[0]&131072)&&I!==(I=Ue[17].t("Whisper (Local)")+"")&&H(y,I),(!et||Te[0]&131072)&&N!==(N=Ue[17].t("Web API")+"")&&H(V,N),Te[0]&2048&&Xt(w,Ue[11]);let Ne=R;R=Ot(Ue),R===Ne?~R&&Xe[R].p(Ue,Te):(U&&(Vt(),q(Xe[Ne],1,1,()=>{Xe[Ne]=null}),St()),~R?(U=Xe[R],U?U.p(Ue,Te):(U=Xe[R]=Tt[R](Ue),U.c()),K(U,1),U.m(a,null)):U=null),(!et||Te[0]&131072)&&W!==(W=Ue[17].t("TTS Settings")+"")&&H(z,W),(!et||Te[0]&131072)&&Q!==(Q=Ue[17].t("Text-to-Speech Engine")+"")&&H(X,Q),(!et||Te[0]&131072)&&ne!==(ne=Ue[17].t("Web API")+"")&&H(De,ne),(!et||Te[0]&131072)&&Pe!==(Pe=Ue[17].t("Transformers")+"")&&H(be,Pe),(!et||Te[0]&131072)&&$e!==($e=Ue[17].t("Local")+"")&&H(ie,$e),(!et||Te[0]&131072)&&ce!==(ce=Ue[17].t("OpenAI")+"")&&H(ke,ce),(!et||Te[0]&131072)&&Qe!==(Qe=Ue[17].t("ElevenLabs")+"")&&H(Je,Qe),(!et||Te[0]&131072)&&ye!==(ye=Ue[17].t("Azure AI Speech")+"")&&H(fe,ye),Te[0]&8&&Xt(ae,Ue[3]);let pt=Oe;if(Oe=Pt(Ue),Oe===pt?~Oe&&it[Oe].p(Ue,Te):(Me&&(Vt(),q(it[pt],1,1,()=>{it[pt]=null}),St()),~Oe?(Me=it[Oe],Me?Me.p(Ue,Te):(Me=it[Oe]=wt[Oe](Ue),Me.c()),K(Me,1),Me.m(j,He)):Me=null),qt===(qt=zt(Ue))&&Dt?Dt.p(Ue,Te):(Dt&&Dt.d(1),Dt=qt&&qt(Ue),Dt&&(Dt.c(),Dt.m(j,je))),(!et||Te[0]&131072)&&mt!==(mt=Ue[17].t("Response splitting")+"")&&H(gt,mt),Te[0]&131072){Rt=It(Object.values(Qa));let xe;for(xe=0;xe<Rt.length;xe+=1){const _t=Rn(Ue,Rt,xe);Nt[xe]?Nt[xe].p(_t,Te):(Nt[xe]=Jn(_t),Nt[xe].c(),Nt[xe].m(ct,null))}for(;xe<Nt.length;xe+=1)Nt[xe].d(1);Nt.length=Rt.length}Te[0]&64&&Xt(ct,Ue[6]),(!et||Te[0]&131072)&&Ae!==(Ae=Ue[17].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"")&&H(We,Ae),(!et||Te[0]&131072)&&rt!==(rt=Ue[17].t("Save")+"")&&H(lt,rt)},i(Ue){et||(K(U),K(Me),et=!0)},o(Ue){q(U),q(Me),et=!1},d(Ue){Ue&&c(e),~R&&Xe[R].d(),~Oe&&it[Oe].d(),Dt&&Dt.d(),_l(Nt,Ue),oe=!1,ol(Le)}}}function sc(s,e,t){let l;const a=ys(),i=Dl("i18n");nl(s,i,le=>t(17,l=le));let{saveHandler:r}=e,f="",u="",h="",b="",p="",m="",g=Qa.PUNCTUATION,E="",w="",k="",I="",y="",T="",$="",S=!1,N=[],V=[];const C=async()=>{if(b==="")t(16,V=[]);else{const le=await yu(localStorage.token).catch(Ee=>{ze.error(`${Ee}`)});le&&(console.log(le),t(16,V=le.models))}},R=async()=>{if(b===""){const le=setInterval(()=>{t(15,N=speechSynthesis.getVoices()),N.length>0&&(clearInterval(le),N.sort((Ee,ce)=>Ee.name.localeCompare(ce.name,l.resolvedLanguage)))},100)}else{const le=await Tu(localStorage.token).catch(Ee=>{ze.error(`${Ee}`)});le&&(console.log(le),t(15,N=le.voices),N.sort((Ee,ce)=>Ee.name.localeCompare(ce.name,l.resolvedLanguage)))}},U=async()=>{await Au(localStorage.token,{tts:{OPENAI_API_BASE_URL:f,OPENAI_API_KEY:u,API_KEY:h,ENGINE:b,MODEL:p,VOICE:m,SPLIT_ON:g,AZURE_SPEECH_REGION:E,AZURE_SPEECH_OUTPUT_FORMAT:w},stt:{OPENAI_API_BASE_URL:k,OPENAI_API_KEY:I,ENGINE:y,MODEL:T,WHISPER_MODEL:$}})&&(r(),Hs.set(await ra()))},Z=async()=>{t(14,S=!0),await U(),t(14,S=!1)};Fl(async()=>{const le=await Iu(localStorage.token);le&&(console.log(le),t(0,f=le.tts.OPENAI_API_BASE_URL),t(1,u=le.tts.OPENAI_API_KEY),t(2,h=le.tts.API_KEY),t(3,b=le.tts.ENGINE),t(4,p=le.tts.MODEL),t(5,m=le.tts.VOICE),t(6,g=le.tts.SPLIT_ON||Qa.PUNCTUATION),t(8,w=le.tts.AZURE_SPEECH_OUTPUT_FORMAT),t(7,E=le.tts.AZURE_SPEECH_REGION),t(9,k=le.stt.OPENAI_API_BASE_URL),t(10,I=le.stt.OPENAI_API_KEY),t(11,y=le.stt.ENGINE),t(12,T=le.stt.MODEL),t(13,$=le.stt.WHISPER_MODEL)),await R(),await C()});function B(){y=Ol(this),t(11,y)}function M(){k=this.value,t(9,k)}function j(le){I=le,t(10,I)}function G(){T=this.value,t(12,T)}function W(){$=this.value,t(13,$)}const z=()=>{Z()};function x(){b=Ol(this),t(3,b)}const te=async le=>{var Ee;await U(),await R(),await C(),((Ee=le.target)==null?void 0:Ee.value)==="openai"?(t(5,m="alloy"),t(4,p="tts-1")):(t(5,m=""),t(4,p=""))};function Y(){f=this.value,t(0,f)}function Q(le){u=le,t(1,u)}function X(){h=this.value,t(2,h)}function F(){h=this.value,t(2,h)}function J(){E=this.value,t(7,E)}function ae(){m=Ol(this),t(5,m),t(15,N)}function ue(){p=this.value,t(4,p)}function ne(){m=this.value,t(5,m),t(15,N)}function De(){p=this.value,t(4,p)}function ge(){m=this.value,t(5,m),t(15,N)}function Pe(){p=this.value,t(4,p)}function be(){m=this.value,t(5,m),t(15,N)}function Re(){w=this.value,t(8,w)}function $e(){g=Ol(this),t(6,g)}const ie=async()=>{await U(),a("save")};return s.$$set=le=>{"saveHandler"in le&&t(24,r=le.saveHandler)},[f,u,h,b,p,m,g,E,w,k,I,y,T,$,S,N,V,l,a,i,C,R,U,Z,r,B,M,j,G,W,z,x,te,Y,Q,X,F,J,ae,ue,ne,De,ge,Pe,be,Re,$e,ie]}class ac extends gl{constructor(e){super(),bl(this,e,sc,lc,ml,{saveHandler:24},null,[-1,-1,-1])}}function Xn(s,e,t){const l=s.slice();return l[40]=e[t],l}function xn(s,e,t){const l=s.slice();return l[49]=e[t],l[50]=e,l[51]=t,l}function ei(s,e,t){const l=s.slice();return l[43]=e[t],l}function ti(s,e,t){const l=s.slice();return l[46]=e[t],l}function li(s){var Ee;let e,t,l=s[5].t("Image Settings")+"",a,i,r,f,u,h=s[5].t("Image Generation (Experimental)")+"",b,p,m,g,E,w,k,I,y,T=s[5].t("Image Generation Engine")+"",$,S,N,V,C,R=s[5].t("Default (Open AI)")+"",U,Z,B=s[5].t("ComfyUI")+"",M,j,G=s[5].t("Automatic1111")+"",W,z,x,te,Y,Q,X,F,J,ae,ue,ne,De;function ge(ce){s[11](ce)}let Pe={};s[1].enabled!==void 0&&(Pe.state=s[1].enabled),g=new kl({props:Pe}),at.push(()=>ft(g,"state",ge)),g.$on("change",s[12]);let be=s[1].enabled&&si(s);const Re=[ic,nc,rc],$e=[];function ie(ce,ke){var Ie,Qe,Je;return(((Ie=ce[1])==null?void 0:Ie.engine)??"automatic1111")==="automatic1111"?0:((Qe=ce[1])==null?void 0:Qe.engine)==="comfyui"?1:((Je=ce[1])==null?void 0:Je.engine)==="openai"?2:-1}~(X=ie(s))&&(F=$e[X]=Re[X](s));let le=((Ee=s[1])==null?void 0:Ee.enabled)&&ui(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("div"),b=L(h),p=A(),m=d("div"),de(g.$$.fragment),w=A(),be&&be.c(),k=A(),I=d("div"),y=d("div"),$=L(T),S=A(),N=d("div"),V=d("select"),C=d("option"),U=L(R),Z=d("option"),M=L(B),j=d("option"),W=L(G),x=A(),te=d("hr"),Y=A(),Q=d("div"),F&&F.c(),J=A(),le&&le.c(),ae=xt(),this.h()},l(ce){e=_(ce,"DIV",{});var ke=v(e);t=_(ke,"DIV",{class:!0});var Ie=v(t);a=P(Ie,l),Ie.forEach(c),i=D(ke),r=_(ke,"DIV",{});var Qe=v(r);f=_(Qe,"DIV",{class:!0});var Je=v(f);u=_(Je,"DIV",{class:!0});var ve=v(u);b=P(ve,h),ve.forEach(c),p=D(Je),m=_(Je,"DIV",{class:!0});var ye=v(m);_e(g.$$.fragment,ye),ye.forEach(c),Je.forEach(c),Qe.forEach(c),w=D(ke),be&&be.l(ke),k=D(ke),I=_(ke,"DIV",{class:!0});var fe=v(I);y=_(fe,"DIV",{class:!0});var me=v(y);$=P(me,T),me.forEach(c),S=D(fe),N=_(fe,"DIV",{class:!0});var Oe=v(N);V=_(Oe,"SELECT",{class:!0,placeholder:!0});var Me=v(V);C=_(Me,"OPTION",{});var He=v(C);U=P(He,R),He.forEach(c),Z=_(Me,"OPTION",{});var Ce=v(Z);M=P(Ce,B),Ce.forEach(c),j=_(Me,"OPTION",{});var Ge=v(j);W=P(Ge,G),Ge.forEach(c),Me.forEach(c),Oe.forEach(c),fe.forEach(c),ke.forEach(c),x=D(ce),te=_(ce,"HR",{class:!0}),Y=D(ce),Q=_(ce,"DIV",{class:!0});var je=v(Q);F&&F.l(je),je.forEach(c),J=D(ce),le&&le.l(ce),ae=xt(),this.h()},h(){o(t,"class","mb-1 text-sm font-medium"),o(u,"class","self-center text-xs font-medium"),o(m,"class","px-1"),o(f,"class","py-1 flex w-full justify-between"),o(y,"class","self-center text-xs font-medium"),C.__value="openai",ee(C,C.__value),Z.__value="comfyui",ee(Z,Z.__value),j.__value="automatic1111",ee(j,j.__value),o(V,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(V,"placeholder",z=s[5].t("Select Engine")),s[1].engine===void 0&&Ll(()=>s[14].call(V)),o(N,"class","flex items-center relative"),o(I,"class","py-1 flex w-full justify-between"),o(te,"class","dark:border-gray-850"),o(Q,"class","flex flex-col gap-2")},m(ce,ke){O(ce,e,ke),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),n(u,b),n(f,p),n(f,m),he(g,m,null),n(e,w),be&&be.m(e,null),n(e,k),n(e,I),n(I,y),n(y,$),n(I,S),n(I,N),n(N,V),n(V,C),n(C,U),n(V,Z),n(Z,M),n(V,j),n(j,W),Xt(V,s[1].engine,!0),O(ce,x,ke),O(ce,te,ke),O(ce,Y,ke),O(ce,Q,ke),~X&&$e[X].m(Q,null),O(ce,J,ke),le&&le.m(ce,ke),O(ce,ae,ke),ue=!0,ne||(De=[se(V,"change",s[14]),se(V,"change",s[15])],ne=!0)},p(ce,ke){var Je;(!ue||ke[0]&32)&&l!==(l=ce[5].t("Image Settings")+"")&&H(a,l),(!ue||ke[0]&32)&&h!==(h=ce[5].t("Image Generation (Experimental)")+"")&&H(b,h);const Ie={};!E&&ke[0]&2&&(E=!0,Ie.state=ce[1].enabled,ut(()=>E=!1)),g.$set(Ie),ce[1].enabled?be?(be.p(ce,ke),ke[0]&2&&K(be,1)):(be=si(ce),be.c(),K(be,1),be.m(e,k)):be&&(Vt(),q(be,1,1,()=>{be=null}),St()),(!ue||ke[0]&32)&&T!==(T=ce[5].t("Image Generation Engine")+"")&&H($,T),(!ue||ke[0]&32)&&R!==(R=ce[5].t("Default (Open AI)")+"")&&H(U,R),(!ue||ke[0]&32)&&B!==(B=ce[5].t("ComfyUI")+"")&&H(M,B),(!ue||ke[0]&32)&&G!==(G=ce[5].t("Automatic1111")+"")&&H(W,G),(!ue||ke[0]&32&&z!==(z=ce[5].t("Select Engine")))&&o(V,"placeholder",z),ke[0]&2&&Xt(V,ce[1].engine);let Qe=X;X=ie(ce),X===Qe?~X&&$e[X].p(ce,ke):(F&&(Vt(),q($e[Qe],1,1,()=>{$e[Qe]=null}),St()),~X?(F=$e[X],F?F.p(ce,ke):(F=$e[X]=Re[X](ce),F.c()),K(F,1),F.m(Q,null)):F=null),(Je=ce[1])!=null&&Je.enabled?le?(le.p(ce,ke),ke[0]&2&&K(le,1)):(le=ui(ce),le.c(),K(le,1),le.m(ae.parentNode,ae)):le&&(Vt(),q(le,1,1,()=>{le=null}),St())},i(ce){ue||(K(g.$$.fragment,ce),K(be),K(F),K(le),ue=!0)},o(ce){q(g.$$.fragment,ce),q(be),q(F),q(le),ue=!1},d(ce){ce&&(c(e),c(x),c(te),c(Y),c(Q),c(J),c(ae)),pe(g),be&&be.d(),~X&&$e[X].d(),le&&le.d(ce),ne=!1,ol(De)}}}function si(s){let e,t,l=s[5].t("Image Prompt Generation")+"",a,i,r,f,u,h;function b(m){s[13](m)}let p={};return s[1].prompt_generation!==void 0&&(p.state=s[1].prompt_generation),f=new kl({props:p}),at.push(()=>ft(f,"state",b)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),de(f.$$.fragment),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=P(E,l),E.forEach(c),i=D(g),r=_(g,"DIV",{class:!0});var w=v(r);_e(f.$$.fragment,w),w.forEach(c),g.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium"),o(r,"class","px-1"),o(e,"class","py-1 flex w-full justify-between")},m(m,g){O(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),he(f,r,null),h=!0},p(m,g){(!h||g[0]&32)&&l!==(l=m[5].t("Image Prompt Generation")+"")&&H(a,l);const E={};!u&&g[0]&2&&(u=!0,E.state=m[1].prompt_generation,ut(()=>u=!1)),f.$set(E)},i(m){h||(K(f.$$.fragment,m),h=!0)},o(m){q(f.$$.fragment,m),h=!1},d(m){m&&c(e),pe(f)}}}function rc(s){let e,t,l=s[5].t("OpenAI API Config")+"",a,i,r,f,u,h,b,p,m,g,E;function w(I){s[31](I)}let k={placeholder:s[5].t("API Key")};return s[1].openai.OPENAI_API_KEY!==void 0&&(k.value=s[1].openai.OPENAI_API_KEY),b=new Vl({props:k}),at.push(()=>ft(b,"value",w)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("input"),h=A(),de(b.$$.fragment),this.h()},l(I){e=_(I,"DIV",{});var y=v(e);t=_(y,"DIV",{class:!0});var T=v(t);a=P(T,l),T.forEach(c),i=D(y),r=_(y,"DIV",{class:!0});var $=v(r);f=_($,"INPUT",{class:!0,placeholder:!0}),h=D($),_e(b.$$.fragment,$),$.forEach(c),y.forEach(c),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(f,"class","flex-1 w-full text-sm bg-transparent outline-none"),o(f,"placeholder",u=s[5].t("API Base URL")),f.required=!0,o(r,"class","flex gap-2 mb-1")},m(I,y){O(I,e,y),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),ee(f,s[1].openai.OPENAI_API_BASE_URL),n(r,h),he(b,r,null),m=!0,g||(E=se(f,"input",s[30]),g=!0)},p(I,y){(!m||y[0]&32)&&l!==(l=I[5].t("OpenAI API Config")+"")&&H(a,l),(!m||y[0]&32&&u!==(u=I[5].t("API Base URL")))&&o(f,"placeholder",u),y[0]&2&&f.value!==I[1].openai.OPENAI_API_BASE_URL&&ee(f,I[1].openai.OPENAI_API_BASE_URL);const T={};y[0]&32&&(T.placeholder=I[5].t("API Key")),!p&&y[0]&2&&(p=!0,T.value=I[1].openai.OPENAI_API_KEY,ut(()=>p=!1)),b.$set(T)},i(I){m||(K(b.$$.fragment,I),m=!0)},o(I){q(b.$$.fragment,I),m=!1},d(I){I&&c(e),pe(b),g=!1,E()}}}function nc(s){let e,t,l=s[5].t("ComfyUI Base URL")+"",a,i,r,f,u,h,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,E,w,k=s[5].t("ComfyUI API Key")+"",I,y,T,$,S,N,V,C,R,U=s[5].t("ComfyUI Workflow")+"",Z,B,M,j,G,W,z,x,te=s[5].t("Click here to upload a workflow.json file.")+"",Y,Q,X,F=s[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"",J,ae,ue,ne,De,ge;function Pe(ie){s[24](ie)}let be={placeholder:s[5].t("sk-1234"),required:!1};s[1].comfyui.COMFYUI_API_KEY!==void 0&&(be.value=s[1].comfyui.COMFYUI_API_KEY),S=new Vl({props:be}),at.push(()=>ft(S,"value",Pe));let Re=s[1].comfyui.COMFYUI_WORKFLOW&&ai(s),$e=s[1].comfyui.COMFYUI_WORKFLOW&&ri(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),b=A(),p=d("button"),p.innerHTML=m,g=A(),E=d("div"),w=d("div"),I=L(k),y=A(),T=d("div"),$=d("div"),de(S.$$.fragment),V=A(),C=d("div"),R=d("div"),Z=L(U),B=A(),Re&&Re.c(),M=A(),j=d("div"),G=d("div"),W=d("input"),z=A(),x=d("button"),Y=L(te),Q=A(),X=d("div"),J=L(F),ae=A(),$e&&$e.c(),ue=xt(),this.h()},l(ie){e=_(ie,"DIV",{class:!0});var le=v(e);t=_(le,"DIV",{class:!0});var Ee=v(t);a=P(Ee,l),Ee.forEach(c),i=D(le),r=_(le,"DIV",{class:!0});var ce=v(r);f=_(ce,"DIV",{class:!0});var ke=v(f);u=_(ke,"INPUT",{class:!0,placeholder:!0}),ke.forEach(c),b=D(ce),p=_(ce,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Gt(p)!=="svelte-6bmm9v"&&(p.innerHTML=m),ce.forEach(c),le.forEach(c),g=D(ie),E=_(ie,"DIV",{class:!0});var Ie=v(E);w=_(Ie,"DIV",{class:!0});var Qe=v(w);I=P(Qe,k),Qe.forEach(c),y=D(Ie),T=_(Ie,"DIV",{class:!0});var Je=v(T);$=_(Je,"DIV",{class:!0});var ve=v($);_e(S.$$.fragment,ve),ve.forEach(c),Je.forEach(c),Ie.forEach(c),V=D(ie),C=_(ie,"DIV",{class:!0});var ye=v(C);R=_(ye,"DIV",{class:!0});var fe=v(R);Z=P(fe,U),fe.forEach(c),B=D(ye),Re&&Re.l(ye),M=D(ye),j=_(ye,"DIV",{class:!0});var me=v(j);G=_(me,"DIV",{class:!0});var Oe=v(G);W=_(Oe,"INPUT",{id:!0,type:!0,accept:!0}),z=D(Oe),x=_(Oe,"BUTTON",{class:!0,type:!0});var Me=v(x);Y=P(Me,te),Me.forEach(c),Oe.forEach(c),me.forEach(c),Q=D(ye),X=_(ye,"DIV",{class:!0});var He=v(X);J=P(He,F),He.forEach(c),ye.forEach(c),ae=D(ie),$e&&$e.l(ie),ue=xt(),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"placeholder",h=s[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(f,"class","flex-1 mr-2"),o(p,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(p,"type","button"),o(r,"class","flex w-full"),o(e,"class",""),o(w,"class","mb-2 text-sm font-medium"),o($,"class","flex-1 mr-2"),o(T,"class","flex w-full"),o(E,"class",""),o(R,"class","mb-2 text-sm font-medium"),o(W,"id","upload-comfyui-workflow-input"),W.hidden=!0,o(W,"type","file"),o(W,"accept",".json"),o(x,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),o(x,"type","button"),o(G,"class","flex-1"),o(j,"class","flex w-full"),o(X,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(C,"class","")},m(ie,le){O(ie,e,le),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[1].comfyui.COMFYUI_BASE_URL),n(r,b),n(r,p),O(ie,g,le),O(ie,E,le),n(E,w),n(w,I),n(E,y),n(E,T),n(T,$),he(S,$,null),O(ie,V,le),O(ie,C,le),n(C,R),n(R,Z),n(C,B),Re&&Re.m(C,null),n(C,M),n(C,j),n(j,G),n(G,W),n(G,z),n(G,x),n(x,Y),n(C,Q),n(C,X),n(X,J),O(ie,ae,le),$e&&$e.m(ie,le),O(ie,ue,le),ne=!0,De||(ge=[se(u,"input",s[22]),se(p,"click",s[23]),se(W,"change",s[26]),se(x,"click",s[27])],De=!0)},p(ie,le){(!ne||le[0]&32)&&l!==(l=ie[5].t("ComfyUI Base URL")+"")&&H(a,l),(!ne||le[0]&32&&h!==(h=ie[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&o(u,"placeholder",h),le[0]&2&&u.value!==ie[1].comfyui.COMFYUI_BASE_URL&&ee(u,ie[1].comfyui.COMFYUI_BASE_URL),(!ne||le[0]&32)&&k!==(k=ie[5].t("ComfyUI API Key")+"")&&H(I,k);const Ee={};le[0]&32&&(Ee.placeholder=ie[5].t("sk-1234")),!N&&le[0]&2&&(N=!0,Ee.value=ie[1].comfyui.COMFYUI_API_KEY,ut(()=>N=!1)),S.$set(Ee),(!ne||le[0]&32)&&U!==(U=ie[5].t("ComfyUI Workflow")+"")&&H(Z,U),ie[1].comfyui.COMFYUI_WORKFLOW?Re?Re.p(ie,le):(Re=ai(ie),Re.c(),Re.m(C,M)):Re&&(Re.d(1),Re=null),(!ne||le[0]&32)&&te!==(te=ie[5].t("Click here to upload a workflow.json file.")+"")&&H(Y,te),(!ne||le[0]&32)&&F!==(F=ie[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"")&&H(J,F),ie[1].comfyui.COMFYUI_WORKFLOW?$e?($e.p(ie,le),le[0]&2&&K($e,1)):($e=ri(ie),$e.c(),K($e,1),$e.m(ue.parentNode,ue)):$e&&(Vt(),q($e,1,1,()=>{$e=null}),St())},i(ie){ne||(K(S.$$.fragment,ie),K($e),ne=!0)},o(ie){q(S.$$.fragment,ie),q($e),ne=!1},d(ie){ie&&(c(e),c(g),c(E),c(V),c(C),c(ae),c(ue)),pe(S),Re&&Re.d(),$e&&$e.d(ie),De=!1,ol(ge)}}}function ic(s){let e,t,l=s[5].t("AUTOMATIC1111 Base URL")+"",a,i,r,f,u,h,b,p,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,E,w=s[5].t("Include `--api` flag when running stable-diffusion-webui")+"",k,I,y,T=s[5].t("(e.g. `sh webui.sh --api`)")+"",$,S,N,V,C=s[5].t("AUTOMATIC1111 Api Auth String")+"",R,U,Z,B,M,j,G=s[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"",W,z,x,te=s[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"",Y,Q,X,F,J=s[5].t("Set Sampler")+"",ae,ue,ne,De,ge,Pe,be,Re,$e=s[5].t("Set Scheduler")+"",ie,le,Ee,ce,ke,Ie,Qe,Je,ve=s[5].t("Set CFG Scale")+"",ye,fe,me,Oe,Me,He,Ce,Ge;function je(re){s[18](re)}let $t={placeholder:s[5].t("Enter api auth string (e.g. username:password)"),required:!1};return s[1].automatic1111.AUTOMATIC1111_API_AUTH!==void 0&&($t.value=s[1].automatic1111.AUTOMATIC1111_API_AUTH),Z=new Vl({props:$t}),at.push(()=>ft(Z,"value",je)),ge=new Zt({props:{content:s[5].t("Enter Sampler (e.g. Euler a)"),placement:"top-start",$$slots:{default:[fc]},$$scope:{ctx:s}}}),ke=new Zt({props:{content:s[5].t("Enter Scheduler (e.g. Karras)"),placement:"top-start",$$slots:{default:[cc]},$$scope:{ctx:s}}}),Me=new Zt({props:{content:s[5].t("Enter CFG Scale (e.g. 7.0)"),placement:"top-start",$$slots:{default:[dc]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),b=A(),p=d("button"),p.innerHTML=m,g=A(),E=d("div"),k=L(w),I=A(),y=d("a"),$=L(T),S=A(),N=d("div"),V=d("div"),R=L(C),U=A(),de(Z.$$.fragment),M=A(),j=d("div"),W=L(G),z=A(),x=d("a"),Y=L(te),Q=A(),X=d("div"),F=d("div"),ae=L(J),ue=A(),ne=d("div"),De=d("div"),de(ge.$$.fragment),Pe=A(),be=d("div"),Re=d("div"),ie=L($e),le=A(),Ee=d("div"),ce=d("div"),de(ke.$$.fragment),Ie=A(),Qe=d("div"),Je=d("div"),ye=L(ve),fe=A(),me=d("div"),Oe=d("div"),de(Me.$$.fragment),this.h()},l(re){e=_(re,"DIV",{});var we=v(e);t=_(we,"DIV",{class:!0});var ht=v(t);a=P(ht,l),ht.forEach(c),i=D(we),r=_(we,"DIV",{class:!0});var mt=v(r);f=_(mt,"DIV",{class:!0});var gt=v(f);u=_(gt,"INPUT",{class:!0,placeholder:!0}),gt.forEach(c),b=D(mt),p=_(mt,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Gt(p)!=="svelte-6bmm9v"&&(p.innerHTML=m),mt.forEach(c),g=D(we),E=_(we,"DIV",{class:!0});var Ke=v(E);k=P(Ke,w),I=D(Ke),y=_(Ke,"A",{class:!0,href:!0,target:!0});var Ye=v(y);$=P(Ye,T),Ye.forEach(c),Ke.forEach(c),we.forEach(c),S=D(re),N=_(re,"DIV",{});var ct=v(N);V=_(ct,"DIV",{class:!0});var Ut=v(V);R=P(Ut,C),Ut.forEach(c),U=D(ct),_e(Z.$$.fragment,ct),M=D(ct),j=_(ct,"DIV",{class:!0});var At=v(j);W=P(At,G),z=D(At),x=_(At,"A",{class:!0,href:!0,target:!0});var Ae=v(x);Y=P(Ae,te),Ae.forEach(c),At.forEach(c),ct.forEach(c),Q=D(re),X=_(re,"DIV",{});var We=v(X);F=_(We,"DIV",{class:!0});var bt=v(F);ae=P(bt,J),bt.forEach(c),ue=D(We),ne=_(We,"DIV",{class:!0});var ot=v(ne);De=_(ot,"DIV",{class:!0});var dt=v(De);_e(ge.$$.fragment,dt),dt.forEach(c),ot.forEach(c),We.forEach(c),Pe=D(re),be=_(re,"DIV",{});var rt=v(be);Re=_(rt,"DIV",{class:!0});var lt=v(Re);ie=P(lt,$e),lt.forEach(c),le=D(rt),Ee=_(rt,"DIV",{class:!0});var et=v(Ee);ce=_(et,"DIV",{class:!0});var oe=v(ce);_e(ke.$$.fragment,oe),oe.forEach(c),et.forEach(c),rt.forEach(c),Ie=D(re),Qe=_(re,"DIV",{});var Le=v(Qe);Je=_(Le,"DIV",{class:!0});var Tt=v(Je);ye=P(Tt,ve),Tt.forEach(c),fe=D(Le),me=_(Le,"DIV",{class:!0});var Xe=v(me);Oe=_(Xe,"DIV",{class:!0});var Ot=v(Oe);_e(Me.$$.fragment,Ot),Ot.forEach(c),Xe.forEach(c),Le.forEach(c),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"placeholder",h=s[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(f,"class","flex-1 mr-2"),o(p,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(p,"type","button"),o(r,"class","flex w-full"),o(y,"class","text-gray-300 font-medium"),o(y,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),o(y,"target","_blank"),o(E,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(V,"class","mb-2 text-sm font-medium"),o(x,"class","text-gray-300 font-medium"),o(x,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993"),o(x,"target","_blank"),o(j,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(F,"class","mb-2.5 text-sm font-medium"),o(De,"class","flex-1 mr-2"),o(ne,"class","flex w-full"),o(Re,"class","mb-2.5 text-sm font-medium"),o(ce,"class","flex-1 mr-2"),o(Ee,"class","flex w-full"),o(Je,"class","mb-2.5 text-sm font-medium"),o(Oe,"class","flex-1 mr-2"),o(me,"class","flex w-full")},m(re,we){O(re,e,we),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[1].automatic1111.AUTOMATIC1111_BASE_URL),n(r,b),n(r,p),n(e,g),n(e,E),n(E,k),n(E,I),n(E,y),n(y,$),O(re,S,we),O(re,N,we),n(N,V),n(V,R),n(N,U),he(Z,N,null),n(N,M),n(N,j),n(j,W),n(j,z),n(j,x),n(x,Y),O(re,Q,we),O(re,X,we),n(X,F),n(F,ae),n(X,ue),n(X,ne),n(ne,De),he(ge,De,null),O(re,Pe,we),O(re,be,we),n(be,Re),n(Re,ie),n(be,le),n(be,Ee),n(Ee,ce),he(ke,ce,null),O(re,Ie,we),O(re,Qe,we),n(Qe,Je),n(Je,ye),n(Qe,fe),n(Qe,me),n(me,Oe),he(Me,Oe,null),He=!0,Ce||(Ge=[se(u,"input",s[16]),se(p,"click",s[17])],Ce=!0)},p(re,we){(!He||we[0]&32)&&l!==(l=re[5].t("AUTOMATIC1111 Base URL")+"")&&H(a,l),(!He||we[0]&32&&h!==(h=re[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&o(u,"placeholder",h),we[0]&2&&u.value!==re[1].automatic1111.AUTOMATIC1111_BASE_URL&&ee(u,re[1].automatic1111.AUTOMATIC1111_BASE_URL),(!He||we[0]&32)&&w!==(w=re[5].t("Include `--api` flag when running stable-diffusion-webui")+"")&&H(k,w),(!He||we[0]&32)&&T!==(T=re[5].t("(e.g. `sh webui.sh --api`)")+"")&&H($,T),(!He||we[0]&32)&&C!==(C=re[5].t("AUTOMATIC1111 Api Auth String")+"")&&H(R,C);const ht={};we[0]&32&&(ht.placeholder=re[5].t("Enter api auth string (e.g. username:password)")),!B&&we[0]&2&&(B=!0,ht.value=re[1].automatic1111.AUTOMATIC1111_API_AUTH,ut(()=>B=!1)),Z.$set(ht),(!He||we[0]&32)&&G!==(G=re[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"")&&H(W,G),(!He||we[0]&32)&&te!==(te=re[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"")&&H(Y,te),(!He||we[0]&32)&&J!==(J=re[5].t("Set Sampler")+"")&&H(ae,J);const mt={};we[0]&32&&(mt.content=re[5].t("Enter Sampler (e.g. Euler a)")),we[0]&34|we[1]&2097152&&(mt.$$scope={dirty:we,ctx:re}),ge.$set(mt),(!He||we[0]&32)&&$e!==($e=re[5].t("Set Scheduler")+"")&&H(ie,$e);const gt={};we[0]&32&&(gt.content=re[5].t("Enter Scheduler (e.g. Karras)")),we[0]&34|we[1]&2097152&&(gt.$$scope={dirty:we,ctx:re}),ke.$set(gt),(!He||we[0]&32)&&ve!==(ve=re[5].t("Set CFG Scale")+"")&&H(ye,ve);const Ke={};we[0]&32&&(Ke.content=re[5].t("Enter CFG Scale (e.g. 7.0)")),we[0]&34|we[1]&2097152&&(Ke.$$scope={dirty:we,ctx:re}),Me.$set(Ke)},i(re){He||(K(Z.$$.fragment,re),K(ge.$$.fragment,re),K(ke.$$.fragment,re),K(Me.$$.fragment,re),He=!0)},o(re){q(Z.$$.fragment,re),q(ge.$$.fragment,re),q(ke.$$.fragment,re),q(Me.$$.fragment,re),He=!1},d(re){re&&(c(e),c(S),c(N),c(Q),c(X),c(Pe),c(be),c(Ie),c(Qe)),pe(Z),pe(ge),pe(ke),pe(Me),Ce=!1,ol(Ge)}}}function ai(s){let e,t,l;return{c(){e=d("textarea"),this.h()},l(a){e=_(a,"TEXTAREA",{class:!0,rows:!0}),v(e).forEach(c),this.h()},h(){o(e,"class","w-full rounded-lg mb-1 py-2 px-4 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none disabled:text-gray-600 resize-none"),o(e,"rows","10"),e.required=!0},m(a,i){O(a,e,i),ee(e,s[1].comfyui.COMFYUI_WORKFLOW),t||(l=se(e,"input",s[25]),t=!0)},p(a,i){i[0]&2&&ee(e,a[1].comfyui.COMFYUI_WORKFLOW)},d(a){a&&c(e),t=!1,l()}}}function ri(s){let e,t,l=s[5].t("ComfyUI Workflow Nodes")+"",a,i,r,f,u,h=s[5].t("*Prompt node ID(s) are required for image generation")+"",b,p,m=It(s[4]),g=[];for(let w=0;w<m.length;w+=1)g[w]=ni(xn(s,m,w));const E=w=>q(g[w],1,1,()=>{g[w]=null});return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div");for(let w=0;w<g.length;w+=1)g[w].c();f=A(),u=d("div"),b=L(h),this.h()},l(w){e=_(w,"DIV",{class:!0});var k=v(e);t=_(k,"DIV",{class:!0});var I=v(t);a=P(I,l),I.forEach(c),i=D(k),r=_(k,"DIV",{class:!0});var y=v(r);for(let $=0;$<g.length;$+=1)g[$].l(y);y.forEach(c),f=D(k),u=_(k,"DIV",{class:!0});var T=v(u);b=P(T,h),T.forEach(c),k.forEach(c),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(r,"class","text-xs flex flex-col gap-1.5"),o(u,"class","mt-2 text-xs text-right text-gray-400 dark:text-gray-500"),o(e,"class","")},m(w,k){O(w,e,k),n(e,t),n(t,a),n(e,i),n(e,r);for(let I=0;I<g.length;I+=1)g[I]&&g[I].m(r,null);n(e,f),n(e,u),n(u,b),p=!0},p(w,k){if((!p||k[0]&32)&&l!==(l=w[5].t("ComfyUI Workflow Nodes")+"")&&H(a,l),k[0]&16){m=It(w[4]);let I;for(I=0;I<m.length;I+=1){const y=xn(w,m,I);g[I]?(g[I].p(y,k),K(g[I],1)):(g[I]=ni(y),g[I].c(),K(g[I],1),g[I].m(r,null))}for(Vt(),I=m.length;I<g.length;I+=1)E(I);St()}(!p||k[0]&32)&&h!==(h=w[5].t("*Prompt node ID(s) are required for image generation")+"")&&H(b,h)},i(w){if(!p){for(let k=0;k<m.length;k+=1)K(g[k]);p=!0}},o(w){g=g.filter(Boolean);for(let k=0;k<g.length;k+=1)q(g[k]);p=!1},d(w){w&&c(e),_l(g,w)}}}function oc(s){let e,t,l;function a(){s[28].call(e,s[50],s[51])}return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","py-1 px-3 w-24 text-xs text-center bg-transparent outline-none border-r dark:border-gray-850"),o(e,"placeholder","Key"),e.required=!0},m(i,r){O(i,e,r),ee(e,s[49].key),t||(l=se(e,"input",a),t=!0)},p(i,r){s=i,r[0]&16&&e.value!==s[49].key&&ee(e,s[49].key)},d(i){i&&c(e),t=!1,l()}}}function uc(s){let e,t,l;function a(){s[29].call(e,s[50],s[51])}return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full py-1 px-4 rounded-r-lg text-xs bg-transparent outline-none"),o(e,"placeholder","Node Ids")},m(i,r){O(i,e,r),ee(e,s[49].node_ids),t||(l=se(e,"input",a),t=!0)},p(i,r){s=i,r[0]&16&&e.value!==s[49].node_ids&&ee(e,s[49].node_ids)},d(i){i&&c(e),t=!1,l()}}}function ni(s){let e,t,l,a=s[49].type+"",i,r=s[49].type==="prompt"?"*":"",f,u,h,b,p,m,g,E,w;return b=new Zt({props:{content:"Input Key (e.g. text, unet_name, steps)",$$slots:{default:[oc]},$$scope:{ctx:s}}}),g=new Zt({props:{content:"Comma separated Node Ids (e.g. 1 or 1,2)",placement:"top-start",$$slots:{default:[uc]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),f=L(r),u=A(),h=d("div"),de(b.$$.fragment),p=A(),m=d("div"),de(g.$$.fragment),E=A(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var y=v(t);l=_(y,"DIV",{class:!0});var T=v(l);i=P(T,a),f=P(T,r),T.forEach(c),y.forEach(c),u=D(I),h=_(I,"DIV",{class:!0});var $=v(h);_e(b.$$.fragment,$),$.forEach(c),p=D(I),m=_(I,"DIV",{class:!0});var S=v(m);_e(g.$$.fragment,S),S.forEach(c),E=D(I),I.forEach(c),this.h()},h(){o(l,"class","capitalize line-clamp-1 font-medium px-3 py-1 w-20 text-center rounded-l-lg bg-green-500/10 text-green-700 dark:text-green-200"),o(t,"class","flex-shrink-0"),o(h,"class",""),o(m,"class","w-full"),o(e,"class","flex w-full items-center border dark:border-gray-850 rounded-lg")},m(k,I){O(k,e,I),n(e,t),n(t,l),n(l,i),n(l,f),n(e,u),n(e,h),he(b,h,null),n(e,p),n(e,m),he(g,m,null),n(e,E),w=!0},p(k,I){(!w||I[0]&16)&&a!==(a=k[49].type+"")&&H(i,a),(!w||I[0]&16)&&r!==(r=k[49].type==="prompt"?"*":"")&&H(f,r);const y={};I[0]&16|I[1]&2097152&&(y.$$scope={dirty:I,ctx:k}),b.$set(y);const T={};I[0]&16|I[1]&2097152&&(T.$$scope={dirty:I,ctx:k}),g.$set(T)},i(k){w||(K(b.$$.fragment,k),K(g.$$.fragment,k),w=!0)},o(k){q(b.$$.fragment,k),q(g.$$.fragment,k),w=!1},d(k){k&&c(e),pe(b),pe(g)}}}function ii(s){let e,t=s[46]+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){e.__value=s[46],ee(e,e.__value)},m(a,i){O(a,e,i),n(e,l)},p:vt,d(a){a&&c(e)}}}function fc(s){let e,t,l,a,i,r,f=It(s[7]??[]),u=[];for(let h=0;h<f.length;h+=1)u[h]=ii(ti(s,f,h));return{c(){e=d("input"),l=A(),a=d("datalist");for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){e=_(h,"INPUT",{list:!0,class:!0,placeholder:!0}),l=D(h),a=_(h,"DATALIST",{id:!0});var b=v(a);for(let p=0;p<u.length;p+=1)u[p].l(b);b.forEach(c),this.h()},h(){o(e,"list","sampler-list"),o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder",t=s[5].t("Enter Sampler (e.g. Euler a)")),o(a,"id","sampler-list")},m(h,b){O(h,e,b),ee(e,s[1].automatic1111.AUTOMATIC1111_SAMPLER),O(h,l,b),O(h,a,b);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(a,null);i||(r=se(e,"input",s[19]),i=!0)},p(h,b){if(b[0]&32&&t!==(t=h[5].t("Enter Sampler (e.g. Euler a)"))&&o(e,"placeholder",t),b[0]&2&&e.value!==h[1].automatic1111.AUTOMATIC1111_SAMPLER&&ee(e,h[1].automatic1111.AUTOMATIC1111_SAMPLER),b[0]&128){f=It(h[7]??[]);let p;for(p=0;p<f.length;p+=1){const m=ti(h,f,p);u[p]?u[p].p(m,b):(u[p]=ii(m),u[p].c(),u[p].m(a,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=f.length}},d(h){h&&(c(e),c(l),c(a)),_l(u,h),i=!1,r()}}}function oi(s){let e,t=s[43]+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){e.__value=s[43],ee(e,e.__value)},m(a,i){O(a,e,i),n(e,l)},p:vt,d(a){a&&c(e)}}}function cc(s){let e,t,l,a,i,r,f=It(s[8]??[]),u=[];for(let h=0;h<f.length;h+=1)u[h]=oi(ei(s,f,h));return{c(){e=d("input"),l=A(),a=d("datalist");for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){e=_(h,"INPUT",{list:!0,class:!0,placeholder:!0}),l=D(h),a=_(h,"DATALIST",{id:!0});var b=v(a);for(let p=0;p<u.length;p+=1)u[p].l(b);b.forEach(c),this.h()},h(){o(e,"list","scheduler-list"),o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder",t=s[5].t("Enter Scheduler (e.g. Karras)")),o(a,"id","scheduler-list")},m(h,b){O(h,e,b),ee(e,s[1].automatic1111.AUTOMATIC1111_SCHEDULER),O(h,l,b),O(h,a,b);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(a,null);i||(r=se(e,"input",s[20]),i=!0)},p(h,b){if(b[0]&32&&t!==(t=h[5].t("Enter Scheduler (e.g. Karras)"))&&o(e,"placeholder",t),b[0]&2&&e.value!==h[1].automatic1111.AUTOMATIC1111_SCHEDULER&&ee(e,h[1].automatic1111.AUTOMATIC1111_SCHEDULER),b[0]&256){f=It(h[8]??[]);let p;for(p=0;p<f.length;p+=1){const m=ei(h,f,p);u[p]?u[p].p(m,b):(u[p]=oi(m),u[p].c(),u[p].m(a,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=f.length}},d(h){h&&(c(e),c(l),c(a)),_l(u,h),i=!1,r()}}}function dc(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder",t=s[5].t("Enter CFG Scale (e.g. 7.0)"))},m(i,r){O(i,e,r),ee(e,s[1].automatic1111.AUTOMATIC1111_CFG_SCALE),l||(a=se(e,"input",s[21]),l=!0)},p(i,r){r[0]&32&&t!==(t=i[5].t("Enter CFG Scale (e.g. 7.0)"))&&o(e,"placeholder",t),r[0]&2&&e.value!==i[1].automatic1111.AUTOMATIC1111_CFG_SCALE&&ee(e,i[1].automatic1111.AUTOMATIC1111_CFG_SCALE)},d(i){i&&c(e),l=!1,a()}}}function ui(s){let e,t,l,a,i=s[5].t("Set Default Model")+"",r,f,u,h,b,p,m,g,E,w,k=s[5].t("Set Image Size")+"",I,y,T,$,S,N,V,C,R=s[5].t("Set Steps")+"",U,Z,B,M,j,G;return m=new Zt({props:{content:s[5].t("Enter Model ID"),placement:"top-start",$$slots:{default:[_c]},$$scope:{ctx:s}}}),S=new Zt({props:{content:s[5].t("Enter Image Size (e.g. 512x512)"),placement:"top-start",$$slots:{default:[hc]},$$scope:{ctx:s}}}),j=new Zt({props:{content:s[5].t("Enter Number of Steps (e.g. 50)"),placement:"top-start",$$slots:{default:[pc]},$$scope:{ctx:s}}}),{c(){e=d("hr"),t=A(),l=d("div"),a=d("div"),r=L(i),f=A(),u=d("div"),h=d("div"),b=d("div"),p=d("div"),de(m.$$.fragment),g=A(),E=d("div"),w=d("div"),I=L(k),y=A(),T=d("div"),$=d("div"),de(S.$$.fragment),N=A(),V=d("div"),C=d("div"),U=L(R),Z=A(),B=d("div"),M=d("div"),de(j.$$.fragment),this.h()},l(W){e=_(W,"HR",{class:!0}),t=D(W),l=_(W,"DIV",{});var z=v(l);a=_(z,"DIV",{class:!0});var x=v(a);r=P(x,i),x.forEach(c),f=D(z),u=_(z,"DIV",{class:!0});var te=v(u);h=_(te,"DIV",{class:!0});var Y=v(h);b=_(Y,"DIV",{class:!0});var Q=v(b);p=_(Q,"DIV",{class:!0});var X=v(p);_e(m.$$.fragment,X),X.forEach(c),Q.forEach(c),Y.forEach(c),te.forEach(c),z.forEach(c),g=D(W),E=_(W,"DIV",{});var F=v(E);w=_(F,"DIV",{class:!0});var J=v(w);I=P(J,k),J.forEach(c),y=D(F),T=_(F,"DIV",{class:!0});var ae=v(T);$=_(ae,"DIV",{class:!0});var ue=v($);_e(S.$$.fragment,ue),ue.forEach(c),ae.forEach(c),F.forEach(c),N=D(W),V=_(W,"DIV",{});var ne=v(V);C=_(ne,"DIV",{class:!0});var De=v(C);U=P(De,R),De.forEach(c),Z=D(ne),B=_(ne,"DIV",{class:!0});var ge=v(B);M=_(ge,"DIV",{class:!0});var Pe=v(M);_e(j.$$.fragment,Pe),Pe.forEach(c),ge.forEach(c),ne.forEach(c),this.h()},h(){o(e,"class","dark:border-gray-850"),o(a,"class","mb-2.5 text-sm font-medium"),o(p,"class","flex-1"),o(b,"class","flex w-full"),o(h,"class","flex-1 mr-2"),o(u,"class","flex w-full"),o(w,"class","mb-2.5 text-sm font-medium"),o($,"class","flex-1 mr-2"),o(T,"class","flex w-full"),o(C,"class","mb-2.5 text-sm font-medium"),o(M,"class","flex-1 mr-2"),o(B,"class","flex w-full")},m(W,z){O(W,e,z),O(W,t,z),O(W,l,z),n(l,a),n(a,r),n(l,f),n(l,u),n(u,h),n(h,b),n(b,p),he(m,p,null),O(W,g,z),O(W,E,z),n(E,w),n(w,I),n(E,y),n(E,T),n(T,$),he(S,$,null),O(W,N,z),O(W,V,z),n(V,C),n(C,U),n(V,Z),n(V,B),n(B,M),he(j,M,null),G=!0},p(W,z){(!G||z[0]&32)&&i!==(i=W[5].t("Set Default Model")+"")&&H(r,i);const x={};z[0]&32&&(x.content=W[5].t("Enter Model ID")),z[0]&12|z[1]&2097152&&(x.$$scope={dirty:z,ctx:W}),m.$set(x),(!G||z[0]&32)&&k!==(k=W[5].t("Set Image Size")+"")&&H(I,k);const te={};z[0]&32&&(te.content=W[5].t("Enter Image Size (e.g. 512x512)")),z[0]&36|z[1]&2097152&&(te.$$scope={dirty:z,ctx:W}),S.$set(te),(!G||z[0]&32)&&R!==(R=W[5].t("Set Steps")+"")&&H(U,R);const Y={};z[0]&32&&(Y.content=W[5].t("Enter Number of Steps (e.g. 50)")),z[0]&36|z[1]&2097152&&(Y.$$scope={dirty:z,ctx:W}),j.$set(Y)},i(W){G||(K(m.$$.fragment,W),K(S.$$.fragment,W),K(j.$$.fragment,W),G=!0)},o(W){q(m.$$.fragment,W),q(S.$$.fragment,W),q(j.$$.fragment,W),G=!1},d(W){W&&(c(e),c(t),c(l),c(g),c(E),c(N),c(V)),pe(m),pe(S),pe(j)}}}function fi(s){let e,t=s[40].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{});var r=v(e);l=P(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[40].id,ee(e,e.__value)},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&8&&t!==(t=i[40].name+"")&&H(l,t),r[0]&8&&a!==(a=i[40].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function _c(s){let e,t,l,a,i,r=It(s[3]??[]),f=[];for(let u=0;u<r.length;u+=1)f[u]=fi(Xn(s,r,u));return{c(){e=d("input"),t=A(),l=d("datalist");for(let u=0;u<f.length;u+=1)f[u].c();this.h()},l(u){e=_(u,"INPUT",{list:!0,class:!0,placeholder:!0}),t=D(u),l=_(u,"DATALIST",{id:!0});var h=v(l);for(let b=0;b<f.length;b+=1)f[b].l(h);h.forEach(c),this.h()},h(){o(e,"list","model-list"),o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder","Select a model"),e.required=!0,o(l,"id","model-list")},m(u,h){O(u,e,h),ee(e,s[2].MODEL),O(u,t,h),O(u,l,h);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(l,null);a||(i=se(e,"input",s[32]),a=!0)},p(u,h){if(h[0]&4&&e.value!==u[2].MODEL&&ee(e,u[2].MODEL),h[0]&8){r=It(u[3]??[]);let b;for(b=0;b<r.length;b+=1){const p=Xn(u,r,b);f[b]?f[b].p(p,h):(f[b]=fi(p),f[b].c(),f[b].m(l,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=r.length}},d(u){u&&(c(e),c(t),c(l)),_l(f,u),a=!1,i()}}}function hc(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder",t=s[5].t("Enter Image Size (e.g. 512x512)")),e.required=!0},m(i,r){O(i,e,r),ee(e,s[2].IMAGE_SIZE),l||(a=se(e,"input",s[33]),l=!0)},p(i,r){r[0]&32&&t!==(t=i[5].t("Enter Image Size (e.g. 512x512)"))&&o(e,"placeholder",t),r[0]&4&&e.value!==i[2].IMAGE_SIZE&&ee(e,i[2].IMAGE_SIZE)},d(i){i&&c(e),l=!1,a()}}}function pc(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"placeholder",t=s[5].t("Enter Number of Steps (e.g. 50)")),e.required=!0},m(i,r){O(i,e,r),ee(e,s[2].IMAGE_STEPS),l||(a=se(e,"input",s[34]),l=!0)},p(i,r){r[0]&32&&t!==(t=i[5].t("Enter Number of Steps (e.g. 50)"))&&o(e,"placeholder",t),r[0]&4&&e.value!==i[2].IMAGE_STEPS&&ee(e,i[2].IMAGE_STEPS)},d(i){i&&c(e),l=!1,a()}}}function ci(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function vc(s){let e,t,l,a,i,r=s[5].t("Save")+"",f,u,h,b,p,m,g=s[1]&&s[2]&&li(s),E=s[0]&&ci();return{c(){e=d("form"),t=d("div"),g&&g.c(),l=A(),a=d("div"),i=d("button"),f=L(r),u=A(),E&&E.c(),this.h()},l(w){e=_(w,"FORM",{class:!0});var k=v(e);t=_(k,"DIV",{class:!0});var I=v(t);g&&g.l(I),I.forEach(c),l=D(k),a=_(k,"DIV",{class:!0});var y=v(a);i=_(y,"BUTTON",{class:!0,type:!0});var T=v(i);f=P(T,r),u=D(T),E&&E.l(T),T.forEach(c),y.forEach(c),k.forEach(c),this.h()},h(){o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden pr-2"),o(i,"class",h="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),o(i,"type","submit"),i.disabled=s[0],o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(w,k){O(w,e,k),n(e,t),g&&g.m(t,null),n(e,l),n(e,a),n(a,i),n(i,f),n(i,u),E&&E.m(i,null),b=!0,p||(m=se(e,"submit",us(s[35])),p=!0)},p(w,k){w[1]&&w[2]?g?(g.p(w,k),k[0]&6&&K(g,1)):(g=li(w),g.c(),K(g,1),g.m(t,null)):g&&(Vt(),q(g,1,1,()=>{g=null}),St()),(!b||k[0]&32)&&r!==(r=w[5].t("Save")+"")&&H(f,r),w[0]?E||(E=ci(),E.c(),E.m(i,null)):E&&(E.d(1),E=null),(!b||k[0]&1&&h!==(h="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(w[0]?" cursor-not-allowed":"")))&&o(i,"class",h),(!b||k[0]&1)&&(i.disabled=w[0])},i(w){b||(K(g),b=!0)},o(w){q(g),b=!1},d(w){w&&c(e),g&&g.d(),E&&E.d(),p=!1,m()}}}function mc(s,e,t){let l,a;nl(s,ia,ne=>t(36,l=ne));const i=ys(),r=Dl("i18n");nl(s,r,ne=>t(5,a=ne));let f=!1,u=null,h=null,b=null,p=["DPM++ 2M","DPM++ SDE","DPM++ 2M SDE","DPM++ 2M SDE Heun","DPM++ 2S a","DPM++ 3M SDE","Euler a","Euler","LMS","Heun","DPM2","DPM2 a","DPM fast","DPM adaptive","Restart","DDIM","DDIM CFG++","PLMS","UniPC"],m=["Automatic","Uniform","Karras","Exponential","Polyexponential","SGM Uniform","KL Optimal","Align Your Steps","Simple","Normal","DDIM","Beta"],g=[{type:"prompt",key:"text",node_ids:""},{type:"model",key:"ckpt_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""},{type:"steps",key:"steps",node_ids:""},{type:"seed",key:"seed",node_ids:""}];const E=async()=>{t(3,b=await Su(localStorage.token).catch(ne=>(ze.error(`${ne}`),null)))},w=async()=>{const ne=await _n(localStorage.token,u).catch(De=>(ze.error(`${De}`),null)).catch(De=>(ze.error(`${De}`),null));ne&&t(1,u=ne),u.enabled&&(Hs.set(await ra()),E())},k=ne=>{try{const De=JSON.parse(ne);if(De&&typeof De=="object")return!0}catch{}return!1},I=async()=>{var ne,De;if(t(0,f=!0),(ne=u==null?void 0:u.comfyui)!=null&&ne.COMFYUI_WORKFLOW&&!k(u.comfyui.COMFYUI_WORKFLOW)){ze.error("Invalid JSON format for ComfyUI Workflow."),t(0,f=!1);return}(De=u==null?void 0:u.comfyui)!=null&&De.COMFYUI_WORKFLOW&&t(1,u.comfyui.COMFYUI_WORKFLOW_NODES=g.map(ge=>({type:ge.type,key:ge.key,node_ids:ge.node_ids.trim()===""?[]:ge.node_ids.split(",").map(Pe=>Pe.trim())})),u),await _n(localStorage.token,u).catch(ge=>(ze.error(`${ge}`),t(0,f=!1),null)),await Nu(localStorage.token,h).catch(ge=>(ze.error(`${ge}`),t(0,f=!1),null)),E(),i("save"),t(0,f=!1)};Fl(async()=>{if(l.role==="admin"){const ne=await $u(localStorage.token).catch(ge=>(ze.error(`${ge}`),null));ne&&t(1,u=ne),u.enabled&&E(),u.comfyui.COMFYUI_WORKFLOW&&t(1,u.comfyui.COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(u.comfyui.COMFYUI_WORKFLOW),null,2),u),t(4,g=g.map(ge=>{const Pe=u.comfyui.COMFYUI_WORKFLOW_NODES.find(be=>be.type===ge.type)??ge;return console.log(Pe),{type:Pe.type,key:Pe.key,node_ids:typeof Pe.node_ids=="string"?Pe.node_ids:Pe.node_ids.join(",")}}));const De=await Vu(localStorage.token).catch(ge=>(ze.error(`${ge}`),null));De&&t(2,h=De)}});function y(ne){s.$$.not_equal(u.enabled,ne)&&(u.enabled=ne,t(1,u))}const T=ne=>{ne.detail&&(u.engine==="automatic1111"&&u.automatic1111.AUTOMATIC1111_BASE_URL===""?(ze.error(a.t("AUTOMATIC1111 Base URL is required.")),t(1,u.enabled=!1,u)):u.engine==="comfyui"&&u.comfyui.COMFYUI_BASE_URL===""?(ze.error(a.t("ComfyUI Base URL is required.")),t(1,u.enabled=!1,u)):u.engine==="openai"&&u.openai.OPENAI_API_KEY===""&&(ze.error(a.t("OpenAI API Key is required.")),t(1,u.enabled=!1,u))),w()};function $(ne){s.$$.not_equal(u.prompt_generation,ne)&&(u.prompt_generation=ne,t(1,u))}function S(){u.engine=Ol(this),t(1,u)}const N=async()=>{w()};function V(){u.automatic1111.AUTOMATIC1111_BASE_URL=this.value,t(1,u)}const C=async()=>{await w(),await hn(localStorage.token).catch(De=>(ze.error(`${De}`),null))&&ze.success(a.t("Server connection verified"))};function R(ne){s.$$.not_equal(u.automatic1111.AUTOMATIC1111_API_AUTH,ne)&&(u.automatic1111.AUTOMATIC1111_API_AUTH=ne,t(1,u))}function U(){u.automatic1111.AUTOMATIC1111_SAMPLER=this.value,t(1,u)}function Z(){u.automatic1111.AUTOMATIC1111_SCHEDULER=this.value,t(1,u)}function B(){u.automatic1111.AUTOMATIC1111_CFG_SCALE=this.value,t(1,u)}function M(){u.comfyui.COMFYUI_BASE_URL=this.value,t(1,u)}const j=async()=>{await w(),await hn(localStorage.token).catch(De=>(ze.error(`${De}`),null))&&ze.success(a.t("Server connection verified"))};function G(ne){s.$$.not_equal(u.comfyui.COMFYUI_API_KEY,ne)&&(u.comfyui.COMFYUI_API_KEY=ne,t(1,u))}function W(){u.comfyui.COMFYUI_WORKFLOW=this.value,t(1,u)}const z=ne=>{const De=ne.target.files[0],ge=new FileReader;ge.onload=Pe=>{t(1,u.comfyui.COMFYUI_WORKFLOW=Pe.target.result,u),Pe.target.value=null},ge.readAsText(De)},x=()=>{var ne;(ne=document.getElementById("upload-comfyui-workflow-input"))==null||ne.click()};function te(ne,De){ne[De].key=this.value,t(4,g)}function Y(ne,De){ne[De].node_ids=this.value,t(4,g)}function Q(){u.openai.OPENAI_API_BASE_URL=this.value,t(1,u)}function X(ne){s.$$.not_equal(u.openai.OPENAI_API_KEY,ne)&&(u.openai.OPENAI_API_KEY=ne,t(1,u))}function F(){h.MODEL=this.value,t(2,h)}function J(){h.IMAGE_SIZE=this.value,t(2,h)}function ae(){h.IMAGE_STEPS=this.value,t(2,h)}return[f,u,h,b,g,a,r,p,m,w,I,y,T,$,S,N,V,C,R,U,Z,B,M,j,G,W,z,x,te,Y,Q,X,F,J,ae,async()=>{I()}]}class gc extends gl{constructor(e){super(),bl(this,e,mc,vc,ml,{},null,[-1,-1])}}function di(s,e,t){const l=s.slice();return l[34]=e[t],l[35]=e,l[36]=t,l}function _i(s,e,t){const l=s.slice();return l[37]=e[t],l[38]=e,l[39]=t,l}function hi(s,e,t){const l=s.slice();return l[40]=e[t],l}function pi(s,e,t){const l=s.slice();return l[40]=e[t],l}function vi(s){let e,t,l,a,i,r=s[3].t("Set Task Model")+"",f,u,h,b,p,m,g,E=s[3].t("Local Models")+"",w,k,I,y,T=s[3].t("Current Model")+"",$,S,N,V,C,R=s[3].t("External Models")+"",U,Z,B,M,j=s[3].t("Current Model")+"",G,W,z,x,te,Y=s[3].t("Title Generation Prompt")+"",Q,X,F,J,ae,ue,ne=s[3].t("Image Prompt Generation Prompt")+"",De,ge,Pe,be,Re,$e,ie,le,Ee=s[3].t("Autocomplete Generation")+"",ce,ke,Ie,Qe,Je,ve,ye,fe,me,Oe=s[3].t("Tags Generation")+"",Me,He,Ce,Ge,je,$t,re,we,ht,mt,gt=s[3].t("Retrieval Query Generation")+"",Ke,Ye,ct,Ut,At,Ae,We,bt=s[3].t("Web Search Query Generation")+"",ot,dt,rt,lt,et,oe,Le,Tt=s[3].t("Query Generation Prompt")+"",Xe,Ot,wt,it,Pt,zt,qt=s[3].t("Tools Function Calling Prompt")+"",Dt,Rt,Nt,Ue,Te,Ne,pt,xe,_t,Kt=s[3].t("Banners")+"",Lt,Bt,Et,Ze='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',Be,tt,kt,Mt,rl,tl,Ht,ul=s[3].t("Save")+"",hl,jt,Il,cl;h=new Zt({props:{content:s[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries"),$$slots:{default:[bc]},$$scope:{ctx:s}}});let il=It(s[4].filter(Ai)),yt=[];for(let Ve=0;Ve<il.length;Ve+=1)yt[Ve]=mi(pi(s,il,Ve));let dl=It(s[4]),Yt=[];for(let Ve=0;Ve<dl.length;Ve+=1)Yt[Ve]=gi(hi(s,dl,Ve));F=new Zt({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[Ec]},$$scope:{ctx:s}}}),Pe=new Zt({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[wc]},$$scope:{ctx:s}}}),Ie=new Zt({props:{content:s[3].t("Enable autocomplete generation for chat messages"),$$slots:{default:[kc]},$$scope:{ctx:s}}});let Qt=s[0].ENABLE_AUTOCOMPLETE_GENERATION&&bi(s);function Ml(Ve){s[15](Ve)}let pl={};s[0].ENABLE_TAGS_GENERATION!==void 0&&(pl.state=s[0].ENABLE_TAGS_GENERATION),Ce=new kl({props:pl}),at.push(()=>ft(Ce,"state",Ml));let Ft=s[0].ENABLE_TAGS_GENERATION&&Ei(s);function Jt(Ve){s[17](Ve)}let Rl={};s[0].ENABLE_RETRIEVAL_QUERY_GENERATION!==void 0&&(Rl.state=s[0].ENABLE_RETRIEVAL_QUERY_GENERATION),ct=new kl({props:Rl}),at.push(()=>ft(ct,"state",Jt));function Pl(Ve){s[18](Ve)}let Ul={};s[0].ENABLE_SEARCH_QUERY_GENERATION!==void 0&&(Ul.state=s[0].ENABLE_SEARCH_QUERY_GENERATION),rt=new kl({props:Ul}),at.push(()=>ft(rt,"state",Pl)),wt=new Zt({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[Tc]},$$scope:{ctx:s}}}),Nt=new Zt({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[Ac]},$$scope:{ctx:s}}});let fl=It(s[2]),Wt=[];for(let Ve=0;Ve<fl.length;Ve+=1)Wt[Ve]=ki(_i(s,fl,Ve));const Wl=Ve=>q(Wt[Ve],1,1,()=>{Wt[Ve]=null});let El=s[5].role==="admin"&&Ii(s);return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=d("div"),f=L(r),u=A(),de(h.$$.fragment),b=A(),p=d("div"),m=d("div"),g=d("div"),w=L(E),k=A(),I=d("select"),y=d("option"),$=L(T);for(let Ve=0;Ve<yt.length;Ve+=1)yt[Ve].c();N=A(),V=d("div"),C=d("div"),U=L(R),Z=A(),B=d("select"),M=d("option"),G=L(j);for(let Ve=0;Ve<Yt.length;Ve+=1)Yt[Ve].c();z=A(),x=d("div"),te=d("div"),Q=L(Y),X=A(),de(F.$$.fragment),J=A(),ae=d("div"),ue=d("div"),De=L(ne),ge=A(),de(Pe.$$.fragment),be=A(),Re=d("hr"),$e=A(),ie=d("div"),le=d("div"),ce=L(Ee),ke=A(),de(Ie.$$.fragment),Qe=A(),Qt&&Qt.c(),Je=A(),ve=d("hr"),ye=A(),fe=d("div"),me=d("div"),Me=L(Oe),He=A(),de(Ce.$$.fragment),je=A(),Ft&&Ft.c(),$t=A(),re=d("hr"),we=A(),ht=d("div"),mt=d("div"),Ke=L(gt),Ye=A(),de(ct.$$.fragment),At=A(),Ae=d("div"),We=d("div"),ot=L(bt),dt=A(),de(rt.$$.fragment),et=A(),oe=d("div"),Le=d("div"),Xe=L(Tt),Ot=A(),de(wt.$$.fragment),it=A(),Pt=d("div"),zt=d("div"),Dt=L(qt),Rt=A(),de(Nt.$$.fragment),Ue=A(),Te=d("hr"),Ne=A(),pt=d("div"),xe=d("div"),_t=d("div"),Lt=L(Kt),Bt=A(),Et=d("button"),Et.innerHTML=Ze,Be=A(),tt=d("div");for(let Ve=0;Ve<Wt.length;Ve+=1)Wt[Ve].c();Mt=A(),El&&El.c(),rl=A(),tl=d("div"),Ht=d("button"),hl=L(ul),this.h()},l(Ve){e=_(Ve,"FORM",{class:!0});var st=v(e);t=_(st,"DIV",{class:!0});var Fe=v(t);l=_(Fe,"DIV",{});var qe=v(l);a=_(qe,"DIV",{class:!0});var vl=v(a);i=_(vl,"DIV",{class:!0});var wl=v(i);f=P(wl,r),wl.forEach(c),u=D(vl),_e(h.$$.fragment,vl),vl.forEach(c),b=D(qe),p=_(qe,"DIV",{class:!0});var yl=v(p);m=_(yl,"DIV",{class:!0});var Tl=v(m);g=_(Tl,"DIV",{class:!0});var Kl=v(g);w=P(Kl,E),Kl.forEach(c),k=D(Tl),I=_(Tl,"SELECT",{class:!0,placeholder:!0});var Bl=v(I);y=_(Bl,"OPTION",{});var Hl=v(y);$=P(Hl,T),Hl.forEach(c);for(let $l=0;$l<yt.length;$l+=1)yt[$l].l(Bl);Bl.forEach(c),Tl.forEach(c),N=D(yl),V=_(yl,"DIV",{class:!0});var Ct=v(V);C=_(Ct,"DIV",{class:!0});var Al=v(C);U=P(Al,R),Al.forEach(c),Z=D(Ct),B=_(Ct,"SELECT",{class:!0,placeholder:!0});var ts=v(B);M=_(ts,"OPTION",{});var ss=v(M);G=P(ss,j),ss.forEach(c);for(let $l=0;$l<Yt.length;$l+=1)Yt[$l].l(ts);ts.forEach(c),Ct.forEach(c),yl.forEach(c),z=D(qe),x=_(qe,"DIV",{class:!0});var is=v(x);te=_(is,"DIV",{class:!0});var fs=v(te);Q=P(fs,Y),fs.forEach(c),X=D(is),_e(F.$$.fragment,is),is.forEach(c),J=D(qe),ae=_(qe,"DIV",{class:!0});var hs=v(ae);ue=_(hs,"DIV",{class:!0});var as=v(ue);De=P(as,ne),as.forEach(c),ge=D(hs),_e(Pe.$$.fragment,hs),hs.forEach(c),be=D(qe),Re=_(qe,"HR",{class:!0}),$e=D(qe),ie=_(qe,"DIV",{class:!0});var Sl=v(ie);le=_(Sl,"DIV",{class:!0});var cs=v(le);ce=P(cs,Ee),cs.forEach(c),ke=D(Sl),_e(Ie.$$.fragment,Sl),Sl.forEach(c),Qe=D(qe),Qt&&Qt.l(qe),Je=D(qe),ve=_(qe,"HR",{class:!0}),ye=D(qe),fe=_(qe,"DIV",{class:!0});var ps=v(fe);me=_(ps,"DIV",{class:!0});var jl=v(me);Me=P(jl,Oe),jl.forEach(c),He=D(ps),_e(Ce.$$.fragment,ps),ps.forEach(c),je=D(qe),Ft&&Ft.l(qe),$t=D(qe),re=_(qe,"HR",{class:!0}),we=D(qe),ht=_(qe,"DIV",{class:!0});var rs=v(ht);mt=_(rs,"DIV",{class:!0});var vs=v(mt);Ke=P(vs,gt),vs.forEach(c),Ye=D(rs),_e(ct.$$.fragment,rs),rs.forEach(c),At=D(qe),Ae=_(qe,"DIV",{class:!0});var ds=v(Ae);We=_(ds,"DIV",{class:!0});var Ts=v(We);ot=P(Ts,bt),Ts.forEach(c),dt=D(ds),_e(rt.$$.fragment,ds),ds.forEach(c),et=D(qe),oe=_(qe,"DIV",{class:!0});var Gl=v(oe);Le=_(Gl,"DIV",{class:!0});var Cl=v(Le);Xe=P(Cl,Tt),Cl.forEach(c),Ot=D(Gl),_e(wt.$$.fragment,Gl),Gl.forEach(c),qe.forEach(c),it=D(Fe),Pt=_(Fe,"DIV",{class:!0});var _s=v(Pt);zt=_(_s,"DIV",{class:!0});var As=v(zt);Dt=P(As,qt),As.forEach(c),Rt=D(_s),_e(Nt.$$.fragment,_s),_s.forEach(c),Ue=D(Fe),Te=_(Fe,"HR",{class:!0}),Ne=D(Fe),pt=_(Fe,"DIV",{class:!0});var Yl=v(pt);xe=_(Yl,"DIV",{class:!0});var zl=v(xe);_t=_(zl,"DIV",{class:!0});var ns=v(_t);Lt=P(ns,Kt),ns.forEach(c),Bt=D(zl),Et=_(zl,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Gt(Et)!=="svelte-xbzktt"&&(Et.innerHTML=Ze),zl.forEach(c),Be=D(Yl),tt=_(Yl,"DIV",{class:!0});var ms=v(tt);for(let $l=0;$l<Wt.length;$l+=1)Wt[$l].l(ms);ms.forEach(c),Yl.forEach(c),Mt=D(Fe),El&&El.l(Fe),Fe.forEach(c),rl=D(st),tl=_(st,"DIV",{class:!0});var ws=v(tl);Ht=_(ws,"BUTTON",{class:!0,type:!0});var Ds=v(Ht);hl=P(Ds,ul),Ds.forEach(c),ws.forEach(c),st.forEach(c),this.h()},h(){o(i,"class","mr-1"),o(a,"class","mb-2.5 text-sm font-medium flex items-center"),o(g,"class","text-xs mb-1"),y.__value="",ee(y,y.__value),y.selected=!0,o(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(I,"placeholder",S=s[3].t("Select a model")),s[0].TASK_MODEL===void 0&&Ll(()=>s[9].call(I)),o(m,"class","flex-1"),o(C,"class","text-xs mb-1"),M.__value="",ee(M,M.__value),M.selected=!0,o(B,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(B,"placeholder",W=s[3].t("Select a model")),s[0].TASK_MODEL_EXTERNAL===void 0&&Ll(()=>s[10].call(B)),o(V,"class","flex-1"),o(p,"class","flex w-full gap-2"),o(te,"class","mb-2.5 text-xs font-medium"),o(x,"class","mt-3"),o(ue,"class","mb-2.5 text-xs font-medium"),o(ae,"class","mt-3"),o(Re,"class","border-gray-50 dark:border-gray-850 my-3"),o(le,"class","self-center text-xs font-medium"),o(ie,"class","my-3 flex w-full items-center justify-between"),o(ve,"class","border-gray-50 dark:border-gray-850 my-3"),o(me,"class","self-center text-xs font-medium"),o(fe,"class","my-3 flex w-full items-center justify-between"),o(re,"class","border-gray-50 dark:border-gray-850 my-3"),o(mt,"class","self-center text-xs font-medium"),o(ht,"class","my-3 flex w-full items-center justify-between"),o(We,"class","self-center text-xs font-medium"),o(Ae,"class","my-3 flex w-full items-center justify-between"),o(Le,"class","mb-2.5 text-xs font-medium"),o(oe,"class",""),o(zt,"class","mb-2.5 text-xs font-medium"),o(Pt,"class","mt-3"),o(Te,"class","border-gray-50 dark:border-gray-850 my-3"),o(_t,"class","self-center text-sm font-semibold"),o(Et,"class","p-1 px-3 text-xs flex rounded transition"),o(Et,"type","button"),o(xe,"class","flex w-full justify-between"),o(tt,"class","flex flex-col space-y-1"),o(pt,"class",kt="space-y-3 "+(s[2].length>0?" mb-3":"")),o(t,"class","overflow-y-scroll scrollbar-hidden h-full pr-1.5"),o(Ht,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(Ht,"type","submit"),o(tl,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Ve,st){O(Ve,e,st),n(e,t),n(t,l),n(l,a),n(a,i),n(i,f),n(a,u),he(h,a,null),n(l,b),n(l,p),n(p,m),n(m,g),n(g,w),n(m,k),n(m,I),n(I,y),n(y,$);for(let Fe=0;Fe<yt.length;Fe+=1)yt[Fe]&&yt[Fe].m(I,null);Xt(I,s[0].TASK_MODEL,!0),n(p,N),n(p,V),n(V,C),n(C,U),n(V,Z),n(V,B),n(B,M),n(M,G);for(let Fe=0;Fe<Yt.length;Fe+=1)Yt[Fe]&&Yt[Fe].m(B,null);Xt(B,s[0].TASK_MODEL_EXTERNAL,!0),n(l,z),n(l,x),n(x,te),n(te,Q),n(x,X),he(F,x,null),n(l,J),n(l,ae),n(ae,ue),n(ue,De),n(ae,ge),he(Pe,ae,null),n(l,be),n(l,Re),n(l,$e),n(l,ie),n(ie,le),n(le,ce),n(ie,ke),he(Ie,ie,null),n(l,Qe),Qt&&Qt.m(l,null),n(l,Je),n(l,ve),n(l,ye),n(l,fe),n(fe,me),n(me,Me),n(fe,He),he(Ce,fe,null),n(l,je),Ft&&Ft.m(l,null),n(l,$t),n(l,re),n(l,we),n(l,ht),n(ht,mt),n(mt,Ke),n(ht,Ye),he(ct,ht,null),n(l,At),n(l,Ae),n(Ae,We),n(We,ot),n(Ae,dt),he(rt,Ae,null),n(l,et),n(l,oe),n(oe,Le),n(Le,Xe),n(oe,Ot),he(wt,oe,null),n(t,it),n(t,Pt),n(Pt,zt),n(zt,Dt),n(Pt,Rt),he(Nt,Pt,null),n(t,Ue),n(t,Te),n(t,Ne),n(t,pt),n(pt,xe),n(xe,_t),n(_t,Lt),n(xe,Bt),n(xe,Et),n(pt,Be),n(pt,tt);for(let Fe=0;Fe<Wt.length;Fe+=1)Wt[Fe]&&Wt[Fe].m(tt,null);n(t,Mt),El&&El.m(t,null),n(e,rl),n(e,tl),n(tl,Ht),n(Ht,hl),jt=!0,Il||(cl=[se(I,"change",s[9]),se(B,"change",s[10]),se(Et,"click",s[21]),se(e,"submit",us(s[31]))],Il=!0)},p(Ve,st){(!jt||st[0]&8)&&r!==(r=Ve[3].t("Set Task Model")+"")&&H(f,r);const Fe={};if(st[0]&8&&(Fe.content=Ve[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries")),st[1]&16384&&(Fe.$$scope={dirty:st,ctx:Ve}),h.$set(Fe),(!jt||st[0]&8)&&E!==(E=Ve[3].t("Local Models")+"")&&H(w,E),(!jt||st[0]&8)&&T!==(T=Ve[3].t("Current Model")+"")&&H($,T),st[0]&16){il=It(Ve[4].filter(Ai));let Ct;for(Ct=0;Ct<il.length;Ct+=1){const Al=pi(Ve,il,Ct);yt[Ct]?yt[Ct].p(Al,st):(yt[Ct]=mi(Al),yt[Ct].c(),yt[Ct].m(I,null))}for(;Ct<yt.length;Ct+=1)yt[Ct].d(1);yt.length=il.length}if((!jt||st[0]&8&&S!==(S=Ve[3].t("Select a model")))&&o(I,"placeholder",S),st[0]&17&&Xt(I,Ve[0].TASK_MODEL),(!jt||st[0]&8)&&R!==(R=Ve[3].t("External Models")+"")&&H(U,R),(!jt||st[0]&8)&&j!==(j=Ve[3].t("Current Model")+"")&&H(G,j),st[0]&16){dl=It(Ve[4]);let Ct;for(Ct=0;Ct<dl.length;Ct+=1){const Al=hi(Ve,dl,Ct);Yt[Ct]?Yt[Ct].p(Al,st):(Yt[Ct]=gi(Al),Yt[Ct].c(),Yt[Ct].m(B,null))}for(;Ct<Yt.length;Ct+=1)Yt[Ct].d(1);Yt.length=dl.length}(!jt||st[0]&8&&W!==(W=Ve[3].t("Select a model")))&&o(B,"placeholder",W),st[0]&17&&Xt(B,Ve[0].TASK_MODEL_EXTERNAL),(!jt||st[0]&8)&&Y!==(Y=Ve[3].t("Title Generation Prompt")+"")&&H(Q,Y);const qe={};st[0]&8&&(qe.content=Ve[3].t("Leave empty to use the default prompt, or enter a custom prompt")),st[0]&9|st[1]&16384&&(qe.$$scope={dirty:st,ctx:Ve}),F.$set(qe),(!jt||st[0]&8)&&ne!==(ne=Ve[3].t("Image Prompt Generation Prompt")+"")&&H(De,ne);const vl={};st[0]&8&&(vl.content=Ve[3].t("Leave empty to use the default prompt, or enter a custom prompt")),st[0]&9|st[1]&16384&&(vl.$$scope={dirty:st,ctx:Ve}),Pe.$set(vl),(!jt||st[0]&8)&&Ee!==(Ee=Ve[3].t("Autocomplete Generation")+"")&&H(ce,Ee);const wl={};st[0]&8&&(wl.content=Ve[3].t("Enable autocomplete generation for chat messages")),st[0]&1|st[1]&16384&&(wl.$$scope={dirty:st,ctx:Ve}),Ie.$set(wl),Ve[0].ENABLE_AUTOCOMPLETE_GENERATION?Qt?(Qt.p(Ve,st),st[0]&1&&K(Qt,1)):(Qt=bi(Ve),Qt.c(),K(Qt,1),Qt.m(l,Je)):Qt&&(Vt(),q(Qt,1,1,()=>{Qt=null}),St()),(!jt||st[0]&8)&&Oe!==(Oe=Ve[3].t("Tags Generation")+"")&&H(Me,Oe);const yl={};!Ge&&st[0]&1&&(Ge=!0,yl.state=Ve[0].ENABLE_TAGS_GENERATION,ut(()=>Ge=!1)),Ce.$set(yl),Ve[0].ENABLE_TAGS_GENERATION?Ft?(Ft.p(Ve,st),st[0]&1&&K(Ft,1)):(Ft=Ei(Ve),Ft.c(),K(Ft,1),Ft.m(l,$t)):Ft&&(Vt(),q(Ft,1,1,()=>{Ft=null}),St()),(!jt||st[0]&8)&&gt!==(gt=Ve[3].t("Retrieval Query Generation")+"")&&H(Ke,gt);const Tl={};!Ut&&st[0]&1&&(Ut=!0,Tl.state=Ve[0].ENABLE_RETRIEVAL_QUERY_GENERATION,ut(()=>Ut=!1)),ct.$set(Tl),(!jt||st[0]&8)&&bt!==(bt=Ve[3].t("Web Search Query Generation")+"")&&H(ot,bt);const Kl={};!lt&&st[0]&1&&(lt=!0,Kl.state=Ve[0].ENABLE_SEARCH_QUERY_GENERATION,ut(()=>lt=!1)),rt.$set(Kl),(!jt||st[0]&8)&&Tt!==(Tt=Ve[3].t("Query Generation Prompt")+"")&&H(Xe,Tt);const Bl={};st[0]&8&&(Bl.content=Ve[3].t("Leave empty to use the default prompt, or enter a custom prompt")),st[0]&9|st[1]&16384&&(Bl.$$scope={dirty:st,ctx:Ve}),wt.$set(Bl),(!jt||st[0]&8)&&qt!==(qt=Ve[3].t("Tools Function Calling Prompt")+"")&&H(Dt,qt);const Hl={};if(st[0]&8&&(Hl.content=Ve[3].t("Leave empty to use the default prompt, or enter a custom prompt")),st[0]&9|st[1]&16384&&(Hl.$$scope={dirty:st,ctx:Ve}),Nt.$set(Hl),(!jt||st[0]&8)&&Kt!==(Kt=Ve[3].t("Banners")+"")&&H(Lt,Kt),st[0]&12){fl=It(Ve[2]);let Ct;for(Ct=0;Ct<fl.length;Ct+=1){const Al=_i(Ve,fl,Ct);Wt[Ct]?(Wt[Ct].p(Al,st),K(Wt[Ct],1)):(Wt[Ct]=ki(Al),Wt[Ct].c(),K(Wt[Ct],1),Wt[Ct].m(tt,null))}for(Vt(),Ct=fl.length;Ct<Wt.length;Ct+=1)Wl(Ct);St()}(!jt||st[0]&4&&kt!==(kt="space-y-3 "+(Ve[2].length>0?" mb-3":"")))&&o(pt,"class",kt),Ve[5].role==="admin"?El?El.p(Ve,st):(El=Ii(Ve),El.c(),El.m(t,null)):El&&(El.d(1),El=null),(!jt||st[0]&8)&&ul!==(ul=Ve[3].t("Save")+"")&&H(hl,ul)},i(Ve){if(!jt){K(h.$$.fragment,Ve),K(F.$$.fragment,Ve),K(Pe.$$.fragment,Ve),K(Ie.$$.fragment,Ve),K(Qt),K(Ce.$$.fragment,Ve),K(Ft),K(ct.$$.fragment,Ve),K(rt.$$.fragment,Ve),K(wt.$$.fragment,Ve),K(Nt.$$.fragment,Ve);for(let st=0;st<fl.length;st+=1)K(Wt[st]);jt=!0}},o(Ve){q(h.$$.fragment,Ve),q(F.$$.fragment,Ve),q(Pe.$$.fragment,Ve),q(Ie.$$.fragment,Ve),q(Qt),q(Ce.$$.fragment,Ve),q(Ft),q(ct.$$.fragment,Ve),q(rt.$$.fragment,Ve),q(wt.$$.fragment,Ve),q(Nt.$$.fragment,Ve),Wt=Wt.filter(Boolean);for(let st=0;st<Wt.length;st+=1)q(Wt[st]);jt=!1},d(Ve){Ve&&c(e),pe(h),_l(yt,Ve),_l(Yt,Ve),pe(F),pe(Pe),pe(Ie),Qt&&Qt.d(),pe(Ce),Ft&&Ft.d(),pe(ct),pe(rt),pe(wt),pe(Nt),_l(Wt,Ve),El&&El.d(),Il=!1,ol(cl)}}}function bc(s){let e,t;return{c(){e=sl("svg"),t=sl("path"),this.h()},l(l){e=al(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=al(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(c),a.forEach(c),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width","1.5"),o(e,"stroke","currentColor"),o(e,"class","size-3.5")},m(l,a){O(l,e,a),n(e,t)},p:vt,d(l){l&&c(e)}}}function mi(s){let e,t=s[40].name+"",l,a,i;return{c(){e=d("option"),l=L(t),a=A(),this.h()},l(r){e=_(r,"OPTION",{class:!0});var f=v(e);l=P(f,t),a=D(f),f.forEach(c),this.h()},h(){e.__value=i=s[40].id,ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,f){O(r,e,f),n(e,l),n(e,a)},p(r,f){f[0]&16&&t!==(t=r[40].name+"")&&H(l,t),f[0]&16&&i!==(i=r[40].id)&&(e.__value=i,ee(e,e.__value))},d(r){r&&c(e)}}}function gi(s){let e,t=s[40].name+"",l,a,i;return{c(){e=d("option"),l=L(t),a=A(),this.h()},l(r){e=_(r,"OPTION",{class:!0});var f=v(e);l=P(f,t),a=D(f),f.forEach(c),this.h()},h(){e.__value=i=s[40].id,ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,f){O(r,e,f),n(e,l),n(e,a)},p(r,f){f[0]&16&&t!==(t=r[40].name+"")&&H(l,t),f[0]&16&&i!==(i=r[40].id)&&(e.__value=i,ee(e,e.__value))},d(r){r&&c(e)}}}function Ec(s){let e,t,l;function a(r){s[11](r)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].TITLE_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].TITLE_GENERATION_PROMPT_TEMPLATE),e=new oa({props:i}),at.push(()=>ft(e,"value",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&f[0]&1&&(t=!0,u.value=r[0].TITLE_GENERATION_PROMPT_TEMPLATE,ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function wc(s){let e,t,l;function a(r){s[12](r)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE),e=new oa({props:i}),at.push(()=>ft(e,"value",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&f[0]&1&&(t=!0,u.value=r[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE,ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function kc(s){let e,t,l;function a(r){s[13](r)}let i={};return s[0].ENABLE_AUTOCOMPLETE_GENERATION!==void 0&&(i.state=s[0].ENABLE_AUTOCOMPLETE_GENERATION),e=new kl({props:i}),at.push(()=>ft(e,"state",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};!t&&f[0]&1&&(t=!0,u.state=r[0].ENABLE_AUTOCOMPLETE_GENERATION,ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function bi(s){let e,t,l=s[3].t("Autocomplete Generation Input Max Length")+"",a,i,r,f;return r=new Zt({props:{content:s[3].t("Character limit for autocomplete generation input"),placement:"top-start",$$slots:{default:[Ic]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(u){e=_(u,"DIV",{class:!0});var h=v(e);t=_(h,"DIV",{class:!0});var b=v(t);a=P(b,l),b.forEach(c),i=D(h),_e(r.$$.fragment,h),h.forEach(c),this.h()},h(){o(t,"class","mb-2.5 text-xs font-medium"),o(e,"class","mt-3")},m(u,h){O(u,e,h),n(e,t),n(t,a),n(e,i),he(r,e,null),f=!0},p(u,h){(!f||h[0]&8)&&l!==(l=u[3].t("Autocomplete Generation Input Max Length")+"")&&H(a,l);const b={};h[0]&8&&(b.content=u[3].t("Character limit for autocomplete generation input")),h[0]&9|h[1]&16384&&(b.$$scope={dirty:h,ctx:u}),r.$set(b)},i(u){f||(K(r.$$.fragment,u),f=!0)},o(u){q(r.$$.fragment,u),f=!1},d(u){u&&c(e),pe(r)}}}function Ic(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full outline-none bg-transparent"),o(e,"placeholder",t=s[3].t("-1 for no limit, or a positive integer for a specific limit"))},m(i,r){O(i,e,r),ee(e,s[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH),l||(a=se(e,"input",s[14]),l=!0)},p(i,r){r[0]&8&&t!==(t=i[3].t("-1 for no limit, or a positive integer for a specific limit"))&&o(e,"placeholder",t),r[0]&17&&e.value!==i[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH&&ee(e,i[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH)},d(i){i&&c(e),l=!1,a()}}}function Ei(s){let e,t,l=s[3].t("Tags Generation Prompt")+"",a,i,r,f;return r=new Zt({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[yc]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(u){e=_(u,"DIV",{class:!0});var h=v(e);t=_(h,"DIV",{class:!0});var b=v(t);a=P(b,l),b.forEach(c),i=D(h),_e(r.$$.fragment,h),h.forEach(c),this.h()},h(){o(t,"class","mb-2.5 text-xs font-medium"),o(e,"class","mt-3")},m(u,h){O(u,e,h),n(e,t),n(t,a),n(e,i),he(r,e,null),f=!0},p(u,h){(!f||h[0]&8)&&l!==(l=u[3].t("Tags Generation Prompt")+"")&&H(a,l);const b={};h[0]&8&&(b.content=u[3].t("Leave empty to use the default prompt, or enter a custom prompt")),h[0]&9|h[1]&16384&&(b.$$scope={dirty:h,ctx:u}),r.$set(b)},i(u){f||(K(r.$$.fragment,u),f=!0)},o(u){q(r.$$.fragment,u),f=!1},d(u){u&&c(e),pe(r)}}}function yc(s){let e,t,l;function a(r){s[16](r)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].TAGS_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].TAGS_GENERATION_PROMPT_TEMPLATE),e=new oa({props:i}),at.push(()=>ft(e,"value",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&f[0]&1&&(t=!0,u.value=r[0].TAGS_GENERATION_PROMPT_TEMPLATE,ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function Tc(s){let e,t,l;function a(r){s[19](r)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].QUERY_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].QUERY_GENERATION_PROMPT_TEMPLATE),e=new oa({props:i}),at.push(()=>ft(e,"value",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&f[0]&1&&(t=!0,u.value=r[0].QUERY_GENERATION_PROMPT_TEMPLATE,ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function Ac(s){let e,t,l;function a(r){s[20](r)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE),e=new oa({props:i}),at.push(()=>ft(e,"value",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&f[0]&1&&(t=!0,u.value=r[0].TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE,ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function wi(s){let e,t=s[3].t("Type")+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){e.__value="",ee(e,e.__value),e.selected=!0,e.disabled=!0,o(e,"class","text-gray-900")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8&&t!==(t=a[3].t("Type")+"")&&H(l,t)},d(a){a&&c(e)}}}function Dc(s){let e,t,l;function a(r){s[24](r,s[37])}let i={};return s[37].dismissible!==void 0&&(i.state=s[37].dismissible),e=new kl({props:i}),at.push(()=>ft(e,"state",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){s=r;const u={};!t&&f[0]&4&&(t=!0,u.state=s[37].dismissible,ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function ki(s){let e,t,l,a,i=s[3].t("Info")+"",r,f,u=s[3].t("Warning")+"",h,b,p=s[3].t("Error")+"",m,g,E=s[3].t("Success")+"",w,k,I,y,T,$,S,N,V,C='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',R,U,Z,B,M=s[37].type==""&&wi(s);function j(){s[22].call(l,s[38],s[39])}function G(){s[23].call(I,s[38],s[39])}S=new Zt({props:{content:s[3].t("Dismissible"),className:"flex h-fit items-center",$$slots:{default:[Dc]},$$scope:{ctx:s}}});function W(){return s[25](s[39])}return{c(){e=d("div"),t=d("div"),l=d("select"),M&&M.c(),a=d("option"),r=L(i),f=d("option"),h=L(u),b=d("option"),m=L(p),g=d("option"),w=L(E),k=A(),I=d("input"),T=A(),$=d("div"),de(S.$$.fragment),N=A(),V=d("button"),V.innerHTML=C,R=A(),this.h()},l(z){e=_(z,"DIV",{class:!0});var x=v(e);t=_(x,"DIV",{class:!0});var te=v(t);l=_(te,"SELECT",{class:!0});var Y=v(l);M&&M.l(Y),a=_(Y,"OPTION",{class:!0});var Q=v(a);r=P(Q,i),Q.forEach(c),f=_(Y,"OPTION",{class:!0});var X=v(f);h=P(X,u),X.forEach(c),b=_(Y,"OPTION",{class:!0});var F=v(b);m=P(F,p),F.forEach(c),g=_(Y,"OPTION",{class:!0});var J=v(g);w=P(J,E),J.forEach(c),Y.forEach(c),k=D(te),I=_(te,"INPUT",{class:!0,placeholder:!0}),T=D(te),$=_(te,"DIV",{class:!0});var ae=v($);_e(S.$$.fragment,ae),ae.forEach(c),te.forEach(c),N=D(x),V=_(x,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Gt(V)!=="svelte-12xtyvi"&&(V.innerHTML=C),R=D(x),x.forEach(c),this.h()},h(){a.__value="info",ee(a,a.__value),o(a,"class","text-gray-900"),f.__value="warning",ee(f,f.__value),o(f,"class","text-gray-900"),b.__value="error",ee(b,b.__value),o(b,"class","text-gray-900"),g.__value="success",ee(g,g.__value),o(g,"class","text-gray-900"),o(l,"class","w-fit capitalize rounded-xl py-2 px-4 text-xs bg-transparent outline-none"),l.required=!0,s[37].type===void 0&&Ll(j),o(I,"class","pr-5 py-1.5 text-xs w-full bg-transparent outline-none"),o(I,"placeholder",y=s[3].t("Content")),o($,"class","relative top-1.5 -left-2"),o(t,"class","flex flex-row flex-1 border rounded-xl dark:border-gray-800"),o(V,"class","px-2"),o(V,"type","button"),o(e,"class","flex justify-between")},m(z,x){O(z,e,x),n(e,t),n(t,l),M&&M.m(l,null),n(l,a),n(a,r),n(l,f),n(f,h),n(l,b),n(b,m),n(l,g),n(g,w),Xt(l,s[37].type,!0),n(t,k),n(t,I),ee(I,s[37].content),n(t,T),n(t,$),he(S,$,null),n(e,N),n(e,V),n(e,R),U=!0,Z||(B=[se(l,"change",j),se(I,"input",G),se(V,"click",W)],Z=!0)},p(z,x){s=z,s[37].type==""?M?M.p(s,x):(M=wi(s),M.c(),M.m(l,a)):M&&(M.d(1),M=null),(!U||x[0]&8)&&i!==(i=s[3].t("Info")+"")&&H(r,i),(!U||x[0]&8)&&u!==(u=s[3].t("Warning")+"")&&H(h,u),(!U||x[0]&8)&&p!==(p=s[3].t("Error")+"")&&H(m,p),(!U||x[0]&8)&&E!==(E=s[3].t("Success")+"")&&H(w,E),x[0]&4&&Xt(l,s[37].type),(!U||x[0]&8&&y!==(y=s[3].t("Content")))&&o(I,"placeholder",y),x[0]&4&&I.value!==s[37].content&&ee(I,s[37].content);const te={};x[0]&8&&(te.content=s[3].t("Dismissible")),x[0]&4|x[1]&16384&&(te.$$scope={dirty:x,ctx:s}),S.$set(te)},i(z){U||(K(S.$$.fragment,z),U=!0)},o(z){q(S.$$.fragment,z),U=!1},d(z){z&&c(e),M&&M.d(),pe(S),Z=!1,ol(B)}}}function Ii(s){let e,t,l,a=s[3].t("Default Prompt Suggestions")+"",i,r,f,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',h,b,p,m,g,E=It(s[1]),w=[];for(let I=0;I<E.length;I+=1)w[I]=yi(di(s,E,I));let k=s[1].length>0&&Ti(s);return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("button"),f.innerHTML=u,h=A(),b=d("div");for(let I=0;I<w.length;I+=1)w[I].c();p=A(),k&&k.c(),this.h()},l(I){e=_(I,"DIV",{class:!0});var y=v(e);t=_(y,"DIV",{class:!0});var T=v(t);l=_(T,"DIV",{class:!0});var $=v(l);i=P($,a),$.forEach(c),r=D(T),f=_(T,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Gt(f)!=="svelte-uaj8j0"&&(f.innerHTML=u),T.forEach(c),h=D(y),b=_(y,"DIV",{class:!0});var S=v(b);for(let N=0;N<w.length;N+=1)w[N].l(S);S.forEach(c),p=D(y),k&&k.l(y),y.forEach(c),this.h()},h(){o(l,"class","self-center text-sm font-semibold"),o(f,"class","p-1 px-3 text-xs flex rounded transition"),o(f,"type","button"),o(t,"class","flex w-full justify-between mb-2"),o(b,"class","grid lg:grid-cols-2 flex-col gap-1.5"),o(e,"class","space-y-3")},m(I,y){O(I,e,y),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),n(e,h),n(e,b);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(b,null);n(e,p),k&&k.m(e,null),m||(g=se(f,"click",s[26]),m=!0)},p(I,y){if(y[0]&8&&a!==(a=I[3].t("Default Prompt Suggestions")+"")&&H(i,a),y[0]&10){E=It(I[1]);let T;for(T=0;T<E.length;T+=1){const $=di(I,E,T);w[T]?w[T].p($,y):(w[T]=yi($),w[T].c(),w[T].m(b,null))}for(;T<w.length;T+=1)w[T].d(1);w.length=E.length}I[1].length>0?k?k.p(I,y):(k=Ti(I),k.c(),k.m(e,null)):k&&(k.d(1),k=null)},d(I){I&&c(e),_l(w,I),k&&k.d(),m=!1,g()}}}function yi(s){let e,t,l,a,i,r,f,u,h,b,p,m,g,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',w,k,I;function y(){s[27].call(a,s[35],s[36])}function T(){s[28].call(f,s[35],s[36])}function $(){s[29].call(b,s[35],s[36])}function S(){return s[30](s[36])}return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("input"),r=A(),f=d("input"),h=A(),b=d("textarea"),m=A(),g=d("button"),g.innerHTML=E,w=A(),this.h()},l(N){e=_(N,"DIV",{class:!0});var V=v(e);t=_(V,"DIV",{class:!0});var C=v(t);l=_(C,"DIV",{class:!0});var R=v(l);a=_(R,"INPUT",{class:!0,placeholder:!0}),r=D(R),f=_(R,"INPUT",{class:!0,placeholder:!0}),R.forEach(c),h=D(C),b=_(C,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),v(b).forEach(c),C.forEach(c),m=D(V),g=_(V,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Gt(g)!=="svelte-1jtno9f"&&(g.innerHTML=E),w=D(V),V.forEach(c),this.h()},h(){o(a,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),o(a,"placeholder",i=s[3].t("Title (e.g. Tell me a fun fact)")),o(f,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800"),o(f,"placeholder",u=s[3].t("Subtitle (e.g. about the Roman Empire)")),o(l,"class","flex border-b border-gray-100 dark:border-gray-800 w-full"),o(b,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r border-gray-100 dark:border-gray-800 resize-none"),o(b,"placeholder",p=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),o(b,"rows","3"),o(t,"class","flex flex-col flex-1 pl-1"),o(g,"class","px-3"),o(g,"type","button"),o(e,"class","flex border border-gray-100 dark:border-none dark:bg-gray-850 rounded-xl py-1.5")},m(N,V){O(N,e,V),n(e,t),n(t,l),n(l,a),ee(a,s[34].title[0]),n(l,r),n(l,f),ee(f,s[34].title[1]),n(t,h),n(t,b),ee(b,s[34].content),n(e,m),n(e,g),n(e,w),k||(I=[se(a,"input",y),se(f,"input",T),se(b,"input",$),se(g,"click",S)],k=!0)},p(N,V){s=N,V[0]&8&&i!==(i=s[3].t("Title (e.g. Tell me a fun fact)"))&&o(a,"placeholder",i),V[0]&2&&a.value!==s[34].title[0]&&ee(a,s[34].title[0]),V[0]&8&&u!==(u=s[3].t("Subtitle (e.g. about the Roman Empire)"))&&o(f,"placeholder",u),V[0]&2&&f.value!==s[34].title[1]&&ee(f,s[34].title[1]),V[0]&8&&p!==(p=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&o(b,"placeholder",p),V[0]&2&&ee(b,s[34].content)},d(N){N&&c(e),k=!1,ol(I)}}}function Ti(s){let e,t=s[3].t("Adjusting these settings will apply changes universally to all users.")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-xs text-left w-full mt-2")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8&&t!==(t=a[3].t("Adjusting these settings will apply changes universally to all users.")+"")&&H(l,t)},d(a){a&&c(e)}}}function $c(s){let e,t,l=s[0]&&vi(s);return{c(){l&&l.c(),e=xt()},l(a){l&&l.l(a),e=xt()},m(a,i){l&&l.m(a,i),O(a,e,i),t=!0},p(a,i){a[0]?l?(l.p(a,i),i[0]&1&&K(l,1)):(l=vi(a),l.c(),K(l,1),l.m(e.parentNode,e)):l&&(Vt(),q(l,1,1,()=>{l=null}),St())},i(a){t||(K(l),t=!0)},o(a){q(l),t=!1},d(a){a&&c(e),l&&l.d(a)}}}const Ai=s=>s.owned_by==="ollama";function Vc(s,e,t){let l,a,i,r;nl(s,Hs,Q=>t(32,l=Q)),nl(s,Nl,Q=>t(4,i=Q)),nl(s,ia,Q=>t(5,r=Q));const f=ys(),u=Dl("i18n");nl(s,u,Q=>t(3,a=Q));let h={TASK_MODEL:"",TASK_MODEL_EXTERNAL:"",TITLE_GENERATION_PROMPT_TEMPLATE:"",IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE:"",ENABLE_AUTOCOMPLETE_GENERATION:!0,AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH:-1,TAGS_GENERATION_PROMPT_TEMPLATE:"",ENABLE_TAGS_GENERATION:!0,ENABLE_SEARCH_QUERY_GENERATION:!0,ENABLE_RETRIEVAL_QUERY_GENERATION:!0,QUERY_GENERATION_PROMPT_TEMPLATE:"",TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE:""},b=[],p=[];const m=async()=>{t(0,h=await iu(localStorage.token,h)),t(1,b=await _u(localStorage.token,b)),await g(),await Hs.set(await ra())};Fl(async()=>{t(0,h=await nu(localStorage.token)),t(1,b=l==null?void 0:l.default_prompt_suggestions),t(2,p=await du(localStorage.token))});const g=async()=>{zo.set(await hu(localStorage.token,p))};function E(){h.TASK_MODEL=Ol(this),t(0,h)}function w(){h.TASK_MODEL_EXTERNAL=Ol(this),t(0,h)}function k(Q){s.$$.not_equal(h.TITLE_GENERATION_PROMPT_TEMPLATE,Q)&&(h.TITLE_GENERATION_PROMPT_TEMPLATE=Q,t(0,h))}function I(Q){s.$$.not_equal(h.IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE,Q)&&(h.IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE=Q,t(0,h))}function y(Q){s.$$.not_equal(h.ENABLE_AUTOCOMPLETE_GENERATION,Q)&&(h.ENABLE_AUTOCOMPLETE_GENERATION=Q,t(0,h))}function T(){h.AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH=this.value,t(0,h)}function $(Q){s.$$.not_equal(h.ENABLE_TAGS_GENERATION,Q)&&(h.ENABLE_TAGS_GENERATION=Q,t(0,h))}function S(Q){s.$$.not_equal(h.TAGS_GENERATION_PROMPT_TEMPLATE,Q)&&(h.TAGS_GENERATION_PROMPT_TEMPLATE=Q,t(0,h))}function N(Q){s.$$.not_equal(h.ENABLE_RETRIEVAL_QUERY_GENERATION,Q)&&(h.ENABLE_RETRIEVAL_QUERY_GENERATION=Q,t(0,h))}function V(Q){s.$$.not_equal(h.ENABLE_SEARCH_QUERY_GENERATION,Q)&&(h.ENABLE_SEARCH_QUERY_GENERATION=Q,t(0,h))}function C(Q){s.$$.not_equal(h.QUERY_GENERATION_PROMPT_TEMPLATE,Q)&&(h.QUERY_GENERATION_PROMPT_TEMPLATE=Q,t(0,h))}function R(Q){s.$$.not_equal(h.TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE,Q)&&(h.TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE=Q,t(0,h))}const U=()=>{(p.length===0||p.at(-1).content!=="")&&t(2,p=[...p,{id:Du(),type:"",title:"",content:"",dismissible:!0,timestamp:Math.floor(Date.now()/1e3)}])};function Z(Q,X){Q[X].type=Ol(this),t(2,p)}function B(Q,X){Q[X].content=this.value,t(2,p)}function M(Q,X){s.$$.not_equal(X.dismissible,Q)&&(X.dismissible=Q,t(2,p))}const j=Q=>{p.splice(Q,1),t(2,p)},G=()=>{(b.length===0||b.at(-1).content!=="")&&t(1,b=[...b,{content:"",title:["",""]}])};function W(Q,X){Q[X].title[0]=this.value,t(1,b)}function z(Q,X){Q[X].title[1]=this.value,t(1,b)}function x(Q,X){Q[X].content=this.value,t(1,b)}return[h,b,p,a,i,r,f,u,m,E,w,k,I,y,T,$,S,N,V,C,R,U,Z,B,M,j,G,W,z,x,Q=>{b.splice(Q,1),t(1,b)},()=>{m(),f("save")}]}class Sc extends gl{constructor(e){super(),bl(this,e,Vc,$c,ml,{},null,[-1,-1])}}function Di(s,e,t){const l=s.slice();return l[10]=e[t],l[12]=t,l}function Nc(s){let e,t=s[3].t("No models found")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i&8&&t!==(t=a[3].t("No models found")+"")&&H(l,t)},i:vt,o:vt,d(a){a&&c(e)}}}function Mc(s){let e,t=[],l=new Map,a,i=It(s[0]);const r=f=>f[10];for(let f=0;f<i.length;f+=1){let u=Di(s,i,f),h=r(u);l.set(h,t[f]=$i(h,u))}return{c(){e=d("div");for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l(f){e=_(f,"DIV",{class:!0});var u=v(e);for(let h=0;h<t.length;h+=1)t[h].l(u);u.forEach(c),this.h()},h(){o(e,"class","flex flex-col -translate-x-1")},m(f,u){O(f,e,u);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);s[7](e),a=!0},p(f,u){u&5&&(i=It(f[0]),Vt(),t=Co(t,u,r,1,f,i,l,e,Ro,$i,null,Di),St())},i(f){if(!a){for(let u=0;u<i.length;u+=1)K(t[u]);a=!0}},o(f){for(let u=0;u<t.length;u+=1)q(t[u]);a=!1},d(f){f&&c(e);for(let u=0;u<t.length;u+=1)t[u].d();s[7](null)}}}function Oc(s){let e=s[10]+"",t;return{c(){t=L(e)},l(l){t=P(l,e)},m(l,a){O(l,t,a)},p(l,a){a&1&&e!==(e=l[10]+"")&&H(t,e)},d(l){l&&c(t)}}}function Lc(s){let e=s[2].find(l).name+"",t;function l(...a){return s[6](s[10],...a)}return{c(){t=L(e)},l(a){t=P(a,e)},m(a,i){O(a,t,i)},p(a,i){s=a,i&5&&e!==(e=s[2].find(l).name+"")&&H(t,e)},d(a){a&&c(t)}}}function Pc(s){let e,t,l,a,i,r;function f(...p){return s[5](s[10],...p)}t=new Bu({props:{className:"size-4 cursor-move"}});function u(p,m){return m&5&&(i=null),i==null&&(i=!!p[2].find(f)),i?Lc:Oc}let h=u(s,-1),b=h(s);return{c(){e=d("div"),de(t.$$.fragment),l=A(),a=d("div"),b.c(),this.h()},l(p){e=_(p,"DIV",{class:!0});var m=v(e);_e(t.$$.fragment,m),l=D(m),a=_(m,"DIV",{class:!0});var g=v(a);b.l(g),g.forEach(c),m.forEach(c),this.h()},h(){o(a,"class","text-sm flex-1 py-1 rounded-lg"),o(e,"class","flex items-center gap-1")},m(p,m){O(p,e,m),he(t,e,null),n(e,l),n(e,a),b.m(a,null),r=!0},p(p,m){s=p,h===(h=u(s,m))&&b?b.p(s,m):(b.d(1),b=h(s),b&&(b.c(),b.m(a,null)))},i(p){r||(K(t.$$.fragment,p),r=!0)},o(p){q(t.$$.fragment,p),r=!1},d(p){p&&c(e),pe(t),b.d()}}}function $i(s,e){let t,l,a,i,r;return l=new Zt({props:{content:e[10],placement:"top-start",$$slots:{default:[Pc]},$$scope:{ctx:e}}}),{key:s,first:null,c(){t=d("div"),de(l.$$.fragment),a=A(),this.h()},l(f){t=_(f,"DIV",{class:!0,id:!0});var u=v(t);_e(l.$$.fragment,u),a=D(u),u.forEach(c),this.h()},h(){o(t,"class","flex gap-2 w-full justify-between items-center"),o(t,"id",i="model-item-"+e[10]),this.first=t},m(f,u){O(f,t,u),he(l,t,null),n(t,a),r=!0},p(f,u){e=f;const h={};u&1&&(h.content=e[10]),u&8197&&(h.$$scope={dirty:u,ctx:e}),l.$set(h),(!r||u&1&&i!==(i="model-item-"+e[10]))&&o(t,"id",i)},i(f){r||(K(l.$$.fragment,f),r=!0)},o(f){q(l.$$.fragment,f),r=!1},d(f){f&&c(t),pe(l)}}}function Uc(s){let e,t,l,a;const i=[Mc,Nc],r=[];function f(u,h){return u[0].length>0?0:1}return e=f(s),t=r[e]=i[e](s),{c(){t.c(),l=xt()},l(u){t.l(u),l=xt()},m(u,h){r[e].m(u,h),O(u,l,h),a=!0},p(u,[h]){let b=e;e=f(u),e===b?r[e].p(u,h):(Vt(),q(r[b],1,1,()=>{r[b]=null}),St(),t=r[e],t?t.p(u,h):(t=r[e]=i[e](u),t.c()),K(t,1),t.m(l.parentNode,l))},i(u){a||(K(t),a=!0)},o(u){q(t),a=!1},d(u){u&&c(l),r[e].d(u)}}}function Cc(s,e,t){let l,a;nl(s,Nl,m=>t(2,l=m));const i=Dl("i18n");nl(s,i,m=>t(3,a=m));let{modelIds:r=[]}=e,f=null;const u=()=>{const m=Array.from(f.children).map(g=>g.id.replace("model-item-",""));t(0,r=m)};Fl(()=>{Ru.create(f,{animation:150,onUpdate:async m=>{u()}})});const h=(m,g)=>g.id===m,b=(m,g)=>g.id===m;function p(m){at[m?"unshift":"push"](()=>{f=m,t(1,f)})}return s.$$set=m=>{"modelIds"in m&&t(0,r=m.modelIds)},[r,f,l,a,i,h,b,p]}class Rc extends gl{constructor(e){super(),bl(this,e,Cc,Uc,ml,{modelIds:0})}}function Bc(s){let e,t;return{c(){e=sl("svg"),t=sl("path"),this.h()},l(l){e=al(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=al(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(c),a.forEach(c),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M5 12h14"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width",s[1]),o(e,"stroke","currentColor"),o(e,"class",s[0])},m(l,a){O(l,e,a),n(e,t)},p(l,[a]){a&2&&o(e,"stroke-width",l[1]),a&1&&o(e,"class",l[0])},i:vt,o:vt,d(l){l&&c(e)}}}function Hc(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=i=>{"className"in i&&t(0,l=i.className),"strokeWidth"in i&&t(1,a=i.strokeWidth)},[l,a]}class mr extends gl{constructor(e){super(),bl(this,e,Hc,Bc,ml,{className:0,strokeWidth:1})}}function Vi(s,e,t){const l=s.slice();return l[25]=e[t],l[27]=t,l}function Si(s,e,t){const l=s.slice();return l[28]=e[t],l}function jc(s){let e,t,l;return t=new $s({}),{c(){e=d("div"),de(t.$$.fragment)},l(a){e=_(a,"DIV",{});var i=v(e);_e(t.$$.fragment,i),i.forEach(c)},m(a,i){O(a,e,i),he(t,e,null),l=!0},p:vt,i(a){l||(K(t.$$.fragment,a),l=!0)},o(a){q(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t)}}}function Gc(s){let e,t,l,a,i,r=s[8].t("Reorder Models")+"",f,u,h,b,p,m,g,E,w,k,I,y=s[8].t("Default Models")+"",T,$,S,N,V,C=s[8].t("Select a model")+"",R,U,Z,B,M,j,G,W,z,x,te=s[8].t("Save")+"",Y,Q,X,F,J,ae;function ue(ie){s[15](ie)}let ne={};s[5]!==void 0&&(ne.modelIds=s[5]),h=new Rc({props:ne}),at.push(()=>ft(h,"modelIds",ue));let De=It(s[9]),ge=[];for(let ie=0;ie<De.length;ie+=1)ge[ie]=Ni(Si(s,De,ie));const Pe=[Zc,Kc],be=[];function Re(ie,le){return ie[4].length>0?0:1}B=Re(s),M=be[B]=Pe[B](s),W=new Zt({props:{content:s[8].t("This will delete all models including custom models"),$$slots:{default:[qc]},$$scope:{ctx:s}}});let $e=s[6]&&Oi();return{c(){e=d("form"),t=d("div"),l=d("div"),a=d("div"),i=d("div"),f=L(r),u=A(),de(h.$$.fragment),p=A(),m=d("hr"),g=A(),E=d("div"),w=d("div"),k=d("div"),I=d("div"),T=L(y),$=A(),S=d("div"),N=d("select"),V=d("option"),R=L(C);for(let ie=0;ie<ge.length;ie+=1)ge[ie].c();Z=A(),M.c(),j=A(),G=d("div"),de(W.$$.fragment),z=A(),x=d("button"),Y=L(te),Q=A(),$e&&$e.c(),this.h()},l(ie){e=_(ie,"FORM",{class:!0});var le=v(e);t=_(le,"DIV",{});var Ee=v(t);l=_(Ee,"DIV",{class:!0});var ce=v(l);a=_(ce,"DIV",{class:!0});var ke=v(a);i=_(ke,"DIV",{class:!0});var Ie=v(i);f=P(Ie,r),Ie.forEach(c),ke.forEach(c),u=D(ce),_e(h.$$.fragment,ce),ce.forEach(c),Ee.forEach(c),p=D(le),m=_(le,"HR",{class:!0}),g=D(le),E=_(le,"DIV",{});var Qe=v(E);w=_(Qe,"DIV",{class:!0});var Je=v(w);k=_(Je,"DIV",{class:!0});var ve=v(k);I=_(ve,"DIV",{class:!0});var ye=v(I);T=P(ye,y),ye.forEach(c),ve.forEach(c),$=D(Je),S=_(Je,"DIV",{class:!0});var fe=v(S);N=_(fe,"SELECT",{class:!0});var me=v(N);V=_(me,"OPTION",{});var Oe=v(V);R=P(Oe,C),Oe.forEach(c);for(let Ce=0;Ce<ge.length;Ce+=1)ge[Ce].l(me);me.forEach(c),fe.forEach(c),Z=D(Je),M.l(Je),Je.forEach(c),Qe.forEach(c),j=D(le),G=_(le,"DIV",{class:!0});var Me=v(G);_e(W.$$.fragment,Me),z=D(Me),x=_(Me,"BUTTON",{class:!0,type:!0});var He=v(x);Y=P(He,te),Q=D(He),$e&&$e.l(He),He.forEach(c),Me.forEach(c),le.forEach(c),this.h()},h(){o(i,"class","text-xs text-gray-500"),o(a,"class","mb-1 flex justify-between"),o(l,"class","flex flex-col w-full"),o(m,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o(I,"class","text-xs text-gray-500"),o(k,"class","mb-1 flex justify-between"),V.__value="",ee(V,V.__value),o(N,"class",U="w-full py-1 text-sm rounded-lg bg-transparent "+(s[2]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),s[2]===void 0&&Ll(()=>s[16].call(N)),o(S,"class","flex items-center -mr-1"),o(w,"class","flex flex-col w-full"),o(x,"class",X="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[6]?" cursor-not-allowed":"")),o(x,"type","submit"),x.disabled=s[6],o(G,"class","flex justify-between pt-3 text-sm font-medium gap-1.5"),o(e,"class","flex flex-col w-full")},m(ie,le){O(ie,e,le),n(e,t),n(t,l),n(l,a),n(a,i),n(i,f),n(l,u),he(h,l,null),n(e,p),n(e,m),n(e,g),n(e,E),n(E,w),n(w,k),n(k,I),n(I,T),n(w,$),n(w,S),n(S,N),n(N,V),n(V,R);for(let Ee=0;Ee<ge.length;Ee+=1)ge[Ee]&&ge[Ee].m(N,null);Xt(N,s[2],!0),n(w,Z),be[B].m(w,null),n(e,j),n(e,G),he(W,G,null),n(G,z),n(G,x),n(x,Y),n(x,Q),$e&&$e.m(x,null),F=!0,J||(ae=[se(N,"change",s[16]),se(e,"submit",us(s[20]))],J=!0)},p(ie,le){(!F||le[0]&256)&&r!==(r=ie[8].t("Reorder Models")+"")&&H(f,r);const Ee={};if(!b&&le[0]&32&&(b=!0,Ee.modelIds=ie[5],ut(()=>b=!1)),h.$set(Ee),(!F||le[0]&256)&&y!==(y=ie[8].t("Default Models")+"")&&H(T,y),(!F||le[0]&256)&&C!==(C=ie[8].t("Select a model")+"")&&H(R,C),le[0]&512){De=It(ie[9]);let Ie;for(Ie=0;Ie<De.length;Ie+=1){const Qe=Si(ie,De,Ie);ge[Ie]?ge[Ie].p(Qe,le):(ge[Ie]=Ni(Qe),ge[Ie].c(),ge[Ie].m(N,null))}for(;Ie<ge.length;Ie+=1)ge[Ie].d(1);ge.length=De.length}(!F||le[0]&516&&U!==(U="w-full py-1 text-sm rounded-lg bg-transparent "+(ie[2]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"))&&o(N,"class",U),le[0]&516&&Xt(N,ie[2]);let ce=B;B=Re(ie),B===ce?be[B].p(ie,le):(Vt(),q(be[ce],1,1,()=>{be[ce]=null}),St(),M=be[B],M?M.p(ie,le):(M=be[B]=Pe[B](ie),M.c()),K(M,1),M.m(w,null));const ke={};le[0]&256&&(ke.content=ie[8].t("This will delete all models including custom models")),le[0]&384|le[1]&1&&(ke.$$scope={dirty:le,ctx:ie}),W.$set(ke),(!F||le[0]&256)&&te!==(te=ie[8].t("Save")+"")&&H(Y,te),ie[6]?$e||($e=Oi(),$e.c(),$e.m(x,null)):$e&&($e.d(1),$e=null),(!F||le[0]&64&&X!==(X="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(ie[6]?" cursor-not-allowed":"")))&&o(x,"class",X),(!F||le[0]&64)&&(x.disabled=ie[6])},i(ie){F||(K(h.$$.fragment,ie),K(M),K(W.$$.fragment,ie),F=!0)},o(ie){q(h.$$.fragment,ie),q(M),q(W.$$.fragment,ie),F=!1},d(ie){ie&&c(e),pe(h),_l(ge,ie),be[B].d(),pe(W),$e&&$e.d(),J=!1,ol(ae)}}}function Ni(s){let e,t=s[28].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var r=v(e);l=P(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[28].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&512&&t!==(t=i[28].name+"")&&H(l,t),r[0]&512&&a!==(a=i[28].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function Kc(s){let e,t=s[8].t("No models selected")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&256&&t!==(t=a[8].t("No models selected")+"")&&H(l,t)},i:vt,o:vt,d(a){a&&c(e)}}}function Zc(s){let e,t,l=It(s[4]),a=[];for(let r=0;r<l.length;r+=1)a[r]=Mi(Vi(s,l,r));const i=r=>q(a[r],1,1,()=>{a[r]=null});return{c(){e=d("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=_(r,"DIV",{class:!0});var f=v(e);for(let u=0;u<a.length;u+=1)a[u].l(f);f.forEach(c),this.h()},h(){o(e,"class","flex flex-col")},m(r,f){O(r,e,f);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(r,f){if(f[0]&528){l=It(r[4]);let u;for(u=0;u<l.length;u+=1){const h=Vi(r,l,u);a[u]?(a[u].p(h,f),K(a[u],1)):(a[u]=Mi(h),a[u].c(),K(a[u],1),a[u].m(e,null))}for(Vt(),u=l.length;u<a.length;u+=1)i(u);St()}},i(r){if(!t){for(let f=0;f<l.length;f+=1)K(a[f]);t=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)q(a[f]);t=!1},d(r){r&&c(e),_l(a,r)}}}function Mi(s){var w;let e,t,l=((w=s[9].find(g))==null?void 0:w.name)+"",a,i,r,f,u,h,b,p,m;function g(...k){return s[17](s[25],...k)}u=new mr({props:{strokeWidth:"2",className:"size-3.5"}});function E(){return s[18](s[27])}return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("button"),de(u.$$.fragment),h=A(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var y=v(t);a=P(y,l),y.forEach(c),i=D(I),r=_(I,"DIV",{class:!0});var T=v(r);f=_(T,"BUTTON",{type:!0});var $=v(f);_e(u.$$.fragment,$),$.forEach(c),T.forEach(c),h=D(I),I.forEach(c),this.h()},h(){o(t,"class","text-sm flex-1 py-1 rounded-lg"),o(f,"type","button"),o(r,"class","flex-shrink-0"),o(e,"class","flex gap-2 w-full justify-between items-center")},m(k,I){O(k,e,I),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),he(u,f,null),n(e,h),b=!0,p||(m=se(f,"click",E),p=!0)},p(k,I){var y;s=k,(!b||I[0]&528)&&l!==(l=((y=s[9].find(g))==null?void 0:y.name)+"")&&H(a,l)},i(k){b||(K(u.$$.fragment,k),b=!0)},o(k){q(u.$$.fragment,k),b=!1},d(k){k&&c(e),pe(u),p=!1,m()}}}function qc(s){let e,t=s[8].t("Reset All Models")+"",l,a,i;return{c(){e=d("button"),l=L(t),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);l=P(f,t),f.forEach(c),this.h()},h(){o(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),o(e,"type","button")},m(r,f){O(r,e,f),n(e,l),a||(i=se(e,"click",s[19]),a=!0)},p(r,f){f[0]&256&&t!==(t=r[8].t("Reset All Models")+"")&&H(l,t)},d(r){r&&c(e),a=!1,i()}}}function Oi(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}
												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-178pk2u"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function Fc(s){let e,t,l,a=s[8].t("Settings")+"",i,r,f,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,b,p,m,g,E,w,k;const I=[Gc,jc],y=[];function T($,S){return $[3]?0:1}return m=T(s),g=y[m]=I[m](s),{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("button"),f.innerHTML=u,h=A(),b=d("div"),p=d("div"),g.c(),this.h()},l($){e=_($,"DIV",{});var S=v(e);t=_(S,"DIV",{class:!0});var N=v(t);l=_(N,"DIV",{class:!0});var V=v(l);i=P(V,a),V.forEach(c),r=D(N),f=_(N,"BUTTON",{class:!0,"data-svelte-h":!0}),Gt(f)!=="svelte-745w2y"&&(f.innerHTML=u),N.forEach(c),h=D(S),b=_(S,"DIV",{class:!0});var C=v(b);p=_(C,"DIV",{class:!0});var R=v(p);g.l(R),R.forEach(c),C.forEach(c),S.forEach(c),this.h()},h(){o(l,"class","text-lg font-medium self-center font-primary"),o(f,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(b,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m($,S){O($,e,S),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),n(e,h),n(e,b),n(b,p),y[m].m(p,null),E=!0,w||(k=se(f,"click",s[14]),w=!0)},p($,S){(!E||S[0]&256)&&a!==(a=$[8].t("Settings")+"")&&H(i,a);let N=m;m=T($),m===N?y[m].p($,S):(Vt(),q(y[N],1,1,()=>{y[N]=null}),St(),g=y[m],g?g.p($,S):(g=y[m]=I[m]($),g.c()),K(g,1),g.m(p,null))},i($){E||(K(g),E=!0)},o($){q(g),E=!1},d($){$&&c(e),y[m].d(),w=!1,k()}}}function Wc(s){let e,t,l,a,i,r;function f(p){s[13](p)}let u={title:s[8].t("Reset All Models"),message:s[8].t("This will delete all models including custom models and cannot be undone."),onConfirm:s[12]};s[7]!==void 0&&(u.show=s[7]),e=new Ja({props:u}),at.push(()=>ft(e,"show",f));function h(p){s[21](p)}let b={size:"sm",$$slots:{default:[Fc]},$$scope:{ctx:s}};return s[0]!==void 0&&(b.show=s[0]),a=new Ea({props:b}),at.push(()=>ft(a,"show",h)),{c(){de(e.$$.fragment),l=A(),de(a.$$.fragment)},l(p){_e(e.$$.fragment,p),l=D(p),_e(a.$$.fragment,p)},m(p,m){he(e,p,m),O(p,l,m),he(a,p,m),r=!0},p(p,m){const g={};m[0]&256&&(g.title=p[8].t("Reset All Models")),m[0]&256&&(g.message=p[8].t("This will delete all models including custom models and cannot be undone.")),m[0]&258&&(g.onConfirm=p[12]),!t&&m[0]&128&&(t=!0,g.show=p[7],ut(()=>t=!1)),e.$set(g);const E={};m[0]&1021|m[1]&1&&(E.$$scope={dirty:m,ctx:p}),!i&&m[0]&1&&(i=!0,E.show=p[0],ut(()=>i=!1)),a.$set(E)},i(p){r||(K(e.$$.fragment,p),K(a.$$.fragment,p),r=!0)},o(p){q(e.$$.fragment,p),q(a.$$.fragment,p),r=!1},d(p){p&&c(l),pe(e,p),pe(a,p)}}}function Yc(s,e,t){let l,a;nl(s,Nl,Z=>t(9,a=Z));const i=Dl("i18n");nl(s,i,Z=>t(8,l=Z)),ys();let{show:r=!1}=e,{initHandler:f=()=>{}}=e,u=null,h="",b=[],p=[],m=!1,g=!1;const E=()=>{if(h!==""){if(b.includes(h)){t(2,h="");return}t(4,b=[...b,h]),t(2,h="")}},w=async()=>{t(3,u=await pu(localStorage.token)),u!=null&&u.DEFAULT_MODELS?t(4,b=u==null?void 0:u.DEFAULT_MODELS.split(",").filter(j=>j)):t(4,b=[]);const Z=u.MODEL_ORDER_LIST||[],B=a.map(j=>j.id),M=new Set(Z);t(5,p=[...Z.filter(j=>M.has(j)&&B.includes(j)),...B.filter(j=>!M.has(j)).sort((j,G)=>j.localeCompare(G))])},k=async()=>{t(6,m=!0),await vu(localStorage.token,{DEFAULT_MODELS:b.join(","),MODEL_ORDER_LIST:p})?(ze.success(l.t("Models configuration saved successfully")),f(),t(0,r=!1)):ze.error(l.t("Failed to save models configuration")),t(6,m=!1)};Fl(async()=>{w()});const I=async()=>{Mu(localStorage.token)&&(ze.success(l.t("All models deleted successfully")),f())};function y(Z){g=Z,t(7,g)}const T=()=>{t(0,r=!1)};function $(Z){p=Z,t(5,p)}function S(){h=Ol(this),t(2,h)}const N=(Z,B)=>B.id===Z,V=Z=>{t(4,b=b.filter((B,M)=>M!==Z))},C=()=>{t(7,g=!0)},R=()=>{k()};function U(Z){r=Z,t(0,r)}return s.$$set=Z=>{"show"in Z&&t(0,r=Z.show),"initHandler"in Z&&t(1,f=Z.initHandler)},s.$$.update=()=>{s.$$.dirty[0]&1&&r&&w(),s.$$.dirty[0]&4&&h&&E()},[r,f,h,u,b,p,m,g,l,a,i,k,I,y,T,$,S,N,V,C,R,U]}class zc extends gl{constructor(e){super(),bl(this,e,Yc,Wc,ml,{show:0,initHandler:1},null,[-1,-1])}}function Li(s,e,t){const l=s.slice();return l[55]=e[t],l}function Pi(s,e,t){const l=s.slice();return l[55]=e[t],l}function Qc(s){let e,t,l;return t=new $s({}),{c(){e=d("div"),de(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(c),this.h()},h(){o(e,"class","flex justify-center items-center w-full h-full py-3")},m(a,i){O(a,e,i),he(t,e,null),l=!0},p:vt,i(a){l||(K(t.$$.fragment,a),l=!0)},o(a){q(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t)}}}function Jc(s){let e,t=s[23].t("Failed to fetch models")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","flex justify-center items-center w-full h-full text-xs py-3")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("Failed to fetch models")+"")&&H(l,t)},i:vt,o:vt,d(a){a&&c(e)}}}function Xc(s){let e,t,l,a,i,r,f=s[23].t("Pull a model from Ollama.com")+"",u,h,b,p,m,g,E,w,k,I,y,T,$,S=s[23].t("To access the available model names for downloading,")+"",N,V,C,R=s[23].t("click here.")+"",U,Z,B,M=Object.keys(s[22]).length>0,j,G,W,z=s[23].t("Delete a model")+"",x,te,Y,Q,X,F,J,ae,ue,ne='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',De,ge,Pe,be=s[23].t("Create a model")+"",Re,$e,ie,le,Ee,ce,ke,Ie,Qe,Je,ve,ye,fe,me,Oe,Me,He,Ce,Ge,je=s[23].t("Experimental")+"",$t,re,we,ht=(s[6]?s[23].t("Hide"):s[23].t("Show"))+"",mt,gt,Ke,Ye,ct;p=new Zt({props:{content:"Update All Models",placement:"top",$$slots:{default:[xc]},$$scope:{ctx:s}}});function Ut(oe,Le){return oe[7]?td:ed}let At=Ut(s),Ae=At(s),We=s[4]&&Ui(s),bt=M&&Ci(s),ot=!s[21]&&ji(s),dt=It(s[3]),rt=[];for(let oe=0;oe<dt.length;oe+=1)rt[oe]=Gi(Li(s,dt,oe));let lt=s[12]!==""&&Ki(s),et=s[6]&&qi(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),i=d("div"),r=d("div"),u=L(f),h=A(),b=d("div"),de(p.$$.fragment),m=A(),g=d("div"),E=d("div"),w=d("input"),I=A(),y=d("button"),Ae.c(),T=A(),$=d("div"),N=L(S),V=A(),C=d("a"),U=L(R),Z=A(),We&&We.c(),B=A(),bt&&bt.c(),j=A(),G=d("div"),W=d("div"),x=L(z),te=A(),Y=d("div"),Q=d("div"),X=d("select"),ot&&ot.c(),F=xt();for(let oe=0;oe<rt.length;oe+=1)rt[oe].c();ae=A(),ue=d("button"),ue.innerHTML=ne,De=A(),ge=d("div"),Pe=d("div"),Re=L(be),$e=A(),ie=d("div"),le=d("div"),Ee=d("input"),ke=A(),Ie=d("textarea"),Qe=A(),Je=d("div"),ve=d("button"),ye=sl("svg"),fe=sl("path"),me=sl("path"),Oe=A(),lt&&lt.c(),Me=A(),He=d("div"),Ce=d("div"),Ge=d("div"),$t=L(je),re=A(),we=d("button"),mt=L(ht),gt=A(),et&&et.c(),this.h()},l(oe){e=_(oe,"DIV",{class:!0});var Le=v(e);t=_(Le,"DIV",{});var Tt=v(t);l=_(Tt,"DIV",{class:!0});var Xe=v(l);a=_(Xe,"DIV",{});var Ot=v(a);i=_(Ot,"DIV",{class:!0});var wt=v(i);r=_(wt,"DIV",{});var it=v(r);u=P(it,f),it.forEach(c),h=D(wt),b=_(wt,"DIV",{});var Pt=v(b);_e(p.$$.fragment,Pt),Pt.forEach(c),wt.forEach(c),m=D(Ot),g=_(Ot,"DIV",{class:!0});var zt=v(g);E=_(zt,"DIV",{class:!0});var qt=v(E);w=_(qt,"INPUT",{class:!0,placeholder:!0}),qt.forEach(c),I=D(zt),y=_(zt,"BUTTON",{class:!0});var Dt=v(y);Ae.l(Dt),Dt.forEach(c),zt.forEach(c),T=D(Ot),$=_(Ot,"DIV",{class:!0});var Rt=v($);N=P(Rt,S),V=D(Rt),C=_(Rt,"A",{class:!0,href:!0,target:!0});var Nt=v(C);U=P(Nt,R),Nt.forEach(c),Rt.forEach(c),Z=D(Ot),We&&We.l(Ot),B=D(Ot),bt&&bt.l(Ot),Ot.forEach(c),j=D(Xe),G=_(Xe,"DIV",{});var Ue=v(G);W=_(Ue,"DIV",{class:!0});var Te=v(W);x=P(Te,z),Te.forEach(c),te=D(Ue),Y=_(Ue,"DIV",{class:!0});var Ne=v(Y);Q=_(Ne,"DIV",{class:!0});var pt=v(Q);X=_(pt,"SELECT",{class:!0,placeholder:!0});var xe=v(X);ot&&ot.l(xe),F=xt();for(let tl=0;tl<rt.length;tl+=1)rt[tl].l(xe);xe.forEach(c),pt.forEach(c),ae=D(Ne),ue=_(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),Gt(ue)!=="svelte-1c45g2d"&&(ue.innerHTML=ne),Ne.forEach(c),Ue.forEach(c),De=D(Xe),ge=_(Xe,"DIV",{});var _t=v(ge);Pe=_(_t,"DIV",{class:!0});var Kt=v(Pe);Re=P(Kt,be),Kt.forEach(c),$e=D(_t),ie=_(_t,"DIV",{class:!0});var Lt=v(ie);le=_(Lt,"DIV",{class:!0});var Bt=v(le);Ee=_(Bt,"INPUT",{class:!0,placeholder:!0}),ke=D(Bt),Ie=_(Bt,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(Ie).forEach(c),Bt.forEach(c),Qe=D(Lt),Je=_(Lt,"DIV",{class:!0});var Et=v(Je);ve=_(Et,"BUTTON",{class:!0});var Ze=v(ve);ye=al(Ze,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var Be=v(ye);fe=al(Be,"path",{d:!0}),v(fe).forEach(c),me=al(Be,"path",{d:!0}),v(me).forEach(c),Be.forEach(c),Ze.forEach(c),Et.forEach(c),Lt.forEach(c),Oe=D(_t),lt&&lt.l(_t),_t.forEach(c),Me=D(Xe),He=_(Xe,"DIV",{class:!0});var tt=v(He);Ce=_(tt,"DIV",{class:!0});var kt=v(Ce);Ge=_(kt,"DIV",{class:!0});var Mt=v(Ge);$t=P(Mt,je),Mt.forEach(c),re=D(kt),we=_(kt,"BUTTON",{class:!0,type:!0});var rl=v(we);mt=P(rl,ht),rl.forEach(c),kt.forEach(c),tt.forEach(c),gt=D(Xe),et&&et.l(Xe),Xe.forEach(c),Tt.forEach(c),Le.forEach(c),this.h()},h(){o(i,"class","mb-2 text-sm font-medium flex items-center gap-1.5"),o(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(w,"placeholder",k=s[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})),o(E,"class","flex-1 mr-2"),o(y,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),y.disabled=s[7],o(g,"class","flex w-full"),o(C,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(C,"href","https://ollama.com/library"),o(C,"target","_blank"),o($,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(W,"class","mb-2 text-sm font-medium"),o(X,"class","w-full py-2 px-4 text-sm outline-none bg-transparent"),o(X,"placeholder",J=s[23].t("Select a model")),s[21]===void 0&&Ll(()=>s[38].call(X)),o(Q,"class","flex-1 mr-2 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),o(ue,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(Y,"class","flex w-full"),o(Pe,"class","mb-2 text-sm font-medium"),o(Ee,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Ee,"placeholder",ce=s[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})),Ee.disabled=s[9],o(Ie,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none scrollbar-hidden"),o(Ie,"rows","6"),o(Ie,"placeholder",'e.g. {"model": "my-modelfile", "from": "ollama:7b"})'),Ie.disabled=s[9],o(le,"class","flex-1 mr-2 flex flex-col gap-2"),o(fe,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(me,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(ye,"xmlns","http://www.w3.org/2000/svg"),o(ye,"viewBox","0 0 16 16"),o(ye,"fill","currentColor"),o(ye,"class","size-4"),o(ve,"class","px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"),ve.disabled=s[9],o(Je,"class","flex self-start"),o(ie,"class","flex w-full"),o(Ge,"class","text-sm font-medium"),o(we,"class","text-xs font-medium text-gray-500"),o(we,"type","button"),o(Ce,"class","flex justify-between items-center text-xs"),o(He,"class","pt-1"),o(l,"class","space-y-2"),o(e,"class","flex flex-col w-full")},m(oe,Le){O(oe,e,Le),n(e,t),n(t,l),n(l,a),n(a,i),n(i,r),n(r,u),n(i,h),n(i,b),he(p,b,null),n(a,m),n(a,g),n(g,E),n(E,w),ee(w,s[8]),n(g,I),n(g,y),Ae.m(y,null),n(a,T),n(a,$),n($,N),n($,V),n($,C),n(C,U),n(a,Z),We&&We.m(a,null),n(a,B),bt&&bt.m(a,null),n(l,j),n(l,G),n(G,W),n(W,x),n(G,te),n(G,Y),n(Y,Q),n(Q,X),ot&&ot.m(X,null),n(X,F);for(let Tt=0;Tt<rt.length;Tt+=1)rt[Tt]&&rt[Tt].m(X,null);Xt(X,s[21],!0),n(Y,ae),n(Y,ue),n(l,De),n(l,ge),n(ge,Pe),n(Pe,Re),n(ge,$e),n(ge,ie),n(ie,le),n(le,Ee),ee(Ee,s[10]),n(le,ke),n(le,Ie),ee(Ie,s[11]),n(ie,Qe),n(ie,Je),n(Je,ve),n(ve,ye),n(ye,fe),n(ye,me),n(ge,Oe),lt&&lt.m(ge,null),n(l,Me),n(l,He),n(He,Ce),n(Ce,Ge),n(Ge,$t),n(Ce,re),n(Ce,we),n(we,mt),n(l,gt),et&&et.m(l,null),Ke=!0,Ye||(ct=[se(w,"input",s[35]),se(y,"click",s[36]),se(X,"change",s[38]),se(ue,"click",s[39]),se(Ee,"input",s[40]),se(Ie,"input",s[41]),se(ve,"click",s[42]),se(we,"click",s[43])],Ye=!0)},p(oe,Le){(!Ke||Le[0]&8388608)&&f!==(f=oe[23].t("Pull a model from Ollama.com")+"")&&H(u,f);const Tt={};if(Le[1]&536870912&&(Tt.$$scope={dirty:Le,ctx:oe}),p.$set(Tt),(!Ke||Le[0]&8388608&&k!==(k=oe[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})))&&o(w,"placeholder",k),Le[0]&256&&w.value!==oe[8]&&ee(w,oe[8]),At!==(At=Ut(oe))&&(Ae.d(1),Ae=At(oe),Ae&&(Ae.c(),Ae.m(y,null))),(!Ke||Le[0]&128)&&(y.disabled=oe[7]),(!Ke||Le[0]&8388608)&&S!==(S=oe[23].t("To access the available model names for downloading,")+"")&&H(N,S),(!Ke||Le[0]&8388608)&&R!==(R=oe[23].t("click here.")+"")&&H(U,R),oe[4]?We?We.p(oe,Le):(We=Ui(oe),We.c(),We.m(a,B)):We&&(We.d(1),We=null),Le[0]&4194304&&(M=Object.keys(oe[22]).length>0),M?bt?(bt.p(oe,Le),Le[0]&4194304&&K(bt,1)):(bt=Ci(oe),bt.c(),K(bt,1),bt.m(a,null)):bt&&(Vt(),q(bt,1,1,()=>{bt=null}),St()),(!Ke||Le[0]&8388608)&&z!==(z=oe[23].t("Delete a model")+"")&&H(x,z),oe[21]?ot&&(ot.d(1),ot=null):ot?ot.p(oe,Le):(ot=ji(oe),ot.c(),ot.m(X,F)),Le[0]&8){dt=It(oe[3]);let Xe;for(Xe=0;Xe<dt.length;Xe+=1){const Ot=Li(oe,dt,Xe);rt[Xe]?rt[Xe].p(Ot,Le):(rt[Xe]=Gi(Ot),rt[Xe].c(),rt[Xe].m(X,null))}for(;Xe<rt.length;Xe+=1)rt[Xe].d(1);rt.length=dt.length}(!Ke||Le[0]&8388608&&J!==(J=oe[23].t("Select a model")))&&o(X,"placeholder",J),Le[0]&2097160&&Xt(X,oe[21]),(!Ke||Le[0]&8388608)&&be!==(be=oe[23].t("Create a model")+"")&&H(Re,be),(!Ke||Le[0]&8388608&&ce!==(ce=oe[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})))&&o(Ee,"placeholder",ce),(!Ke||Le[0]&512)&&(Ee.disabled=oe[9]),Le[0]&1024&&Ee.value!==oe[10]&&ee(Ee,oe[10]),(!Ke||Le[0]&512)&&(Ie.disabled=oe[9]),Le[0]&2048&&ee(Ie,oe[11]),(!Ke||Le[0]&512)&&(ve.disabled=oe[9]),oe[12]!==""?lt?lt.p(oe,Le):(lt=Ki(oe),lt.c(),lt.m(ge,null)):lt&&(lt.d(1),lt=null),(!Ke||Le[0]&8388608)&&je!==(je=oe[23].t("Experimental")+"")&&H($t,je),(!Ke||Le[0]&8388672)&&ht!==(ht=(oe[6]?oe[23].t("Hide"):oe[23].t("Show"))+"")&&H(mt,ht),oe[6]?et?et.p(oe,Le):(et=qi(oe),et.c(),et.m(l,null)):et&&(et.d(1),et=null)},i(oe){Ke||(K(p.$$.fragment,oe),K(bt),Ke=!0)},o(oe){q(p.$$.fragment,oe),q(bt),Ke=!1},d(oe){oe&&c(e),pe(p),Ae.d(),We&&We.d(),bt&&bt.d(),ot&&ot.d(),_l(rt,oe),lt&&lt.d(),et&&et.d(),Ye=!1,ol(ct)}}}function xc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=_(i,"BUTTON",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-91van"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex gap-2 items-center bg-transparent rounded-lg transition")},m(i,r){O(i,e,r),l||(a=se(e,"click",s[34]),l=!0)},p:vt,d(i){i&&c(e),l=!1,a()}}}function ed(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function td(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function Ui(s){let e,t,l,a,i=s[5]?`(${s[5]}%)`:"",r;return{c(){e=d("div"),t=L('Updating "'),l=L(s[4]),a=L('" '),r=L(i),this.h()},l(f){e=_(f,"DIV",{class:!0});var u=v(e);t=P(u,'Updating "'),l=P(u,s[4]),a=P(u,'" '),r=P(u,i),u.forEach(c),this.h()},h(){o(e,"class","text-xs")},m(f,u){O(f,e,u),n(e,t),n(e,l),n(e,a),n(e,r)},p(f,u){u[0]&16&&H(l,f[4]),u[0]&32&&i!==(i=f[5]?`(${f[5]}%)`:"")&&H(r,i)},d(f){f&&c(e)}}}function Ci(s){let e,t,l=It(Object.keys(s[22])),a=[];for(let r=0;r<l.length;r+=1)a[r]=Hi(Pi(s,l,r));const i=r=>q(a[r],1,1,()=>{a[r]=null});return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=xt()},l(r){for(let f=0;f<a.length;f+=1)a[f].l(r);e=xt()},m(r,f){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(r,f);O(r,e,f),t=!0},p(r,f){if(f[0]&549453824){l=It(Object.keys(r[22]));let u;for(u=0;u<l.length;u+=1){const h=Pi(r,l,u);a[u]?(a[u].p(h,f),K(a[u],1)):(a[u]=Hi(h),a[u].c(),K(a[u],1),a[u].m(e.parentNode,e))}for(Vt(),u=l.length;u<a.length;u+=1)i(u);St()}},i(r){if(!t){for(let f=0;f<l.length;f+=1)K(a[f]);t=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)q(a[f]);t=!1},d(r){r&&c(e),_l(a,r)}}}function Ri(s){let e,t,l=s[55]+"",a,i,r,f,u,h,b=(s[22][s[55]].pullProgress??0)+"",p,m,g,E,w,k,I;E=new Zt({props:{content:s[23].t("Cancel"),$$slots:{default:[ld]},$$scope:{ctx:s}}});let y="digest"in s[22][s[55]]&&Bi(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("div"),h=d("div"),p=L(b),m=L("%"),g=A(),de(E.$$.fragment),w=A(),y&&y.c(),k=A(),this.h()},l(T){e=_(T,"DIV",{class:!0});var $=v(e);t=_($,"DIV",{class:!0});var S=v(t);a=P(S,l),S.forEach(c),i=D($),r=_($,"DIV",{class:!0});var N=v(r);f=_(N,"DIV",{class:!0});var V=v(f);u=_(V,"DIV",{class:!0});var C=v(u);h=_(C,"DIV",{class:!0,style:!0});var R=v(h);p=P(R,b),m=P(R,"%"),R.forEach(c),C.forEach(c),g=D(V),_e(E.$$.fragment,V),V.forEach(c),w=D(N),y&&y.l(N),N.forEach(c),k=D($),$.forEach(c),this.h()},h(){o(t,"class","font-medium mb-1"),o(h,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Es(h,"width",Math.max(15,s[22][s[55]].pullProgress??0)+"%"),o(u,"class","flex-1"),o(f,"class","flex flex-row justify-between space-x-4 pr-2"),o(r,"class",""),o(e,"class","flex flex-col")},m(T,$){O(T,e,$),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),n(u,h),n(h,p),n(h,m),n(f,g),he(E,f,null),n(r,w),y&&y.m(r,null),n(e,k),I=!0},p(T,$){(!I||$[0]&4194304)&&l!==(l=T[55]+"")&&H(a,l),(!I||$[0]&4194304)&&b!==(b=(T[22][T[55]].pullProgress??0)+"")&&H(p,b),(!I||$[0]&4194304)&&Es(h,"width",Math.max(15,T[22][T[55]].pullProgress??0)+"%");const S={};$[0]&8388608&&(S.content=T[23].t("Cancel")),$[0]&4194304|$[1]&536870912&&(S.$$scope={dirty:$,ctx:T}),E.$set(S),"digest"in T[22][T[55]]?y?y.p(T,$):(y=Bi(T),y.c(),y.m(r,null)):y&&(y.d(1),y=null)},i(T){I||(K(E.$$.fragment,T),I=!0)},o(T){q(E.$$.fragment,T),I=!1},d(T){T&&c(e),pe(E),y&&y.d()}}}function ld(s){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,a;function i(){return s[37](s[55])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=_(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-aeotdp"&&(e.innerHTML=t),this.h()},h(){o(e,"class","text-gray-800 dark:text-gray-100")},m(r,f){O(r,e,f),l||(a=se(e,"click",i),l=!0)},p(r,f){s=r},d(r){r&&c(e),l=!1,a()}}}function Bi(s){let e,t=s[22][s[55]].digest+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0,style:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","mt-1 text-xs dark:text-gray-500"),Es(e,"font-size","0.5rem")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&4194304&&t!==(t=a[22][a[55]].digest+"")&&H(l,t)},d(a){a&&c(e)}}}function Hi(s){let e,t,l="pullProgress"in s[22][s[55]]&&Ri(s);return{c(){l&&l.c(),e=xt()},l(a){l&&l.l(a),e=xt()},m(a,i){l&&l.m(a,i),O(a,e,i),t=!0},p(a,i){"pullProgress"in a[22][a[55]]?l?(l.p(a,i),i[0]&4194304&&K(l,1)):(l=Ri(a),l.c(),K(l,1),l.m(e.parentNode,e)):l&&(Vt(),q(l,1,1,()=>{l=null}),St())},i(a){t||(K(l),t=!0)},o(a){q(l),t=!1},d(a){a&&c(e),l&&l.d(a)}}}function ji(s){let e,t=s[23].t("Select a model")+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){e.__value="",ee(e,e.__value),e.disabled=!0,e.selected=!0},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("Select a model")+"")&&H(l,t)},d(a){a&&c(e)}}}function Gi(s){let e,t=s[55].name+" ("+(s[55].size/1073741824).toFixed(1)+" GB)",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var r=v(e);l=P(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[55].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&8&&t!==(t=i[55].name+" ("+(i[55].size/1024**3).toFixed(1)+" GB)")&&H(l,t),r[0]&8&&a!==(a=i[55].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function Ki(s){let e,t,l,a,i,r,f,u,h=(s[13]??0)+"",b,p,m,g=s[12]&&Zi(s);return{c(){e=d("div"),t=d("div"),l=L(createModelTag),a=A(),i=d("div"),r=d("div"),f=d("div"),u=d("div"),b=L(h),p=L("%"),m=A(),g&&g.c(),this.h()},l(E){e=_(E,"DIV",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);l=P(k,createModelTag),k.forEach(c),a=D(w),i=_(w,"DIV",{class:!0});var I=v(i);r=_(I,"DIV",{class:!0});var y=v(r);f=_(y,"DIV",{class:!0});var T=v(f);u=_(T,"DIV",{class:!0,style:!0});var $=v(u);b=P($,h),p=P($,"%"),$.forEach(c),T.forEach(c),y.forEach(c),m=D(I),g&&g.l(I),I.forEach(c),w.forEach(c),this.h()},h(){o(t,"class","font-medium mb-1"),o(u,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Es(u,"width",Math.max(15,s[13]??0)+"%"),o(f,"class","flex-1"),o(r,"class","flex flex-row justify-between space-x-4 pr-2"),o(i,"class",""),o(e,"class","flex flex-col mt-1")},m(E,w){O(E,e,w),n(e,t),n(t,l),n(e,a),n(e,i),n(i,r),n(r,f),n(f,u),n(u,b),n(u,p),n(i,m),g&&g.m(i,null)},p(E,w){w[0]&8192&&h!==(h=(E[13]??0)+"")&&H(b,h),w[0]&8192&&Es(u,"width",Math.max(15,E[13]??0)+"%"),E[12]?g?g.p(E,w):(g=Zi(E),g.c(),g.m(i,null)):g&&(g.d(1),g=null)},d(E){E&&c(e),g&&g.d()}}}function Zi(s){let e,t;return{c(){e=d("div"),t=L(s[12]),this.h()},l(l){e=_(l,"DIV",{class:!0,style:!0});var a=v(e);t=P(a,s[12]),a.forEach(c),this.h()},h(){o(e,"class","mt-1 text-xs dark:text-gray-500"),Es(e,"font-size","0.5rem")},m(l,a){O(l,e,a),n(e,t)},p(l,a){a[0]&4096&&H(t,l[12])},d(l){l&&c(e)}}}function qi(s){let e,t,l,a=s[23].t("Upload a GGUF model")+"",i,r,f,u,h,b,p,m,g,E,w=s[23].t("To access the GGUF models available for downloading,")+"",k,I,y,T=s[23].t("click here.")+"",$,S,N,V;function C(te,Y){return te[14]==="file"?ad:sd}let R=C(s),U=R(s);function Z(te,Y){return te[14]==="file"?nd:rd}let B=Z(s),M=B(s),j=(s[14]==="file"&&s[15]&&s[15].length>0||s[14]==="url"&&s[16]!=="")&&Fi(s),G=(s[14]==="file"&&s[15]&&s[15].length>0||s[14]==="url"&&s[16]!=="")&&Wi(s);function W(te,Y){if(te[20])return dd;if(te[19]!==null)return cd}let z=W(s),x=z&&z(s);return{c(){e=d("form"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("button"),U.c(),u=A(),h=d("div"),b=d("div"),M.c(),p=A(),j&&j.c(),m=A(),G&&G.c(),g=A(),E=d("div"),k=L(w),I=A(),y=d("a"),$=L(T),S=A(),x&&x.c(),this.h()},l(te){e=_(te,"FORM",{});var Y=v(e);t=_(Y,"DIV",{class:!0});var Q=v(t);l=_(Q,"DIV",{class:!0});var X=v(l);i=P(X,a),X.forEach(c),r=D(Q),f=_(Q,"BUTTON",{class:!0,type:!0});var F=v(f);U.l(F),F.forEach(c),Q.forEach(c),u=D(Y),h=_(Y,"DIV",{class:!0});var J=v(h);b=_(J,"DIV",{class:!0});var ae=v(b);M.l(ae),ae.forEach(c),p=D(J),j&&j.l(J),J.forEach(c),m=D(Y),G&&G.l(Y),g=D(Y),E=_(Y,"DIV",{class:!0});var ue=v(E);k=P(ue,w),I=D(ue),y=_(ue,"A",{class:!0,href:!0,target:!0});var ne=v(y);$=P(ne,T),ne.forEach(c),ue.forEach(c),S=D(Y),x&&x.l(Y),Y.forEach(c),this.h()},h(){o(l,"class","text-sm font-medium"),o(f,"class","p-1 px-3 text-xs flex rounded transition"),o(f,"type","button"),o(t,"class","mb-2 flex w-full justify-between"),o(b,"class","flex flex-col w-full"),o(h,"class","flex w-full mb-1.5"),o(y,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(y,"href","https://huggingface.co/models?search=gguf"),o(y,"target","_blank"),o(E,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(te,Y){O(te,e,Y),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),U.m(f,null),n(e,u),n(e,h),n(h,b),M.m(b,null),n(h,p),j&&j.m(h,null),n(e,m),G&&G.m(e,null),n(e,g),n(e,E),n(E,k),n(E,I),n(E,y),n(y,$),n(e,S),x&&x.m(e,null),N||(V=[se(f,"click",s[44]),se(e,"submit",us(s[51]))],N=!0)},p(te,Y){Y[0]&8388608&&a!==(a=te[23].t("Upload a GGUF model")+"")&&H(i,a),R===(R=C(te))&&U?U.p(te,Y):(U.d(1),U=R(te),U&&(U.c(),U.m(f,null))),B===(B=Z(te))&&M?M.p(te,Y):(M.d(1),M=B(te),M&&(M.c(),M.m(b,null))),te[14]==="file"&&te[15]&&te[15].length>0||te[14]==="url"&&te[16]!==""?j?j.p(te,Y):(j=Fi(te),j.c(),j.m(h,null)):j&&(j.d(1),j=null),te[14]==="file"&&te[15]&&te[15].length>0||te[14]==="url"&&te[16]!==""?G?G.p(te,Y):(G=Wi(te),G.c(),G.m(e,g)):G&&(G.d(1),G=null),Y[0]&8388608&&w!==(w=te[23].t("To access the GGUF models available for downloading,")+"")&&H(k,w),Y[0]&8388608&&T!==(T=te[23].t("click here.")+"")&&H($,T),z===(z=W(te))&&x?x.p(te,Y):(x&&x.d(1),x=z&&z(te),x&&(x.c(),x.m(e,null)))},d(te){te&&c(e),U.d(),M.d(),j&&j.d(),G&&G.d(),x&&x.d(),N=!1,ol(V)}}}function sd(s){let e,t=s[23].t("URL Mode")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("URL Mode")+"")&&H(l,t)},d(a){a&&c(e)}}}function ad(s){let e,t=s[23].t("File Mode")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("File Mode")+"")&&H(l,t)},d(a){a&&c(e)}}}function rd(s){let e,t,l,a,i,r,f;return{c(){e=d("div"),t=d("input"),this.h()},l(u){e=_(u,"DIV",{class:!0});var h=v(e);t=_(h,"INPUT",{class:!0,type:!0,placeholder:!0}),h.forEach(c),this.h()},h(){o(t,"class",l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(s[16]!==""?"mr-2":"")),o(t,"type","url"),t.required=!0,o(t,"placeholder",a=s[23].t("Type Hugging Face Resolve (Download) URL")),o(e,"class",i="flex-1 "+(s[16]!==""?"mr-2":""))},m(u,h){O(u,e,h),n(e,t),ee(t,s[16]),r||(f=se(t,"input",s[49]),r=!0)},p(u,h){h[0]&65536&&l!==(l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none "+(u[16]!==""?"mr-2":""))&&o(t,"class",l),h[0]&8388608&&a!==(a=u[23].t("Type Hugging Face Resolve (Download) URL"))&&o(t,"placeholder",a),h[0]&65536&&t.value!==u[16]&&ee(t,u[16]),h[0]&65536&&i!==(i="flex-1 "+(u[16]!==""?"mr-2":""))&&o(e,"class",i)},d(u){u&&c(e),r=!1,f()}}}function nd(s){let e,t,l,a,i,r,f;function u(p,m){return p[15]&&p[15].length>0?od:id}let h=u(s),b=h(s);return{c(){e=d("div"),t=d("input"),l=A(),a=d("button"),b.c(),this.h()},l(p){e=_(p,"DIV",{class:!0});var m=v(e);t=_(m,"INPUT",{id:!0,type:!0,accept:!0}),l=D(m),a=_(m,"BUTTON",{type:!0,class:!0});var g=v(a);b.l(g),g.forEach(c),m.forEach(c),this.h()},h(){o(t,"id","model-upload-input"),o(t,"type","file"),o(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,o(a,"type","button"),o(a,"class","w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),o(e,"class",i="flex-1 "+(s[15]&&s[15].length>0?"mr-2":""))},m(p,m){O(p,e,m),n(e,t),s[45](t),n(e,l),n(e,a),b.m(a,null),r||(f=[se(t,"change",s[46]),se(t,"change",s[47]),se(a,"click",s[48])],r=!0)},p(p,m){h===(h=u(p))&&b?b.p(p,m):(b.d(1),b=h(p),b&&(b.c(),b.m(a,null))),m[0]&32768&&i!==(i="flex-1 "+(p[15]&&p[15].length>0?"mr-2":""))&&o(e,"class",i)},d(p){p&&c(e),s[45](null),b.d(),r=!1,ol(f)}}}function id(s){let e=s[23].t("Click here to select")+"",t;return{c(){t=L(e)},l(l){t=P(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&8388608&&e!==(e=l[23].t("Click here to select")+"")&&H(t,e)},d(l){l&&c(t)}}}function od(s){let e=s[15][0].name+"",t;return{c(){t=L(e)},l(l){t=P(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&32768&&e!==(e=l[15][0].name+"")&&H(t,e)},d(l){l&&c(t)}}}function Fi(s){let e;function t(i,r){return i[7]?fd:ud}let l=t(s),a=l(s);return{c(){e=d("button"),a.c(),this.h()},l(i){e=_(i,"BUTTON",{class:!0,type:!0});var r=v(e);a.l(r),r.forEach(c),this.h()},h(){o(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition"),o(e,"type","submit"),e.disabled=s[7]},m(i,r){O(i,e,r),a.m(e,null)},p(i,r){l!==(l=t(i))&&(a.d(1),a=l(i),a&&(a.c(),a.m(e,null))),r[0]&128&&(e.disabled=i[7])},d(i){i&&c(e),a.d()}}}function ud(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function fd(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
														transform-origin: center;
														animation: spinner_AtaB 0.75s infinite linear;
													}

													@keyframes spinner_AtaB {
														100% {
															transform: rotate(360deg);
														}
													}
												</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-j1a4yh"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function Wi(s){let e,t,l,a=s[23].t("Modelfile Content")+"",i,r,f,u,h;return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("textarea"),this.h()},l(b){e=_(b,"DIV",{});var p=v(e);t=_(p,"DIV",{});var m=v(t);l=_(m,"DIV",{class:!0});var g=v(l);i=P(g,a),g.forEach(c),r=D(m),f=_(m,"TEXTAREA",{class:!0,rows:!0}),v(f).forEach(c),m.forEach(c),p.forEach(c),this.h()},h(){o(l,"class","my-2.5 text-sm font-medium"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none"),o(f,"rows","6")},m(b,p){O(b,e,p),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),ee(f,s[17]),u||(h=se(f,"input",s[50]),u=!0)},p(b,p){p[0]&8388608&&a!==(a=b[23].t("Modelfile Content")+"")&&H(i,a),p[0]&131072&&ee(f,b[17])},d(b){b&&c(e),u=!1,h()}}}function cd(s){let e,t,l=s[23].t("Upload Progress")+"",a,i,r,f,u=(s[19]??0)+"",h,b,p,m,g;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),h=L(u),b=L("%"),p=A(),m=d("div"),g=L(s[18]),this.h()},l(E){e=_(E,"DIV",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);a=P(k,l),k.forEach(c),i=D(w),r=_(w,"DIV",{class:!0});var I=v(r);f=_(I,"DIV",{class:!0,style:!0});var y=v(f);h=P(y,u),b=P(y,"%"),y.forEach(c),I.forEach(c),p=D(w),m=_(w,"DIV",{class:!0,style:!0});var T=v(m);g=P(T,s[18]),T.forEach(c),w.forEach(c),this.h()},h(){o(t,"class","mb-2 text-xs"),o(f,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Es(f,"width",Math.max(15,s[19]??0)+"%"),o(r,"class","w-full rounded-full dark:bg-gray-800"),o(m,"class","mt-1 text-xs dark:text-gray-500"),Es(m,"font-size","0.5rem"),o(e,"class","mt-2")},m(E,w){O(E,e,w),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,h),n(f,b),n(e,p),n(e,m),n(m,g)},p(E,w){w[0]&8388608&&l!==(l=E[23].t("Upload Progress")+"")&&H(a,l),w[0]&524288&&u!==(u=(E[19]??0)+"")&&H(h,u),w[0]&524288&&Es(f,"width",Math.max(15,E[19]??0)+"%"),w[0]&262144&&H(g,E[18])},d(E){E&&c(e)}}}function dd(s){let e,t,l=s[23].t("Upload Progress")+"",a,i,r,f,u,h,b,p;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=L(s[20]),h=A(),b=d("div"),p=L(s[18]),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=P(E,l),E.forEach(c),i=D(g),r=_(g,"DIV",{class:!0});var w=v(r);f=_(w,"DIV",{class:!0,style:!0});var k=v(f);u=P(k,s[20]),k.forEach(c),w.forEach(c),h=D(g),b=_(g,"DIV",{class:!0,style:!0});var I=v(b);p=P(I,s[18]),I.forEach(c),g.forEach(c),this.h()},h(){o(t,"class","mb-2 text-xs"),o(f,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Es(f,"width","100%"),o(r,"class","w-full rounded-full dark:bg-gray-800"),o(b,"class","mt-1 text-xs dark:text-gray-500"),Es(b,"font-size","0.5rem"),o(e,"class","mt-2")},m(m,g){O(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),n(e,h),n(e,b),n(b,p)},p(m,g){g[0]&8388608&&l!==(l=m[23].t("Upload Progress")+"")&&H(a,l),g[0]&1048576&&H(u,m[20]),g[0]&262144&&H(p,m[18])},d(m){m&&c(e)}}}function _d(s){let e,t,l,a,i,r,f;function u(g){s[32](g)}let h={};s[1]!==void 0&&(h.show=s[1]),e=new Ja({props:h}),at.push(()=>ft(e,"show",u)),e.$on("confirm",s[33]);const b=[Xc,Jc,Qc],p=[];function m(g,E){return g[2]?g[3]===null?1:2:0}return a=m(s),i=p[a]=b[a](s),{c(){de(e.$$.fragment),l=A(),i.c(),r=xt()},l(g){_e(e.$$.fragment,g),l=D(g),i.l(g),r=xt()},m(g,E){he(e,g,E),O(g,l,E),p[a].m(g,E),O(g,r,E),f=!0},p(g,E){const w={};!t&&E[0]&2&&(t=!0,w.show=g[1],ut(()=>t=!1)),e.$set(w);let k=a;a=m(g),a===k?p[a].p(g,E):(Vt(),q(p[k],1,1,()=>{p[k]=null}),St(),i=p[a],i?i.p(g,E):(i=p[a]=b[a](g),i.c()),K(i,1),i.m(r.parentNode,r))},i(g){f||(K(e.$$.fragment,g),K(i),f=!0)},o(g){q(e.$$.fragment,g),q(i),f=!1},d(g){g&&(c(l),c(r)),pe(e,g),p[a].d(g)}}}const hd=3;function pd(s,e,t){let l,a;nl(s,aa,ve=>t(22,l=ve));const i=Dl("i18n");nl(s,i,ve=>t(23,a=ve));let r,f=!1,u=!0,{urlIdx:h=null}=e,b=[],p=null,m=null,g=!1,E=!1,w="",k=!1,I="",y="",T="",$=null,S="",N=null,V="file",C=null,R="",U=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,Z="",B=null,M="",j="";const G=async()=>{for(const ve of b){console.log(ve),t(4,p=ve.id);const[ye,fe]=await mn(localStorage.token,ve.id,h).catch(me=>(ze.error(`${me}`),null));if(ye){const me=ye.body.pipeThrough(new TextDecoderStream).pipeThrough(ga(`
`)).getReader();for(;;)try{const{value:Oe,done:Me}=await me.read();if(Me)break;let He=Oe.split(`
`);for(const Ce of He)if(Ce!==""){let Ge=JSON.parse(Ce);if(console.log(Ge),Ge.error)throw Ge.error;if(Ge.detail)throw Ge.detail;Ge.status&&(Ge.digest?(t(5,m=0),Ge.completed?t(5,m=Math.round(Ge.completed/Ge.total*1e3)/10):t(5,m=100)):ze.success(Ge.status))}}catch(Oe){console.log(Oe)}}}t(4,p=null),t(5,m=null)},W=async()=>{const ve=w.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(l),l[ve]){ze.error(a.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:ve}));return}if(Object.keys(l).length===hd){ze.error(a.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[ye,fe]=await mn(localStorage.token,ve,h).catch(me=>(ze.error(`${me}`),null));if(ye){const me=ye.body.pipeThrough(new TextDecoderStream).pipeThrough(ga(`
`)).getReader();for(aa.set({...l,[ve]:{...l[ve],abortController:fe,reader:me,done:!1}});;)try{const{value:Oe,done:Me}=await me.read();if(Me)break;let He=Oe.split(`
`);for(const Ce of He)if(Ce!==""){let Ge=JSON.parse(Ce);if(console.log(Ge),Ge.error)throw Ge.error;if(Ge.detail)throw Ge.detail;if(Ge.status)if(Ge.digest){let je=0;Ge.completed?je=Math.round(Ge.completed/Ge.total*1e3)/10:je=100,aa.set({...l,[ve]:{...l[ve],pullProgress:je,digest:Ge.digest}})}else ze.success(Ge.status),aa.set({...l,[ve]:{...l[ve],done:Ge.status==="success"}})}}catch(Oe){console.log(Oe),typeof Oe!="string"&&(Oe=Oe.message),ze.error(`${Oe}`)}console.log(l[ve]),l[ve].done?(ze.success(a.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:ve})),Nl.set(await ql(localStorage.token))):ze.error(a.t("Download canceled")),delete l[ve],aa.set({...l})}t(8,w=""),t(7,E=!1)},z=async()=>{t(7,E=!0);let ve=!1,ye=null,fe="";if(V==="file"){const me=C?C[0]:null;me&&(t(20,M="Uploading..."),ye=await ju(localStorage.token,me,h).catch(Oe=>(ze.error(`${Oe}`),null)))}else t(19,B=0),ye=await Gu(localStorage.token,R,h).catch(me=>(ze.error(`${me}`),null));if(ye&&ye.ok){const me=ye.body.pipeThrough(new TextDecoderStream).pipeThrough(ga(`
`)).getReader();for(;;){const{value:Oe,done:Me}=await me.read();if(Me)break;try{let He=Oe.split(`
`);for(const Ce of He)if(Ce!==""){let Ge=JSON.parse(Ce.replace(/^data: /,""));if(Ge.progress&&(M&&t(20,M=""),t(19,B=Ge.progress)),Ge.error)throw Ge.error;Ge.done&&(t(18,Z=Ge.blob),fe=Ge.name,ve=!0)}}catch(He){console.log(He)}}}else{const me=await(ye==null?void 0:ye.json());ze.error((me==null?void 0:me.detail)??me)}if(ve){const me=await bn(localStorage.token,`${fe}:latest`,`FROM @${Z}
${U}`);if(me&&me.ok){const Oe=me.body.pipeThrough(new TextDecoderStream).pipeThrough(ga(`
`)).getReader();for(;;){const{value:Me,done:He}=await Oe.read();if(He)break;try{let Ce=Me.split(`
`);for(const Ge of Ce)if(Ge!==""){console.log(Ge);let je=JSON.parse(Ge);if(console.log(je),je.error)throw je.error;if(je.detail)throw je.detail;je.status&&(!je.digest&&!je.status.includes("writing")&&!je.status.includes("sha256")?ze.success(je.status):je.digest&&(S=je.digest,je.completed?N=Math.round(je.completed/je.total*1e3)/10:N=100))}}catch(Ce){console.log(Ce),ze.error(`${Ce}`)}}}}t(16,R=""),r&&t(0,r.value="",r),t(15,C=null),t(7,E=!1),t(19,B=null),Nl.set(await ql(localStorage.token))},x=async()=>{await gn(localStorage.token,j,h).catch(ye=>{ze.error(`${ye}`)})&&ze.success(a.t("Deleted {{deleteModelTag}}",{deleteModelTag:j})),t(21,j=""),Nl.set(await ql(localStorage.token))},te=async ve=>{const{reader:ye,abortController:fe}=l[ve];fe&&fe.abort(),ye&&(await ye.cancel(),delete l[ve],aa.set({...l}),await gn(localStorage.token,ve),ze.success(`${ve} download has been canceled`))},Y=async()=>{t(9,k=!0);let ve={};try{ve=JSON.parse(y)}catch(fe){ze.error(`${fe}`),t(9,k=!1);return}const ye=await bn(localStorage.token,{model:I,...ve},h).catch(fe=>(ze.error(`${fe}`),null));if(ye&&ye.ok){const fe=ye.body.pipeThrough(new TextDecoderStream).pipeThrough(ga(`
`)).getReader();for(;;){const{value:me,done:Oe}=await fe.read();if(Oe)break;try{let Me=me.split(`
`);for(const He of Me)if(He!==""){console.log(He);let Ce=JSON.parse(He);if(console.log(Ce),Ce.error)throw Ce.error;if(Ce.detail)throw Ce.detail;Ce.status&&(!Ce.digest&&!Ce.status.includes("writing")&&!Ce.status.includes("sha256")?ze.success(Ce.status):Ce.digest&&(t(12,T=Ce.digest),Ce.completed?t(13,$=Math.round(Ce.completed/Ce.total*1e3)/10):t(13,$=100)))}}catch(Me){console.log(Me),ze.error(`${Me}`)}}}Nl.set(await ql(localStorage.token)),t(9,k=!1),t(10,I=""),t(11,y=""),t(12,T=""),t(13,$=null)},Q=async()=>{t(2,u=!0),t(3,b=await Hu(localStorage.token,h).catch(ve=>(ze.error(`${ve}`),null))),b&&t(2,u=!1)};function X(ve){f=ve,t(1,f)}const F=()=>{x()},J=()=>{G()};function ae(){w=this.value,t(8,w)}const ue=()=>{W()},ne=ve=>{te(ve)};function De(){j=Ol(this),t(21,j),t(3,b)}const ge=()=>{t(1,f=!0)};function Pe(){I=this.value,t(10,I)}function be(){y=this.value,t(11,y)}const Re=()=>{Y()},$e=()=>{t(6,g=!g)},ie=()=>{V==="file"?t(14,V="url"):t(14,V="file")};function le(ve){at[ve?"unshift":"push"](()=>{r=ve,t(0,r)})}function Ee(){C=this.files,t(15,C)}const ce=()=>{console.log(C)},ke=()=>{r.click()};function Ie(){R=this.value,t(16,R)}function Qe(){U=this.value,t(17,U)}const Je=()=>{z()};return s.$$set=ve=>{"urlIdx"in ve&&t(31,h=ve.urlIdx)},s.$$.update=()=>{s.$$.dirty[1]&1&&h!==null&&Q()},[r,f,u,b,p,m,g,E,w,k,I,y,T,$,V,C,R,U,Z,B,M,j,l,a,i,G,W,z,x,te,Y,h,X,F,J,ae,ue,ne,De,ge,Pe,be,Re,$e,ie,le,Ee,ce,ke,Ie,Qe,Je]}class Ko extends gl{constructor(e){super(),bl(this,e,pd,_d,ml,{urlIdx:31},null,[-1,-1])}}function Yi(s,e,t){const l=s.slice();return l[5]=e[t],l[7]=t,l}function zi(s){let e,t,l,a,i,r,f,u,h=It(s[0].OLLAMA_BASE_URLS),b=[];for(let p=0;p<h.length;p+=1)b[p]=Qi(Yi(s,h,p));return i=new Ko({props:{urlIdx:s[1]}}),{c(){e=d("div"),t=d("select");for(let p=0;p<b.length;p+=1)b[p].c();a=A(),de(i.$$.fragment),this.h()},l(p){e=_(p,"DIV",{class:!0});var m=v(e);t=_(m,"SELECT",{class:!0,placeholder:!0});var g=v(t);for(let E=0;E<b.length;E+=1)b[E].l(g);g.forEach(c),m.forEach(c),a=D(p),_e(i.$$.fragment,p),this.h()},h(){o(t,"class","w-full py-2 px-4 text-sm outline-none bg-transparent"),o(t,"placeholder",l=s[2].t("Select an Ollama instance")),s[1]===void 0&&Ll(()=>s[4].call(t)),o(e,"class","flex-1 mb-2.5 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850")},m(p,m){O(p,e,m),n(e,t);for(let g=0;g<b.length;g+=1)b[g]&&b[g].m(t,null);Xt(t,s[1],!0),O(p,a,m),he(i,p,m),r=!0,f||(u=se(t,"change",s[4]),f=!0)},p(p,m){if(m&1){h=It(p[0].OLLAMA_BASE_URLS);let E;for(E=0;E<h.length;E+=1){const w=Yi(p,h,E);b[E]?b[E].p(w,m):(b[E]=Qi(w),b[E].c(),b[E].m(t,null))}for(;E<b.length;E+=1)b[E].d(1);b.length=h.length}(!r||m&4&&l!==(l=p[2].t("Select an Ollama instance")))&&o(t,"placeholder",l),m&2&&Xt(t,p[1]);const g={};m&2&&(g.urlIdx=p[1]),i.$set(g)},i(p){r||(K(i.$$.fragment,p),r=!0)},o(p){q(i.$$.fragment,p),r=!1},d(p){p&&(c(e),c(a)),_l(b,p),pe(i,p),f=!1,u()}}}function Qi(s){let e,t=s[5]+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){e.__value=s[7],ee(e,e.__value)},m(a,i){O(a,e,i),n(e,l)},p(a,i){i&1&&t!==(t=a[5]+"")&&H(l,t)},d(a){a&&c(e)}}}function vd(s){let e,t,l=s[0]&&zi(s);return{c(){l&&l.c(),e=xt()},l(a){l&&l.l(a),e=xt()},m(a,i){l&&l.m(a,i),O(a,e,i),t=!0},p(a,[i]){a[0]?l?(l.p(a,i),i&1&&K(l,1)):(l=zi(a),l.c(),K(l,1),l.m(e.parentNode,e)):l&&(Vt(),q(l,1,1,()=>{l=null}),St())},i(a){t||(K(l),t=!0)},o(a){q(l),t=!1},d(a){a&&c(e),l&&l.d(a)}}}function md(s,e,t){let l;const a=Dl("i18n");nl(s,a,u=>t(2,l=u));let{ollamaConfig:i=null}=e,r=0;function f(){r=Ol(this),t(1,r)}return s.$$set=u=>{"ollamaConfig"in u&&t(0,i=u.ollamaConfig)},[i,r,l,a,f]}class gd extends gl{constructor(e){super(),bl(this,e,md,vd,ml,{ollamaConfig:0})}}function bd(s){let e,t,l;return t=new $s({}),{c(){e=d("div"),de(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(c),this.h()},h(){o(e,"class","py-5")},m(a,i){O(a,e,i),he(t,e,null),l=!0},p:vt,i(a){l||(K(t.$$.fragment,a),l=!0)},o(a){q(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t)}}}function Ed(s){let e,t,l,a=s[3].t("Ollama")+"",i,r,f,u,h,b,p,m=s[1]==="ollama"&&Ji(s);return{c(){e=d("div"),t=d("div"),l=d("button"),i=L(a),f=A(),u=d("div"),m&&m.c(),this.h()},l(g){e=_(g,"DIV",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);l=_(w,"BUTTON",{class:!0});var k=v(l);i=P(k,a),k.forEach(c),w.forEach(c),f=D(E),u=_(E,"DIV",{class:!0});var I=v(u);m&&m.l(I),I.forEach(c),E.forEach(c),this.h()},h(){o(l,"class",r="min-w-fit rounded-full p-1.5 "+(s[1]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),o(t,"class","flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200"),o(u,"class","px-1.5 py-1"),o(e,"class","flex w-full flex-col")},m(g,E){O(g,e,E),n(e,t),n(t,l),n(l,i),n(e,f),n(e,u),m&&m.m(u,null),h=!0,b||(p=se(l,"click",s[6]),b=!0)},p(g,E){(!h||E&8)&&a!==(a=g[3].t("Ollama")+"")&&H(i,a),(!h||E&2&&r!==(r="min-w-fit rounded-full p-1.5 "+(g[1]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"))&&o(l,"class",r),g[1]==="ollama"?m?(m.p(g,E),E&2&&K(m,1)):(m=Ji(g),m.c(),K(m,1),m.m(u,null)):m&&(Vt(),q(m,1,1,()=>{m=null}),St())},i(g){h||(K(m),h=!0)},o(g){q(m),h=!1},d(g){g&&c(e),m&&m.d(),b=!1,p()}}}function wd(s){let e,t,l=s[3].t("No inference engine with management support found")+"",a;return{c(){e=d("div"),t=d("div"),a=L(l),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{});var f=v(t);a=P(f,l),f.forEach(c),r.forEach(c),this.h()},h(){o(e,"class","py-5 text-gray-400 text-xs")},m(i,r){O(i,e,r),n(e,t),n(t,a)},p(i,r){r&8&&l!==(l=i[3].t("No inference engine with management support found")+"")&&H(a,l)},i:vt,o:vt,d(i){i&&c(e)}}}function Ji(s){let e,t;return e=new gd({props:{ollamaConfig:s[2]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a&4&&(i.ollamaConfig=l[2]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function kd(s){let e,t,l,a=s[3].t("Manage Models")+"",i,r,f,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,b,p,m,g,E,w,k;const I=[wd,Ed,bd],y=[];function T($,S){return $[1]===""?0:$[1]!==null?1:2}return m=T(s),g=y[m]=I[m](s),{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("button"),f.innerHTML=u,h=A(),b=d("div"),p=d("div"),g.c(),this.h()},l($){e=_($,"DIV",{});var S=v(e);t=_(S,"DIV",{class:!0});var N=v(t);l=_(N,"DIV",{class:!0});var V=v(l);i=P(V,a),V.forEach(c),r=D(N),f=_(N,"BUTTON",{class:!0,"data-svelte-h":!0}),Gt(f)!=="svelte-745w2y"&&(f.innerHTML=u),N.forEach(c),h=D(S),b=_(S,"DIV",{class:!0});var C=v(b);p=_(C,"DIV",{class:!0});var R=v(p);g.l(R),R.forEach(c),C.forEach(c),S.forEach(c),this.h()},h(){o(l,"class","text-lg font-medium self-center font-primary"),o(f,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4"),o(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(b,"class","flex flex-col md:flex-row w-full px-3 pb-4 md:space-x-4 dark:text-gray-200")},m($,S){O($,e,S),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),n(e,h),n(e,b),n(b,p),y[m].m(p,null),E=!0,w||(k=se(f,"click",s[5]),w=!0)},p($,S){(!E||S&8)&&a!==(a=$[3].t("Manage Models")+"")&&H(i,a);let N=m;m=T($),m===N?y[m].p($,S):(Vt(),q(y[N],1,1,()=>{y[N]=null}),St(),g=y[m],g?g.p($,S):(g=y[m]=I[m]($),g.c()),K(g,1),g.m(p,null))},i($){E||(K(g),E=!0)},o($){q(g),E=!1},d($){$&&c(e),y[m].d(),w=!1,k()}}}function Id(s){let e,t,l;function a(r){s[7](r)}let i={size:"sm",$$slots:{default:[kd]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Ea({props:i}),at.push(()=>ft(e,"show",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,[f]){const u={};f&1039&&(u.$$scope={dirty:f,ctx:r}),!t&&f&1&&(t=!0,u.show=r[0],ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function yd(s,e,t){let l,a;nl(s,ia,m=>t(8,l=m));const i=Dl("i18n");nl(s,i,m=>t(3,a=m)),ys();let{show:r=!1}=e,f=null,u=null;Fl(async()=>{if(l.role==="admin"){if(await Promise.all([(async()=>{t(2,u=await Ho(localStorage.token))})()]),u){t(1,f="ollama");return}t(1,f="")}});const h=()=>{t(0,r=!1)},b=()=>{t(1,f="ollama")};function p(m){r=m,t(0,r)}return s.$$set=m=>{"show"in m&&t(0,r=m.show)},[r,f,u,a,i,h,b,p]}class Td extends gl{constructor(e){super(),bl(this,e,yd,Id,ml,{show:0})}}function Xi(s,e,t){const l=s.slice();return l[35]=e[t],l[36]=e,l[37]=t,l}function Ad(s){let e,t,l;return t=new $s({}),{c(){e=d("div"),de(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(c),this.h()},h(){o(e,"class","h-full w-full flex justify-center items-center")},m(a,i){O(a,e,i),he(t,e,null),l=!0},p:vt,i(a){l||(K(t.$$.fragment,a),l=!0)},o(a){q(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t)}}}function Dd(s){let e,t,l,a;const i=[Vd,$d],r=[];function f(u,h){return u[5]===null?0:1}return e=f(s),t=r[e]=i[e](s),{c(){t.c(),l=xt()},l(u){t.l(u),l=xt()},m(u,h){r[e].m(u,h),O(u,l,h),a=!0},p(u,h){let b=e;e=f(u),e===b?r[e].p(u,h):(Vt(),q(r[b],1,1,()=>{r[b]=null}),St(),t=r[e],t?t.p(u,h):(t=r[e]=i[e](u),t.c()),K(t,1),t.m(l.parentNode,l))},i(u){a||(K(t),a=!0)},o(u){q(t),a=!1},d(u){u&&c(l),r[e].d(u)}}}function $d(s){let e,t;return e=new Cu({props:{edit:!0,model:s[0].find(s[29]),preset:!1,onSubmit:s[30],onBack:s[31]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a[0]&33&&(i.model=l[0].find(l[29])),a[0]&32&&(i.onSubmit=l[30]),a[0]&32&&(i.onBack=l[31]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function Vd(s){var X;let e,t,l,a=s[8].t("Models")+"",i,r,f,u,h,b=s[4].length+"",p,m,g,E,w,k,I,y,T,$,S,N,V,C,R,U,Z,B,M,j,G,W,z;E=new Zt({props:{content:s[8].t("Manage Models"),$$slots:{default:[Sd]},$$scope:{ctx:s}}}),k=new Zt({props:{content:s[8].t("Settings"),$$slots:{default:[Nd]},$$scope:{ctx:s}}}),S=new Uu({props:{className:"size-3.5"}});const x=[Od,Md],te=[];function Y(F,J){return F[0].length>0?0:1}Z=Y(s),B=te[Z]=x[Z](s);let Q=((X=s[9])==null?void 0:X.role)==="admin"&&eo(s);return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("div"),u=A(),h=d("span"),p=L(b),m=A(),g=d("div"),de(E.$$.fragment),w=A(),de(k.$$.fragment),I=A(),y=d("div"),T=d("div"),$=d("div"),de(S.$$.fragment),N=A(),V=d("input"),R=A(),U=d("div"),B.c(),M=A(),Q&&Q.c(),j=xt(),this.h()},l(F){e=_(F,"DIV",{class:!0});var J=v(e);t=_(J,"DIV",{class:!0});var ae=v(t);l=_(ae,"DIV",{class:!0});var ue=v(l);i=P(ue,a),r=D(ue),f=_(ue,"DIV",{class:!0}),v(f).forEach(c),u=D(ue),h=_(ue,"SPAN",{class:!0});var ne=v(h);p=P(ne,b),ne.forEach(c),ue.forEach(c),m=D(ae),g=_(ae,"DIV",{class:!0});var De=v(g);_e(E.$$.fragment,De),w=D(De),_e(k.$$.fragment,De),De.forEach(c),ae.forEach(c),I=D(J),y=_(J,"DIV",{class:!0});var ge=v(y);T=_(ge,"DIV",{class:!0});var Pe=v(T);$=_(Pe,"DIV",{class:!0});var be=v($);_e(S.$$.fragment,be),be.forEach(c),N=D(Pe),V=_(Pe,"INPUT",{class:!0,placeholder:!0}),Pe.forEach(c),ge.forEach(c),J.forEach(c),R=D(F),U=_(F,"DIV",{class:!0,id:!0});var Re=v(U);B.l(Re),Re.forEach(c),M=D(F),Q&&Q.l(F),j=xt(),this.h()},h(){o(f,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),o(h,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),o(l,"class","flex items-center md:self-center text-xl font-medium px-0.5"),o(g,"class","flex items-center gap-1.5"),o(t,"class","flex justify-between items-center"),o($,"class","self-center ml-1 mr-3"),o(V,"class","w-full text-sm py-1 rounded-r-xl outline-none bg-transparent"),o(V,"placeholder",C=s[8].t("Search Models")),o(T,"class","flex flex-1 items-center"),o(y,"class","flex flex-1 items-center w-full space-x-2"),o(e,"class","flex flex-col gap-1 mt-1.5 mb-2"),o(U,"class","my-2 mb-5"),o(U,"id","model-list")},m(F,J){O(F,e,J),n(e,t),n(t,l),n(l,i),n(l,r),n(l,f),n(l,u),n(l,h),n(h,p),n(t,m),n(t,g),he(E,g,null),n(g,w),he(k,g,null),n(e,I),n(e,y),n(y,T),n(T,$),he(S,$,null),n(T,N),n(T,V),ee(V,s[1]),O(F,R,J),O(F,U,J),te[Z].m(U,null),O(F,M,J),Q&&Q.m(F,J),O(F,j,J),G=!0,W||(z=se(V,"input",s[19]),W=!0)},p(F,J){var De;(!G||J[0]&256)&&a!==(a=F[8].t("Models")+"")&&H(i,a),(!G||J[0]&16)&&b!==(b=F[4].length+"")&&H(p,b);const ae={};J[0]&256&&(ae.content=F[8].t("Manage Models")),J[0]&128|J[1]&128&&(ae.$$scope={dirty:J,ctx:F}),E.$set(ae);const ue={};J[0]&256&&(ue.content=F[8].t("Settings")),J[0]&64|J[1]&128&&(ue.$$scope={dirty:J,ctx:F}),k.$set(ue),(!G||J[0]&256&&C!==(C=F[8].t("Search Models")))&&o(V,"placeholder",C),J[0]&2&&V.value!==F[1]&&ee(V,F[1]);let ne=Z;Z=Y(F),Z===ne?te[Z].p(F,J):(Vt(),q(te[ne],1,1,()=>{te[ne]=null}),St(),B=te[Z],B?B.p(F,J):(B=te[Z]=x[Z](F),B.c()),K(B,1),B.m(U,null)),((De=F[9])==null?void 0:De.role)==="admin"?Q?Q.p(F,J):(Q=eo(F),Q.c(),Q.m(j.parentNode,j)):Q&&(Q.d(1),Q=null)},i(F){G||(K(E.$$.fragment,F),K(k.$$.fragment,F),K(S.$$.fragment,F),K(B),G=!0)},o(F){q(E.$$.fragment,F),q(k.$$.fragment,F),q(S.$$.fragment,F),q(B),G=!1},d(F){F&&(c(e),c(R),c(U),c(M),c(j)),pe(E),pe(k),pe(S),te[Z].d(),Q&&Q.d(F),W=!1,z()}}}function Sd(s){let e,t,l,a,i;return t=new Bo({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","p-1 rounded-full flex gap-1 items-center"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[17]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){q(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function Nd(s){let e,t,l,a,i;return t=new xa({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","p-1 rounded-full flex gap-1 items-center"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[18]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){q(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function Md(s){let e,t,l=s[8].t("No models found")+"",a;return{c(){e=d("div"),t=d("div"),a=L(l),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var f=v(t);a=P(f,l),f.forEach(c),r.forEach(c),this.h()},h(){o(t,"class","text-gray-500 dark:text-gray-400 text-xs"),o(e,"class","flex flex-col items-center justify-center w-full h-20")},m(i,r){O(i,e,r),n(e,t),n(t,a)},p(i,r){r[0]&256&&l!==(l=i[8].t("No models found")+"")&&H(a,l)},i:vt,o:vt,d(i){i&&c(e)}}}function Od(s){let e=[],t=new Map,l,a,i=It(s[4]);const r=f=>f[35].id;for(let f=0;f<i.length;f+=1){let u=Xi(s,i,f),h=r(u);t.set(h,e[f]=xi(h,u))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();l=xt()},l(f){for(let u=0;u<e.length;u+=1)e[u].l(f);l=xt()},m(f,u){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(f,u);O(f,l,u),a=!0},p(f,u){u[0]&16688&&(i=It(f[4]),Vt(),e=Co(e,u,r,1,f,i,t,l.parentNode,Ro,xi,l,Xi),St())},i(f){if(!a){for(let u=0;u<i.length;u+=1)K(e[u]);a=!0}},o(f){for(let u=0;u<e.length;u+=1)q(e[u]);a=!1},d(f){f&&c(l);for(let u=0;u<e.length;u+=1)e[u].d(f)}}}function Ld(s){let e,t=s[35].name+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","font-semibold line-clamp-1")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&16&&t!==(t=a[35].name+"")&&H(l,t)},d(a){a&&c(e)}}}function Pd(s){let e,t,l;function a(f){s[22](f,s[35])}function i(){return s[23](s[35])}let r={};return s[35].is_active!==void 0&&(r.state=s[35].is_active),e=new kl({props:r}),at.push(()=>ft(e,"state",a)),e.$on("change",i),{c(){de(e.$$.fragment)},l(f){_e(e.$$.fragment,f)},m(f,u){he(e,f,u),l=!0},p(f,u){s=f;const h={};!t&&u[0]&16&&(t=!0,h.state=s[35].is_active,ut(()=>t=!1)),e.$set(h)},i(f){l||(K(e.$$.fragment,f),l=!0)},o(f){q(e.$$.fragment,f),l=!1},d(f){pe(e,f)}}}function xi(s,e){var W,z,x,te,Y,Q,X,F,J,ae,ue,ne,De,ge,Pe,be,Re,$e,ie;let t,l,a,i,r,f,u,h,b,p,m,g,E,w=((z=(W=e[35])==null?void 0:W.meta)!=null&&z.description?(te=(x=e[35])==null?void 0:x.meta)==null?void 0:te.description:(Q=(Y=e[35])==null?void 0:Y.ollama)!=null&&Q.digest?`${e[35].id} (${(F=(X=e[35])==null?void 0:X.ollama)==null?void 0:F.digest})`:e[35].id)+"",k,I,y,T,$,S='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',N,V,C,R,U,Z,B,M;p=new Zt({props:{content:pn.parse((ae=(J=e[35])==null?void 0:J.meta)!=null&&ae.description?(ne=(ue=e[35])==null?void 0:ue.meta)==null?void 0:ne.description:(ge=(De=e[35])==null?void 0:De.ollama)!=null&&ge.digest?`${(be=(Pe=e[35])==null?void 0:Pe.ollama)==null?void 0:be.digest} **(${($e=(Re=e[35])==null?void 0:Re.ollama)==null?void 0:$e.modified_at})**`:e[35].id),className:" w-fit",placement:"top-start",$$slots:{default:[Ld]},$$scope:{ctx:e}}});function j(){return e[20](e[35])}function G(){return e[21](e[35])}return C=new Zt({props:{content:((ie=e[35])==null?void 0:ie.is_active)??!0?e[8].t("Enabled"):e[8].t("Disabled"),$$slots:{default:[Pd]},$$scope:{ctx:e}}}),{key:s,first:null,c(){t=d("div"),l=d("button"),a=d("div"),i=d("div"),r=d("img"),h=A(),b=d("div"),de(p.$$.fragment),m=A(),g=d("div"),E=d("span"),k=L(w),y=A(),T=d("div"),$=d("button"),$.innerHTML=S,N=A(),V=d("div"),de(C.$$.fragment),R=A(),this.h()},l(le){t=_(le,"DIV",{class:!0,id:!0});var Ee=v(t);l=_(Ee,"BUTTON",{class:!0,type:!0});var ce=v(l);a=_(ce,"DIV",{class:!0});var ke=v(a);i=_(ke,"DIV",{class:!0});var Ie=v(i);r=_(Ie,"IMG",{src:!0,alt:!0,class:!0}),Ie.forEach(c),ke.forEach(c),h=D(ce),b=_(ce,"DIV",{class:!0});var Qe=v(b);_e(p.$$.fragment,Qe),m=D(Qe),g=_(Qe,"DIV",{class:!0});var Je=v(g);E=_(Je,"SPAN",{class:!0});var ve=v(E);k=P(ve,w),ve.forEach(c),Je.forEach(c),Qe.forEach(c),ce.forEach(c),y=D(Ee),T=_(Ee,"DIV",{class:!0});var ye=v(T);$=_(ye,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Gt($)!=="svelte-1q2s9zz"&&($.innerHTML=S),N=D(ye),V=_(ye,"DIV",{class:!0});var fe=v(V);_e(C.$$.fragment,fe),fe.forEach(c),ye.forEach(c),R=D(Ee),Ee.forEach(c),this.h()},h(){var le,Ee,ce,ke;na(r.src,f=((Ee=(le=e[35])==null?void 0:le.meta)==null?void 0:Ee.profile_image_url)??"/static/favicon.png")||o(r,"src",f),o(r,"alt","modelfile profile"),o(r,"class","rounded-full w-full h-auto object-cover"),o(i,"class",u="rounded-full object-cover "+(((ce=e[35])==null?void 0:ce.is_active)??!0?"":"opacity-50 dark:opacity-50")),o(a,"class","self-center w-8"),o(E,"class","line-clamp-1"),o(g,"class","text-xs overflow-hidden text-ellipsis line-clamp-1 text-gray-500"),o(b,"class",I="flex-1 self-center "+(((ke=e[35])==null?void 0:ke.is_active)??!0?"":"text-gray-500")),o(l,"class","flex flex-1 text-left space-x-3.5 cursor-pointer w-full"),o(l,"type","button"),o($,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),o($,"type","button"),o(V,"class","ml-1"),o(T,"class","flex flex-row gap-0.5 items-center self-center"),o(t,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-lg transition"),o(t,"id",U="model-item-"+e[35].id),this.first=t},m(le,Ee){O(le,t,Ee),n(t,l),n(l,a),n(a,i),n(i,r),n(l,h),n(l,b),he(p,b,null),n(b,m),n(b,g),n(g,E),n(E,k),n(t,y),n(t,T),n(T,$),n(T,N),n(T,V),he(C,V,null),n(t,R),Z=!0,B||(M=[se(l,"click",j),se($,"click",G)],B=!0)},p(le,Ee){var Ie,Qe,Je,ve,ye,fe,me,Oe,Me,He,Ce,Ge,je,$t,re,we,ht,mt,gt,Ke,Ye,ct,Ut;e=le,(!Z||Ee[0]&16&&!na(r.src,f=((Qe=(Ie=e[35])==null?void 0:Ie.meta)==null?void 0:Qe.profile_image_url)??"/static/favicon.png"))&&o(r,"src",f),(!Z||Ee[0]&16&&u!==(u="rounded-full object-cover "+(((Je=e[35])==null?void 0:Je.is_active)??!0?"":"opacity-50 dark:opacity-50")))&&o(i,"class",u);const ce={};Ee[0]&16&&(ce.content=pn.parse((ye=(ve=e[35])==null?void 0:ve.meta)!=null&&ye.description?(me=(fe=e[35])==null?void 0:fe.meta)==null?void 0:me.description:(Me=(Oe=e[35])==null?void 0:Oe.ollama)!=null&&Me.digest?`${(Ce=(He=e[35])==null?void 0:He.ollama)==null?void 0:Ce.digest} **(${(je=(Ge=e[35])==null?void 0:Ge.ollama)==null?void 0:je.modified_at})**`:e[35].id)),Ee[0]&16|Ee[1]&128&&(ce.$$scope={dirty:Ee,ctx:e}),p.$set(ce),(!Z||Ee[0]&16)&&w!==(w=((re=($t=e[35])==null?void 0:$t.meta)!=null&&re.description?(ht=(we=e[35])==null?void 0:we.meta)==null?void 0:ht.description:(gt=(mt=e[35])==null?void 0:mt.ollama)!=null&&gt.digest?`${e[35].id} (${(Ye=(Ke=e[35])==null?void 0:Ke.ollama)==null?void 0:Ye.digest})`:e[35].id)+"")&&H(k,w),(!Z||Ee[0]&16&&I!==(I="flex-1 self-center "+(((ct=e[35])==null?void 0:ct.is_active)??!0?"":"text-gray-500")))&&o(b,"class",I);const ke={};Ee[0]&272&&(ke.content=((Ut=e[35])==null?void 0:Ut.is_active)??!0?e[8].t("Enabled"):e[8].t("Disabled")),Ee[0]&16|Ee[1]&128&&(ke.$$scope={dirty:Ee,ctx:e}),C.$set(ke),(!Z||Ee[0]&16&&U!==(U="model-item-"+e[35].id))&&o(t,"id",U)},i(le){Z||(K(p.$$.fragment,le),K(C.$$.fragment,le),Z=!0)},o(le){q(p.$$.fragment,le),q(C.$$.fragment,le),Z=!1},d(le){le&&c(t),pe(p),pe(C),B=!1,ol(M)}}}function eo(s){let e,t,l,a,i,r,f=s[8].t("Import Presets")+"",u,h,b,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',m,g,E,w=s[8].t("Export Presets")+"",k,I,y,T='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',$,S;return{c(){e=d("div"),t=d("div"),l=d("input"),a=A(),i=d("button"),r=d("div"),u=L(f),h=A(),b=d("div"),b.innerHTML=p,m=A(),g=d("button"),E=d("div"),k=L(w),I=A(),y=d("div"),y.innerHTML=T,this.h()},l(N){e=_(N,"DIV",{class:!0});var V=v(e);t=_(V,"DIV",{class:!0});var C=v(t);l=_(C,"INPUT",{id:!0,type:!0,accept:!0}),a=D(C),i=_(C,"BUTTON",{class:!0});var R=v(i);r=_(R,"DIV",{class:!0});var U=v(r);u=P(U,f),U.forEach(c),h=D(R),b=_(R,"DIV",{class:!0,"data-svelte-h":!0}),Gt(b)!=="svelte-1ikvh1y"&&(b.innerHTML=p),R.forEach(c),m=D(C),g=_(C,"BUTTON",{class:!0});var Z=v(g);E=_(Z,"DIV",{class:!0});var B=v(E);k=P(B,w),B.forEach(c),I=D(Z),y=_(Z,"DIV",{class:!0,"data-svelte-h":!0}),Gt(y)!=="svelte-1v8dg5r"&&(y.innerHTML=T),Z.forEach(c),C.forEach(c),V.forEach(c),this.h()},h(){o(l,"id","models-import-input"),o(l,"type","file"),o(l,"accept",".json"),l.hidden=!0,o(r,"class","self-center mr-2 font-medium line-clamp-1"),o(b,"class","self-center"),o(i,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),o(E,"class","self-center mr-2 font-medium line-clamp-1"),o(y,"class","self-center"),o(g,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),o(t,"class","flex space-x-1"),o(e,"class","flex justify-end w-full mb-3")},m(N,V){O(N,e,V),n(e,t),n(t,l),s[24](l),n(t,a),n(t,i),n(i,r),n(r,u),n(i,h),n(i,b),n(t,m),n(t,g),n(g,E),n(E,k),n(g,I),n(g,y),$||(S=[se(l,"change",s[25]),se(l,"change",s[26]),se(i,"click",s[27]),se(g,"click",s[28])],$=!0)},p(N,V){V[0]&256&&f!==(f=N[8].t("Import Presets")+"")&&H(u,f),V[0]&256&&w!==(w=N[8].t("Export Presets")+"")&&H(k,w)},d(N){N&&c(e),s[24](null),$=!1,ol(S)}}}function Ud(s){let e,t,l,a,i,r,f,u,h,b;function p(y){s[15](y)}let m={initHandler:s[12]};s[6]!==void 0&&(m.show=s[6]),e=new zc({props:m}),at.push(()=>ft(e,"show",p));function g(y){s[16](y)}let E={};s[7]!==void 0&&(E.show=s[7]),a=new Td({props:E}),at.push(()=>ft(a,"show",g));const w=[Dd,Ad],k=[];function I(y,T){return y[0]!==null?0:1}return f=I(s),u=k[f]=w[f](s),{c(){de(e.$$.fragment),l=A(),de(a.$$.fragment),r=A(),u.c(),h=xt()},l(y){_e(e.$$.fragment,y),l=D(y),_e(a.$$.fragment,y),r=D(y),u.l(y),h=xt()},m(y,T){he(e,y,T),O(y,l,T),he(a,y,T),O(y,r,T),k[f].m(y,T),O(y,h,T),b=!0},p(y,T){const $={};!t&&T[0]&64&&(t=!0,$.show=y[6],ut(()=>t=!1)),e.$set($);const S={};!i&&T[0]&128&&(i=!0,S.show=y[7],ut(()=>i=!1)),a.$set(S);let N=f;f=I(y),f===N?k[f].p(y,T):(Vt(),q(k[N],1,1,()=>{k[N]=null}),St(),u=k[f],u?u.p(y,T):(u=k[f]=w[f](y),u.c()),K(u,1),u.m(h.parentNode,h))},i(y){b||(K(e.$$.fragment,y),K(a.$$.fragment,y),K(u),b=!0)},o(y){q(e.$$.fragment,y),q(a.$$.fragment,y),q(u),b=!1},d(y){y&&(c(l),c(r),c(h)),pe(e,y),pe(a,y),k[f].d(y)}}}function Cd(s,e,t){let l,a;nl(s,ia,X=>t(9,a=X));const{saveAs:i}=Uo,r=Dl("i18n");nl(s,r,X=>t(8,l=X));let f,u,h=null,b=null,p=null,m=[],g=null,E=!1,w=!1,k="";const I=async X=>{let F=new Blob([JSON.stringify(X)],{type:"application/json"});i(F,`models-export-${Date.now()}.json`)},y=async()=>{b=await Ou(localStorage.token),p=await ql(localStorage.token,!0),t(0,h=p.map(X=>{const F=b.find(J=>J.id===X.id);return F?{...X,...F}:{...X,id:X.id,name:X.name,is_active:!0}}))},T=async X=>{X.base_model_id=null,b.find(F=>F.id===X.id)?await Lu(localStorage.token,X.id,X).catch(J=>null)&&ze.success(l.t("Model updated successfully")):await vn(localStorage.token,X).catch(J=>null)&&ze.success(l.t("Model updated successfully")),Nl.set(await ql(localStorage.token)),await y()},$=async X=>{Object.keys(X).includes("base_model_id")?await Pu(localStorage.token,X.id):await vn(localStorage.token,{id:X.id,name:X.name,base_model_id:null,meta:{},params:{},access_control:{},is_active:X.is_active}).catch(F=>null),Nl.set(await ql(localStorage.token))};Fl(async()=>{y()});function S(X){E=X,t(6,E)}function N(X){w=X,t(7,w)}const V=()=>{t(7,w=!0)},C=()=>{t(6,E=!0)};function R(){k=this.value,t(1,k)}const U=X=>{t(5,g=X.id)},Z=X=>{t(5,g=X.id)};function B(X,F){s.$$.not_equal(F.is_active,X)&&(F.is_active=X,t(4,m),t(0,h),t(1,k))}const M=async X=>{$(X)};function j(X){at[X?"unshift":"push"](()=>{u=X,t(3,u)})}function G(){f=this.files,t(2,f)}const W=()=>{console.log(f);let X=new FileReader;X.onload=async F=>{let J=JSON.parse(F.target.result);console.log(J);for(const ae of J)Object.keys(ae).includes("base_model_id")?ae.base_model_id===null&&T(ae):((ae==null?void 0:ae.info)??!1)&&ae.info.base_model_id===null&&T(ae.info);await Nl.set(await ql(localStorage.token)),y()},X.readAsText(f[0])},z=()=>{u.click()},x=async()=>{I(h)},te=X=>X.id===g,Y=X=>{console.log(X),T(X),t(5,g=null)},Q=()=>{t(5,g=null)};return s.$$.update=()=>{s.$$.dirty[0]&3&&h&&t(4,m=h.filter(X=>k===""||X.name.toLowerCase().includes(k.toLowerCase())).sort((X,F)=>X.name.localeCompare(F.name)))},[h,k,f,u,m,g,E,w,l,a,r,I,y,T,$,S,N,V,C,R,U,Z,B,M,j,G,W,z,x,te,Y,Q]}class Rd extends gl{constructor(e){super(),bl(this,e,Cd,Ud,ml,{},null,[-1,-1])}}function Bd(s){let e,t;return{c(){e=sl("svg"),t=sl("path"),this.h()},l(l){e=al(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=al(a,"path",{d:!0}),v(t).forEach(c),a.forEach(c),this.h()},h(){o(t,"d","M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class",s[0])},m(l,a){O(l,e,a),n(e,t)},p(l,[a]){a&1&&o(e,"class",l[0])},i:vt,o:vt,d(l){l&&c(e)}}}function Hd(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=i=>{"className"in i&&t(0,l=i.className),"strokeWidth"in i&&t(1,a=i.strokeWidth)},[l,a]}class jd extends gl{constructor(e){super(),bl(this,e,Hd,Bd,ml,{className:0,strokeWidth:1})}}function to(s,e,t){const l=s.slice();return l[11]=e[t],l[34]=t,l}function Gd(s){let e=s[10].t("Add Connection")+"",t;return{c(){t=L(e)},l(l){t=P(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&1024&&e!==(e=l[10].t("Add Connection")+"")&&H(t,e)},d(l){l&&c(t)}}}function Kd(s){let e=s[10].t("Edit Connection")+"",t;return{c(){t=L(e)},l(l){t=P(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&1024&&e!==(e=l[10].t("Edit Connection")+"")&&H(t,e)},d(l){l&&c(t)}}}function Zd(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=_(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-kma1qx"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(i,r){O(i,e,r),l||(a=se(e,"click",s[20]),l=!0)},p:vt,d(i){i&&c(e),l=!1,a()}}}function qd(s){let e,t,l;function a(r){s[21](r)}let i={};return s[7]!==void 0&&(i.state=s[7]),e=new kl({props:i}),at.push(()=>ft(e,"state",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};!t&&f[0]&128&&(t=!0,u.state=r[7],ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function Fd(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){o(e,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),o(e,"type","text"),o(e,"placeholder",t=s[10].t("Prefix ID")),o(e,"autocomplete","off")},m(i,r){O(i,e,r),ee(e,s[6]),l||(a=se(e,"input",s[23]),l=!0)},p(i,r){r[0]&1024&&t!==(t=i[10].t("Prefix ID"))&&o(e,"placeholder",t),r[0]&64&&e.value!==i[6]&&ee(e,i[6])},d(i){i&&c(e),l=!1,a()}}}function Wd(s){let e;function t(i,r){return i[3]?Qd:zd}let l=t(s),a=l(s);return{c(){e=d("div"),a.c(),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);a.l(r),r.forEach(c),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2 px-10")},m(i,r){O(i,e,r),a.m(e,null)},p(i,r){l===(l=t(i))&&a?a.p(i,r):(a.d(1),a=l(i),a&&(a.c(),a.m(e,null)))},i:vt,o:vt,d(i){i&&c(e),a.d()}}}function Yd(s){let e,t,l=It(s[8]),a=[];for(let r=0;r<l.length;r+=1)a[r]=lo(to(s,l,r));const i=r=>q(a[r],1,1,()=>{a[r]=null});return{c(){e=d("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=_(r,"DIV",{class:!0});var f=v(e);for(let u=0;u<a.length;u+=1)a[u].l(f);f.forEach(c),this.h()},h(){o(e,"class","flex flex-col")},m(r,f){O(r,e,f);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(r,f){if(f[0]&256){l=It(r[8]);let u;for(u=0;u<l.length;u+=1){const h=to(r,l,u);a[u]?(a[u].p(h,f),K(a[u],1)):(a[u]=lo(h),a[u].c(),K(a[u],1),a[u].m(e,null))}for(Vt(),u=l.length;u<a.length;u+=1)i(u);St()}},i(r){if(!t){for(let f=0;f<l.length;f+=1)K(a[f]);t=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)q(a[f]);t=!1},d(r){r&&c(e),_l(a,r)}}}function zd(s){let e=s[10].t('Leave empty to include all models from "{{URL}}/models" endpoint',{URL:s[4]})+"",t;return{c(){t=L(e)},l(l){t=P(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&1040&&e!==(e=l[10].t('Leave empty to include all models from "{{URL}}/models" endpoint',{URL:l[4]})+"")&&H(t,e)},d(l){l&&c(t)}}}function Qd(s){let e=s[10].t('Leave empty to include all models from "{{URL}}/api/tags" endpoint',{URL:s[4]})+"",t;return{c(){t=L(e)},l(l){t=P(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&1040&&e!==(e=l[10].t('Leave empty to include all models from "{{URL}}/api/tags" endpoint',{URL:l[4]})+"")&&H(t,e)},d(l){l&&c(t)}}}function lo(s){let e,t,l=s[11]+"",a,i,r,f,u,h,b,p,m;u=new mr({props:{strokeWidth:"2",className:"size-3.5"}});function g(){return s[24](s[34])}return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("button"),de(u.$$.fragment),h=A(),this.h()},l(E){e=_(E,"DIV",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);a=P(k,l),k.forEach(c),i=D(w),r=_(w,"DIV",{class:!0});var I=v(r);f=_(I,"BUTTON",{type:!0});var y=v(f);_e(u.$$.fragment,y),y.forEach(c),I.forEach(c),h=D(w),w.forEach(c),this.h()},h(){o(t,"class","text-sm flex-1 py-1 rounded-lg"),o(f,"type","button"),o(r,"class","flex-shrink-0"),o(e,"class","flex gap-2 w-full justify-between items-center")},m(E,w){O(E,e,w),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),he(u,f,null),n(e,h),b=!0,p||(m=se(f,"click",g),p=!0)},p(E,w){s=E,(!b||w[0]&256)&&l!==(l=s[11]+"")&&H(a,l)},i(E){b||(K(u.$$.fragment,E),b=!0)},o(E){q(u.$$.fragment,E),b=!1},d(E){E&&c(e),pe(u),p=!1,m()}}}function so(s){let e,t=s[10].t("Delete")+"",l,a,i;return{c(){e=d("button"),l=L(t),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);l=P(f,t),f.forEach(c),this.h()},h(){o(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),o(e,"type","button")},m(r,f){O(r,e,f),n(e,l),a||(i=se(e,"click",s[27]),a=!0)},p(r,f){f[0]&1024&&t!==(t=r[10].t("Delete")+"")&&H(l,t)},d(r){r&&c(e),a=!1,i()}}}function ao(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function Jd(s){let e,t,l,a,i,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',f,u,h,b,p,m,g,E,w=s[10].t("URL")+"",k,I,y,T,$,S,N,V,C,R,U,Z,B,M,j=s[10].t("Key")+"",G,W,z,x,te,Y,Q,X,F=s[10].t("Prefix ID")+"",J,ae,ue,ne,De,ge,Pe,be,Re,$e,ie=s[10].t("Model IDs")+"",le,Ee,ce,ke,Ie,Qe,Je,ve,ye,fe,me,Oe,Me,He,Ce,Ge,je,$t,re,we=s[10].t("Save")+"",ht,mt,gt,Ke,Ye,ct;function Ut(oe,Le){return oe[2]?Kd:Gd}let At=Ut(s),Ae=At(s);N=new Zt({props:{content:"Verify Connection",className:"self-end -mb-1",$$slots:{default:[Zd]},$$scope:{ctx:s}}}),R=new Zt({props:{content:s[7]?s[10].t("Enabled"):s[10].t("Disabled"),$$slots:{default:[qd]},$$scope:{ctx:s}}});function We(oe){s[22](oe)}let bt={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none",placeholder:s[10].t("API Key"),required:!s[3]};s[5]!==void 0&&(bt.value=s[5]),x=new Vl({props:bt}),at.push(()=>ft(x,"value",We)),ne=new Zt({props:{content:s[10].t("Prefix ID is used to avoid conflicts with other connections by adding a prefix to the model IDs - leave empty to disable"),$$slots:{default:[Fd]},$$scope:{ctx:s}}});const ot=[Yd,Wd],dt=[];function rt(oe,Le){return oe[8].length>0?0:1}ce=rt(s),ke=dt[ce]=ot[ce](s),Ce=new wa({props:{className:"size-3.5",strokeWidth:"2"}});let lt=s[2]&&so(s),et=s[9]&&ao();return{c(){e=d("div"),t=d("div"),l=d("div"),Ae.c(),a=A(),i=d("button"),i.innerHTML=r,f=A(),u=d("div"),h=d("div"),b=d("form"),p=d("div"),m=d("div"),g=d("div"),E=d("div"),k=L(w),I=A(),y=d("div"),T=d("input"),S=A(),de(N.$$.fragment),V=A(),C=d("div"),de(R.$$.fragment),U=A(),Z=d("div"),B=d("div"),M=d("div"),G=L(j),W=A(),z=d("div"),de(x.$$.fragment),Y=A(),Q=d("div"),X=d("div"),J=L(F),ae=A(),ue=d("div"),de(ne.$$.fragment),De=A(),ge=d("hr"),Pe=A(),be=d("div"),Re=d("div"),$e=d("div"),le=L(ie),Ee=A(),ke.c(),Ie=A(),Qe=d("hr"),Je=A(),ve=d("div"),ye=d("input"),Oe=A(),Me=d("div"),He=d("button"),de(Ce.$$.fragment),Ge=A(),je=d("div"),lt&&lt.c(),$t=A(),re=d("button"),ht=L(we),mt=A(),et&&et.c(),this.h()},l(oe){e=_(oe,"DIV",{});var Le=v(e);t=_(Le,"DIV",{class:!0});var Tt=v(t);l=_(Tt,"DIV",{class:!0});var Xe=v(l);Ae.l(Xe),Xe.forEach(c),a=D(Tt),i=_(Tt,"BUTTON",{class:!0,"data-svelte-h":!0}),Gt(i)!=="svelte-745w2y"&&(i.innerHTML=r),Tt.forEach(c),f=D(Le),u=_(Le,"DIV",{class:!0});var Ot=v(u);h=_(Ot,"DIV",{class:!0});var wt=v(h);b=_(wt,"FORM",{class:!0});var it=v(b);p=_(it,"DIV",{class:!0});var Pt=v(p);m=_(Pt,"DIV",{class:!0});var zt=v(m);g=_(zt,"DIV",{class:!0});var qt=v(g);E=_(qt,"DIV",{class:!0});var Dt=v(E);k=P(Dt,w),Dt.forEach(c),I=D(qt),y=_(qt,"DIV",{class:!0});var Rt=v(y);T=_(Rt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Rt.forEach(c),qt.forEach(c),S=D(zt),_e(N.$$.fragment,zt),V=D(zt),C=_(zt,"DIV",{class:!0});var Nt=v(C);_e(R.$$.fragment,Nt),Nt.forEach(c),zt.forEach(c),U=D(Pt),Z=_(Pt,"DIV",{class:!0});var Ue=v(Z);B=_(Ue,"DIV",{class:!0});var Te=v(B);M=_(Te,"DIV",{class:!0});var Ne=v(M);G=P(Ne,j),Ne.forEach(c),W=D(Te),z=_(Te,"DIV",{class:!0});var pt=v(z);_e(x.$$.fragment,pt),pt.forEach(c),Te.forEach(c),Y=D(Ue),Q=_(Ue,"DIV",{class:!0});var xe=v(Q);X=_(xe,"DIV",{class:!0});var _t=v(X);J=P(_t,F),_t.forEach(c),ae=D(xe),ue=_(xe,"DIV",{class:!0});var Kt=v(ue);_e(ne.$$.fragment,Kt),Kt.forEach(c),xe.forEach(c),Ue.forEach(c),De=D(Pt),ge=_(Pt,"HR",{class:!0}),Pe=D(Pt),be=_(Pt,"DIV",{class:!0});var Lt=v(be);Re=_(Lt,"DIV",{class:!0});var Bt=v(Re);$e=_(Bt,"DIV",{class:!0});var Et=v($e);le=P(Et,ie),Et.forEach(c),Bt.forEach(c),Ee=D(Lt),ke.l(Lt),Lt.forEach(c),Ie=D(Pt),Qe=_(Pt,"HR",{class:!0}),Je=D(Pt),ve=_(Pt,"DIV",{class:!0});var Ze=v(ve);ye=_(Ze,"INPUT",{class:!0,placeholder:!0}),Oe=D(Ze),Me=_(Ze,"DIV",{});var Be=v(Me);He=_(Be,"BUTTON",{type:!0});var tt=v(He);_e(Ce.$$.fragment,tt),tt.forEach(c),Be.forEach(c),Ze.forEach(c),Pt.forEach(c),Ge=D(it),je=_(it,"DIV",{class:!0});var kt=v(je);lt&&lt.l(kt),$t=D(kt),re=_(kt,"BUTTON",{class:!0,type:!0});var Mt=v(re);ht=P(Mt,we),mt=D(Mt),et&&et.l(Mt),Mt.forEach(c),kt.forEach(c),it.forEach(c),wt.forEach(c),Ot.forEach(c),Le.forEach(c),this.h()},h(){o(l,"class","text-lg font-medium self-center font-primary"),o(i,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(E,"class","mb-0.5 text-xs text-gray-500"),o(T,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),o(T,"type","text"),o(T,"placeholder",$=s[10].t("API Base URL")),o(T,"autocomplete","off"),T.required=!0,o(y,"class","flex-1"),o(g,"class","flex flex-col w-full"),o(C,"class","flex flex-col flex-shrink-0 self-end"),o(m,"class","flex gap-2"),o(M,"class","mb-0.5 text-xs text-gray-500"),o(z,"class","flex-1"),o(B,"class","flex flex-col w-full"),o(X,"class","mb-1 text-xs text-gray-500"),o(ue,"class","flex-1"),o(Q,"class","flex flex-col w-full"),o(Z,"class","flex gap-2 mt-2"),o(ge,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o($e,"class","text-xs text-gray-500"),o(Re,"class","mb-1 flex justify-between"),o(be,"class","flex flex-col w-full"),o(Qe,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o(ye,"class",fe="w-full py-1 text-sm rounded-lg bg-transparent "+(s[11]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),o(ye,"placeholder",me=s[10].t("Add a model ID")),o(He,"type","button"),o(ve,"class","flex items-center"),o(p,"class","px-1"),o(re,"class",gt="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[9]?" cursor-not-allowed":"")),o(re,"type","submit"),re.disabled=s[9],o(je,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),o(b,"class","flex flex-col w-full"),o(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(u,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(oe,Le){O(oe,e,Le),n(e,t),n(t,l),Ae.m(l,null),n(t,a),n(t,i),n(e,f),n(e,u),n(u,h),n(h,b),n(b,p),n(p,m),n(m,g),n(g,E),n(E,k),n(g,I),n(g,y),n(y,T),ee(T,s[4]),n(m,S),he(N,m,null),n(m,V),n(m,C),he(R,C,null),n(p,U),n(p,Z),n(Z,B),n(B,M),n(M,G),n(B,W),n(B,z),he(x,z,null),n(Z,Y),n(Z,Q),n(Q,X),n(X,J),n(Q,ae),n(Q,ue),he(ne,ue,null),n(p,De),n(p,ge),n(p,Pe),n(p,be),n(be,Re),n(Re,$e),n($e,le),n(be,Ee),dt[ce].m(be,null),n(p,Ie),n(p,Qe),n(p,Je),n(p,ve),n(ve,ye),ee(ye,s[11]),n(ve,Oe),n(ve,Me),n(Me,He),he(Ce,He,null),n(b,Ge),n(b,je),lt&&lt.m(je,null),n(je,$t),n(je,re),n(re,ht),n(re,mt),et&&et.m(re,null),Ke=!0,Ye||(ct=[se(i,"click",s[18]),se(T,"input",s[19]),se(ye,"input",s[25]),se(He,"click",s[26]),se(b,"submit",s[28])],Ye=!0)},p(oe,Le){At===(At=Ut(oe))&&Ae?Ae.p(oe,Le):(Ae.d(1),Ae=At(oe),Ae&&(Ae.c(),Ae.m(l,null))),(!Ke||Le[0]&1024)&&w!==(w=oe[10].t("URL")+"")&&H(k,w),(!Ke||Le[0]&1024&&$!==($=oe[10].t("API Base URL")))&&o(T,"placeholder",$),Le[0]&16&&T.value!==oe[4]&&ee(T,oe[4]);const Tt={};Le[1]&16&&(Tt.$$scope={dirty:Le,ctx:oe}),N.$set(Tt);const Xe={};Le[0]&1152&&(Xe.content=oe[7]?oe[10].t("Enabled"):oe[10].t("Disabled")),Le[0]&128|Le[1]&16&&(Xe.$$scope={dirty:Le,ctx:oe}),R.$set(Xe),(!Ke||Le[0]&1024)&&j!==(j=oe[10].t("Key")+"")&&H(G,j);const Ot={};Le[0]&1024&&(Ot.placeholder=oe[10].t("API Key")),Le[0]&8&&(Ot.required=!oe[3]),!te&&Le[0]&32&&(te=!0,Ot.value=oe[5],ut(()=>te=!1)),x.$set(Ot),(!Ke||Le[0]&1024)&&F!==(F=oe[10].t("Prefix ID")+"")&&H(J,F);const wt={};Le[0]&1024&&(wt.content=oe[10].t("Prefix ID is used to avoid conflicts with other connections by adding a prefix to the model IDs - leave empty to disable")),Le[0]&1088|Le[1]&16&&(wt.$$scope={dirty:Le,ctx:oe}),ne.$set(wt),(!Ke||Le[0]&1024)&&ie!==(ie=oe[10].t("Model IDs")+"")&&H(le,ie);let it=ce;ce=rt(oe),ce===it?dt[ce].p(oe,Le):(Vt(),q(dt[it],1,1,()=>{dt[it]=null}),St(),ke=dt[ce],ke?ke.p(oe,Le):(ke=dt[ce]=ot[ce](oe),ke.c()),K(ke,1),ke.m(be,null)),(!Ke||Le[0]&2048&&fe!==(fe="w-full py-1 text-sm rounded-lg bg-transparent "+(oe[11]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"))&&o(ye,"class",fe),(!Ke||Le[0]&1024&&me!==(me=oe[10].t("Add a model ID")))&&o(ye,"placeholder",me),Le[0]&2048&&ye.value!==oe[11]&&ee(ye,oe[11]),oe[2]?lt?lt.p(oe,Le):(lt=so(oe),lt.c(),lt.m(je,$t)):lt&&(lt.d(1),lt=null),(!Ke||Le[0]&1024)&&we!==(we=oe[10].t("Save")+"")&&H(ht,we),oe[9]?et||(et=ao(),et.c(),et.m(re,null)):et&&(et.d(1),et=null),(!Ke||Le[0]&512&&gt!==(gt="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(oe[9]?" cursor-not-allowed":"")))&&o(re,"class",gt),(!Ke||Le[0]&512)&&(re.disabled=oe[9])},i(oe){Ke||(K(N.$$.fragment,oe),K(R.$$.fragment,oe),K(x.$$.fragment,oe),K(ne.$$.fragment,oe),K(ke),K(Ce.$$.fragment,oe),Ke=!0)},o(oe){q(N.$$.fragment,oe),q(R.$$.fragment,oe),q(x.$$.fragment,oe),q(ne.$$.fragment,oe),q(ke),q(Ce.$$.fragment,oe),Ke=!1},d(oe){oe&&c(e),Ae.d(),pe(N),pe(R),pe(x),pe(ne),dt[ce].d(),pe(Ce),lt&&lt.d(),et&&et.d(),Ye=!1,ol(ct)}}}function Xd(s){let e,t,l;function a(r){s[29](r)}let i={size:"sm",$$slots:{default:[Jd]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Ea({props:i}),at.push(()=>ft(e,"show",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&4095|f[1]&16&&(u.$$scope={dirty:f,ctx:r}),!t&&f[0]&1&&(t=!0,u.show=r[0],ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function xd(s,e,t){let l;const a=Dl("i18n");nl(s,a,Y=>t(10,l=Y));let{onSubmit:i=()=>{}}=e,{onDelete:r=()=>{}}=e,{show:f=!1}=e,{edit:u=!1}=e,{ollama:h=!1}=e,{connection:b=null}=e,p="",m="",g="",E=!0,w="",k=[],I=!1;const y=async()=>{await Ku(localStorage.token,p,m).catch(Q=>{ze.error(`${Q}`)})&&ze.success(l.t("Server connection verified"))},T=async()=>{await qu(localStorage.token,p,m).catch(Q=>{ze.error(`${Q}`)})&&ze.success(l.t("Server connection verified"))},$=()=>{h?y():T()},S=()=>{w&&(t(8,k=[...k,w]),t(11,w=""))},N=async()=>{if(t(9,I=!0),!h&&(!p||!m)){t(9,I=!1),ze.error("URL and Key are required");return}await i({url:p,key:m,config:{enable:E,prefix_id:g,model_ids:k}}),t(9,I=!1),t(0,f=!1),t(4,p=""),t(5,m=""),t(6,g=""),t(8,k=[])},V=()=>{var Y,Q,X;b&&(t(4,p=b.url),t(5,m=b.key),t(7,E=((Y=b.config)==null?void 0:Y.enable)??!0),t(6,g=((Q=b.config)==null?void 0:Q.prefix_id)??""),t(8,k=((X=b.config)==null?void 0:X.model_ids)??[]))};Fl(()=>{V()});const C=()=>{t(0,f=!1)};function R(){p=this.value,t(4,p)}const U=()=>{$()};function Z(Y){E=Y,t(7,E)}function B(Y){m=Y,t(5,m)}function M(){g=this.value,t(6,g)}const j=Y=>{t(8,k=k.filter((Q,X)=>X!==Y))};function G(){w=this.value,t(11,w)}const W=()=>{S()},z=()=>{r(),t(0,f=!1)},x=Y=>{Y.preventDefault(),N()};function te(Y){f=Y,t(0,f)}return s.$$set=Y=>{"onSubmit"in Y&&t(16,i=Y.onSubmit),"onDelete"in Y&&t(1,r=Y.onDelete),"show"in Y&&t(0,f=Y.show),"edit"in Y&&t(2,u=Y.edit),"ollama"in Y&&t(3,h=Y.ollama),"connection"in Y&&t(17,b=Y.connection)},s.$$.update=()=>{s.$$.dirty[0]&1&&f&&V()},[f,r,u,h,p,m,g,E,k,I,l,w,a,$,S,N,i,b,C,R,U,Z,B,M,j,G,W,z,x,te]}class Xa extends gl{constructor(e){super(),bl(this,e,xd,Xd,ml,{onSubmit:16,onDelete:1,show:0,edit:2,ollama:3,connection:17},null,[-1,-1])}}function ro(s){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),v(e).forEach(c),this.h()},h(){o(e,"class","absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10")},m(t,l){O(t,e,l)},d(t){t&&c(e)}}}function no(s){let e,t,l;return t=new Zt({props:{content:"Pipelines",$$slots:{default:[e1]},$$scope:{ctx:s}}}),{c(){e=d("div"),de(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(c),this.h()},h(){o(e,"class","absolute top-0.5 right-2.5")},m(a,i){O(a,e,i),he(t,e,null),l=!0},i(a){l||(K(t.$$.fragment,a),l=!0)},o(a){q(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t)}}}function e1(s){let e,t,l,a;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),a=sl("path"),this.h()},l(i){e=al(i,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=al(r,"path",{d:!0}),v(t).forEach(c),l=al(r,"path",{d:!0}),v(l).forEach(c),a=al(r,"path",{d:!0}),v(a).forEach(c),r.forEach(c),this.h()},h(){o(t,"d","M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"),o(l,"d","m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"),o(a,"d","m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class","size-4")},m(i,r){O(i,e,r),n(e,t),n(e,l),n(e,a)},p:vt,d(i){i&&c(e)}}}function t1(s){var y;let e,t,l,a,i,r,f,u,h,b,p,m,g,E=!(((y=s[2])==null?void 0:y.enable)??!0)&&ro(),w=s[5]&&no(s);function k(T){s[12](T)}let I={inputClassName:" outline-none bg-transparent w-full",placeholder:s[7].t("API Key")};return s[1]!==void 0&&(I.value=s[1]),h=new Vl({props:I}),at.push(()=>ft(h,"value",k)),{c(){E&&E.c(),e=A(),t=d("div"),l=d("div"),a=d("input"),f=A(),w&&w.c(),u=A(),de(h.$$.fragment),this.h()},l(T){E&&E.l(T),e=D(T),t=_(T,"DIV",{class:!0});var $=v(t);l=_($,"DIV",{class:!0});var S=v(l);a=_(S,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),f=D(S),w&&w.l(S),S.forEach(c),u=D($),_e(h.$$.fragment,$),$.forEach(c),this.h()},h(){o(a,"class",i="outline-none w-full bg-transparent "+(s[5]?"pr-8":"")),o(a,"placeholder",r=s[7].t("API Base URL")),o(a,"autocomplete","off"),o(l,"class","flex-1 relative"),o(t,"class","flex w-full")},m(T,$){E&&E.m(T,$),O(T,e,$),O(T,t,$),n(t,l),n(l,a),ee(a,s[0]),n(l,f),w&&w.m(l,null),n(t,u),he(h,t,null),p=!0,m||(g=se(a,"input",s[11]),m=!0)},p(T,$){var N;((N=T[2])==null?void 0:N.enable)??!0?E&&(E.d(1),E=null):E||(E=ro(),E.c(),E.m(e.parentNode,e)),(!p||$&32&&i!==(i="outline-none w-full bg-transparent "+(T[5]?"pr-8":"")))&&o(a,"class",i),(!p||$&128&&r!==(r=T[7].t("API Base URL")))&&o(a,"placeholder",r),$&1&&a.value!==T[0]&&ee(a,T[0]),T[5]?w?$&32&&K(w,1):(w=no(T),w.c(),K(w,1),w.m(l,null)):w&&(Vt(),q(w,1,1,()=>{w=null}),St());const S={};$&128&&(S.placeholder=T[7].t("API Key")),!b&&$&2&&(b=!0,S.value=T[1],ut(()=>b=!1)),h.$set(S)},i(T){p||(K(w),K(h.$$.fragment,T),p=!0)},o(T){q(w),q(h.$$.fragment,T),p=!1},d(T){T&&(c(e),c(t)),E&&E.d(T),w&&w.d(),pe(h),m=!1,g()}}}function l1(s){let e,t,l,a,i;return t=new xa({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[13]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){q(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function s1(s){let e,t,l,a,i,r,f,u,h;function b(m){s[10](m)}let p={edit:!0,connection:{url:s[0],key:s[1],config:s[2]},onDelete:s[3],onSubmit:s[9]};return s[6]!==void 0&&(p.show=s[6]),e=new Xa({props:p}),at.push(()=>ft(e,"show",b)),i=new Zt({props:{className:"w-full relative",content:s[7].t('WebUI will make requests to "{{url}}/chat/completions"',{url:s[0]}),placement:"top-start",$$slots:{default:[t1]},$$scope:{ctx:s}}}),u=new Zt({props:{content:s[7].t("Configure"),className:"self-start",$$slots:{default:[l1]},$$scope:{ctx:s}}}),{c(){de(e.$$.fragment),l=A(),a=d("div"),de(i.$$.fragment),r=A(),f=d("div"),de(u.$$.fragment),this.h()},l(m){_e(e.$$.fragment,m),l=D(m),a=_(m,"DIV",{class:!0});var g=v(a);_e(i.$$.fragment,g),r=D(g),f=_(g,"DIV",{class:!0});var E=v(f);_e(u.$$.fragment,E),E.forEach(c),g.forEach(c),this.h()},h(){o(f,"class","flex gap-1"),o(a,"class","flex w-full gap-2 items-center")},m(m,g){he(e,m,g),O(m,l,g),O(m,a,g),he(i,a,null),n(a,r),n(a,f),he(u,f,null),h=!0},p(m,[g]){const E={};g&7&&(E.connection={url:m[0],key:m[1],config:m[2]}),g&8&&(E.onDelete=m[3]),g&23&&(E.onSubmit=m[9]),!t&&g&64&&(t=!0,E.show=m[6],ut(()=>t=!1)),e.$set(E);const w={};g&129&&(w.content=m[7].t('WebUI will make requests to "{{url}}/chat/completions"',{url:m[0]})),g&16551&&(w.$$scope={dirty:g,ctx:m}),i.$set(w);const k={};g&128&&(k.content=m[7].t("Configure")),g&16448&&(k.$$scope={dirty:g,ctx:m}),u.$set(k)},i(m){h||(K(e.$$.fragment,m),K(i.$$.fragment,m),K(u.$$.fragment,m),h=!0)},o(m){q(e.$$.fragment,m),q(i.$$.fragment,m),q(u.$$.fragment,m),h=!1},d(m){m&&(c(l),c(a)),pe(e,m),pe(i),pe(u)}}}function a1(s,e,t){let l;const a=Dl("i18n");nl(s,a,I=>t(7,l=I));let{onDelete:i=()=>{}}=e,{onSubmit:r=()=>{}}=e,{pipeline:f=!1}=e,{url:u=""}=e,{key:h=""}=e,{config:b={}}=e,p=!1;const m=I=>{t(0,u=I.url),t(1,h=I.key),t(2,b=I.config),r(I)};function g(I){p=I,t(6,p)}function E(){u=this.value,t(0,u)}function w(I){h=I,t(1,h)}const k=()=>{t(6,p=!0)};return s.$$set=I=>{"onDelete"in I&&t(3,i=I.onDelete),"onSubmit"in I&&t(4,r=I.onSubmit),"pipeline"in I&&t(5,f=I.pipeline),"url"in I&&t(0,u=I.url),"key"in I&&t(1,h=I.key),"config"in I&&t(2,b=I.config)},[u,h,b,i,r,f,p,l,a,m,g,E,w,k]}class r1 extends gl{constructor(e){super(),bl(this,e,a1,s1,ml,{onDelete:3,onSubmit:4,pipeline:5,url:0,key:1,config:2})}}function n1(s){let e,t,l,a,i=s[2].t("Manage Ollama")+"",r,f,u,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,p,m,g,E,w;return m=new Ko({props:{urlIdx:s[1]}}),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=L(i),f=A(),u=d("button"),u.innerHTML=h,b=A(),p=d("div"),de(m.$$.fragment),this.h()},l(k){e=_(k,"DIV",{});var I=v(e);t=_(I,"DIV",{class:!0});var y=v(t);l=_(y,"DIV",{class:!0});var T=v(l);a=_(T,"DIV",{class:!0});var $=v(a);r=P($,i),$.forEach(c),T.forEach(c),f=D(y),u=_(y,"BUTTON",{class:!0,"data-svelte-h":!0}),Gt(u)!=="svelte-745w2y"&&(u.innerHTML=h),y.forEach(c),b=D(I),p=_(I,"DIV",{class:!0});var S=v(p);_e(m.$$.fragment,S),S.forEach(c),I.forEach(c),this.h()},h(){o(a,"class","flex-shrink-0"),o(l,"class","flex w-full justify-between items-center text-lg font-medium self-center font-primary"),o(u,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(p,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(k,I){O(k,e,I),n(e,t),n(t,l),n(l,a),n(a,r),n(t,f),n(t,u),n(e,b),n(e,p),he(m,p,null),g=!0,E||(w=se(u,"click",s[4]),E=!0)},p(k,I){(!g||I&4)&&i!==(i=k[2].t("Manage Ollama")+"")&&H(r,i);const y={};I&2&&(y.urlIdx=k[1]),m.$set(y)},i(k){g||(K(m.$$.fragment,k),g=!0)},o(k){q(m.$$.fragment,k),g=!1},d(k){k&&c(e),pe(m),E=!1,w()}}}function i1(s){let e,t,l;function a(r){s[5](r)}let i={size:"sm",$$slots:{default:[n1]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Ea({props:i}),at.push(()=>ft(e,"show",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,[f]){const u={};f&71&&(u.$$scope={dirty:f,ctx:r}),!t&&f&1&&(t=!0,u.show=r[0],ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function o1(s,e,t){let l;const a=Dl("i18n");nl(s,a,h=>t(2,l=h));let{show:i=!1}=e,{urlIdx:r=null}=e;const f=()=>{t(0,i=!1)};function u(h){i=h,t(0,i)}return s.$$set=h=>{"show"in h&&t(0,i=h.show),"urlIdx"in h&&t(1,r=h.urlIdx)},[i,r,l,a,f,u]}class u1 extends gl{constructor(e){super(),bl(this,e,o1,i1,ml,{show:0,urlIdx:1})}}function io(s){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),v(e).forEach(c),this.h()},h(){o(e,"class","absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10")},m(t,l){O(t,e,l)},d(t){t&&c(e)}}}function f1(s){var f;let e,t,l,a,i,r=!(((f=s[1])==null?void 0:f.enable)??!0)&&io();return{c(){r&&r.c(),e=A(),t=d("input"),this.h()},l(u){r&&r.l(u),e=D(u),t=_(u,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(t,"class","w-full text-sm bg-transparent outline-none"),o(t,"placeholder",l=s[7].t("Enter URL (e.g. http://localhost:11434)"))},m(u,h){r&&r.m(u,h),O(u,e,h),O(u,t,h),ee(t,s[0]),a||(i=se(t,"input",s[12]),a=!0)},p(u,h){var b;((b=u[1])==null?void 0:b.enable)??!0?r&&(r.d(1),r=null):r||(r=io(),r.c(),r.m(e.parentNode,e)),h&128&&l!==(l=u[7].t("Enter URL (e.g. http://localhost:11434)"))&&o(t,"placeholder",l),h&1&&t.value!==u[0]&&ee(t,u[0])},d(u){u&&(c(e),c(t)),r&&r.d(u),a=!1,i()}}}function c1(s){let e,t,l,a,i;return t=new Bo({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[13]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){q(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function d1(s){let e,t,l,a,i;return t=new xa({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[14]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){q(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function _1(s){var T;let e,t,l,a,i,r,f,u,h,b,p,m,g,E;function w($){s[10]($)}let k={ollama:!0,edit:!0,connection:{url:s[0],key:((T=s[1])==null?void 0:T.key)??"",config:s[1]},onDelete:s[2],onSubmit:s[9]};s[6]!==void 0&&(k.show=s[6]),e=new Xa({props:k}),at.push(()=>ft(e,"show",w));function I($){s[11]($)}let y={urlIdx:s[4]};return s[5]!==void 0&&(y.show=s[5]),a=new u1({props:y}),at.push(()=>ft(a,"show",I)),u=new Zt({props:{className:"w-full relative",content:s[7].t('WebUI will make requests to "{{url}}/api/chat"',{url:s[0]}),placement:"top-start",$$slots:{default:[f1]},$$scope:{ctx:s}}}),p=new Zt({props:{content:s[7].t("Manage"),className:"self-start",$$slots:{default:[c1]},$$scope:{ctx:s}}}),g=new Zt({props:{content:s[7].t("Configure"),className:"self-start",$$slots:{default:[d1]},$$scope:{ctx:s}}}),{c(){de(e.$$.fragment),l=A(),de(a.$$.fragment),r=A(),f=d("div"),de(u.$$.fragment),h=A(),b=d("div"),de(p.$$.fragment),m=A(),de(g.$$.fragment),this.h()},l($){_e(e.$$.fragment,$),l=D($),_e(a.$$.fragment,$),r=D($),f=_($,"DIV",{class:!0});var S=v(f);_e(u.$$.fragment,S),h=D(S),b=_(S,"DIV",{class:!0});var N=v(b);_e(p.$$.fragment,N),m=D(N),_e(g.$$.fragment,N),N.forEach(c),S.forEach(c),this.h()},h(){o(b,"class","flex gap-1"),o(f,"class","flex gap-1.5")},m($,S){he(e,$,S),O($,l,S),he(a,$,S),O($,r,S),O($,f,S),he(u,f,null),n(f,h),n(f,b),he(p,b,null),n(b,m),he(g,b,null),E=!0},p($,[S]){var Z;const N={};S&3&&(N.connection={url:$[0],key:((Z=$[1])==null?void 0:Z.key)??"",config:$[1]}),S&4&&(N.onDelete=$[2]),S&11&&(N.onSubmit=$[9]),!t&&S&64&&(t=!0,N.show=$[6],ut(()=>t=!1)),e.$set(N);const V={};S&16&&(V.urlIdx=$[4]),!i&&S&32&&(i=!0,V.show=$[5],ut(()=>i=!1)),a.$set(V);const C={};S&129&&(C.content=$[7].t('WebUI will make requests to "{{url}}/api/chat"',{url:$[0]})),S&32899&&(C.$$scope={dirty:S,ctx:$}),u.$set(C);const R={};S&128&&(R.content=$[7].t("Manage")),S&32800&&(R.$$scope={dirty:S,ctx:$}),p.$set(R);const U={};S&128&&(U.content=$[7].t("Configure")),S&32832&&(U.$$scope={dirty:S,ctx:$}),g.$set(U)},i($){E||(K(e.$$.fragment,$),K(a.$$.fragment,$),K(u.$$.fragment,$),K(p.$$.fragment,$),K(g.$$.fragment,$),E=!0)},o($){q(e.$$.fragment,$),q(a.$$.fragment,$),q(u.$$.fragment,$),q(p.$$.fragment,$),q(g.$$.fragment,$),E=!1},d($){$&&(c(l),c(r),c(f)),pe(e,$),pe(a,$),pe(u),pe(p),pe(g)}}}function h1(s,e,t){let l;const a=Dl("i18n");nl(s,a,y=>t(7,l=y));let{onDelete:i=()=>{}}=e,{onSubmit:r=()=>{}}=e,{url:f=""}=e,{idx:u=0}=e,{config:h={}}=e,b=!1,p=!1;const m=y=>{t(0,f=y.url),t(1,h={...y.config,key:y.key}),r(y)};function g(y){p=y,t(6,p)}function E(y){b=y,t(5,b)}function w(){f=this.value,t(0,f)}const k=()=>{t(5,b=!0)},I=()=>{t(6,p=!0)};return s.$$set=y=>{"onDelete"in y&&t(2,i=y.onDelete),"onSubmit"in y&&t(3,r=y.onSubmit),"url"in y&&t(0,f=y.url),"idx"in y&&t(4,u=y.idx),"config"in y&&t(1,h=y.config)},[f,h,i,r,u,b,p,l,a,m,g,E,w,k,I]}class p1 extends gl{constructor(e){super(),bl(this,e,h1,_1,ml,{onDelete:2,onSubmit:3,url:0,idx:4,config:1})}}function oo(s,e,t){const l=s.slice();return l[37]=e[t],l[38]=e,l[39]=t,l}function uo(s,e,t){const l=s.slice();return l[37]=e[t],l[40]=e,l[39]=t,l}function v1(s){let e,t,l,a;return l=new $s({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),de(l.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var f=v(t);_e(l.$$.fragment,f),f.forEach(c),r.forEach(c),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex h-full justify-center")},m(i,r){O(i,e,r),n(e,t),he(l,t,null),a=!0},p:vt,i(i){a||(K(l.$$.fragment,i),a=!0)},o(i){q(l.$$.fragment,i),a=!1},d(i){i&&c(e),pe(l)}}}function m1(s){let e,t,l,a,i=s[10].t("OpenAI API")+"",r,f,u,h,b,p,m,g,E,w,k,I,y,T=s[10].t("Ollama API")+"",$,S,N,V,C,R,U;function Z(z){s[19](z)}let B={};s[5]!==void 0&&(B.state=s[5]),b=new kl({props:B}),at.push(()=>ft(b,"state",Z)),b.$on("change",s[20]);let M=s[5]&&fo(s);function j(z){s[27](z)}let G={};s[6]!==void 0&&(G.state=s[6]),V=new kl({props:G}),at.push(()=>ft(V,"state",j)),V.$on("change",s[28]);let W=s[6]&&_o(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),r=L(i),f=A(),u=d("div"),h=d("div"),de(b.$$.fragment),m=A(),M&&M.c(),g=A(),E=d("hr"),w=A(),k=d("div"),I=d("div"),y=d("div"),$=L(T),S=A(),N=d("div"),de(V.$$.fragment),R=A(),W&&W.c(),this.h()},l(z){e=_(z,"DIV",{class:!0});var x=v(e);t=_(x,"DIV",{class:!0});var te=v(t);l=_(te,"DIV",{class:!0});var Y=v(l);a=_(Y,"DIV",{class:!0});var Q=v(a);r=P(Q,i),Q.forEach(c),f=D(Y),u=_(Y,"DIV",{class:!0});var X=v(u);h=_(X,"DIV",{class:!0});var F=v(h);_e(b.$$.fragment,F),F.forEach(c),X.forEach(c),Y.forEach(c),m=D(te),M&&M.l(te),te.forEach(c),x.forEach(c),g=D(z),E=_(z,"HR",{class:!0}),w=D(z),k=_(z,"DIV",{class:!0});var J=v(k);I=_(J,"DIV",{class:!0});var ae=v(I);y=_(ae,"DIV",{class:!0});var ue=v(y);$=P(ue,T),ue.forEach(c),S=D(ae),N=_(ae,"DIV",{class:!0});var ne=v(N);_e(V.$$.fragment,ne),ne.forEach(c),ae.forEach(c),R=D(J),W&&W.l(J),J.forEach(c),this.h()},h(){o(a,"class","font-medium"),o(h,"class",""),o(u,"class","flex items-center"),o(l,"class","flex justify-between items-center text-sm"),o(t,"class","mt-2 space-y-2 pr-1.5"),o(e,"class","my-2"),o(E,"class","border-gray-50 dark:border-gray-850"),o(y,"class","font-medium"),o(N,"class","mt-1"),o(I,"class","flex justify-between items-center text-sm mb-2"),o(k,"class","pr-1.5 my-2")},m(z,x){O(z,e,x),n(e,t),n(t,l),n(l,a),n(a,r),n(l,f),n(l,u),n(u,h),he(b,h,null),n(t,m),M&&M.m(t,null),O(z,g,x),O(z,E,x),O(z,w,x),O(z,k,x),n(k,I),n(I,y),n(y,$),n(I,S),n(I,N),he(V,N,null),n(k,R),W&&W.m(k,null),U=!0},p(z,x){(!U||x[0]&1024)&&i!==(i=z[10].t("OpenAI API")+"")&&H(r,i);const te={};!p&&x[0]&32&&(p=!0,te.state=z[5],ut(()=>p=!1)),b.$set(te),z[5]?M?(M.p(z,x),x[0]&32&&K(M,1)):(M=fo(z),M.c(),K(M,1),M.m(t,null)):M&&(Vt(),q(M,1,1,()=>{M=null}),St()),(!U||x[0]&1024)&&T!==(T=z[10].t("Ollama API")+"")&&H($,T);const Y={};!C&&x[0]&64&&(C=!0,Y.state=z[6],ut(()=>C=!1)),V.$set(Y),z[6]?W?(W.p(z,x),x[0]&64&&K(W,1)):(W=_o(z),W.c(),K(W,1),W.m(k,null)):W&&(Vt(),q(W,1,1,()=>{W=null}),St())},i(z){U||(K(b.$$.fragment,z),K(M),K(V.$$.fragment,z),K(W),U=!0)},o(z){q(b.$$.fragment,z),q(M),q(V.$$.fragment,z),q(W),U=!1},d(z){z&&(c(e),c(g),c(E),c(w),c(k)),pe(b),M&&M.d(),pe(V),W&&W.d()}}}function fo(s){let e,t,l,a,i,r=s[10].t("Manage OpenAI API Connections")+"",f,u,h,b,p,m;h=new Zt({props:{content:s[10].t("Add Connection"),$$slots:{default:[g1]},$$scope:{ctx:s}}});let g=It(s[3]),E=[];for(let k=0;k<g.length;k+=1)E[k]=co(uo(s,g,k));const w=k=>q(E[k],1,1,()=>{E[k]=null});return{c(){e=d("hr"),t=A(),l=d("div"),a=d("div"),i=d("div"),f=L(r),u=A(),de(h.$$.fragment),b=A(),p=d("div");for(let k=0;k<E.length;k+=1)E[k].c();this.h()},l(k){e=_(k,"HR",{class:!0}),t=D(k),l=_(k,"DIV",{class:!0});var I=v(l);a=_(I,"DIV",{class:!0});var y=v(a);i=_(y,"DIV",{class:!0});var T=v(i);f=P(T,r),T.forEach(c),u=D(y),_e(h.$$.fragment,y),y.forEach(c),b=D(I),p=_(I,"DIV",{class:!0});var $=v(p);for(let S=0;S<E.length;S+=1)E[S].l($);$.forEach(c),I.forEach(c),this.h()},h(){o(e,"class","border-gray-50 dark:border-gray-850"),o(i,"class","font-medium"),o(a,"class","flex justify-between items-center"),o(p,"class","flex flex-col gap-1.5 mt-1.5"),o(l,"class","")},m(k,I){O(k,e,I),O(k,t,I),O(k,l,I),n(l,a),n(a,i),n(i,f),n(a,u),he(h,a,null),n(l,b),n(l,p);for(let y=0;y<E.length;y+=1)E[y]&&E[y].m(p,null);m=!0},p(k,I){(!m||I[0]&1024)&&r!==(r=k[10].t("Manage OpenAI API Connections")+"")&&H(f,r);const y={};if(I[0]&1024&&(y.content=k[10].t("Add Connection")),I[0]&256|I[1]&1024&&(y.$$scope={dirty:I,ctx:k}),h.$set(y),I[0]&8348){g=It(k[3]);let T;for(T=0;T<g.length;T+=1){const $=uo(k,g,T);E[T]?(E[T].p($,I),K(E[T],1)):(E[T]=co($),E[T].c(),K(E[T],1),E[T].m(p,null))}for(Vt(),T=g.length;T<E.length;T+=1)w(T);St()}},i(k){if(!m){K(h.$$.fragment,k);for(let I=0;I<g.length;I+=1)K(E[I]);m=!0}},o(k){q(h.$$.fragment,k),E=E.filter(Boolean);for(let I=0;I<E.length;I+=1)q(E[I]);m=!1},d(k){k&&(c(e),c(t),c(l)),pe(h),_l(E,k)}}}function g1(s){let e,t,l,a,i;return t=new wa({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[21]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){q(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function co(s){let e,t,l,a,i;function r(){return s[23](s[39])}function f(p){s[24](p,s[37],s[40],s[39])}function u(p){s[25](p,s[39])}function h(p){s[26](p,s[39])}let b={pipeline:!!s[7][s[37]],onSubmit:s[22],onDelete:r};return s[37]!==void 0&&(b.url=s[37]),s[2][s[39]]!==void 0&&(b.key=s[2][s[39]]),s[4][s[39]]!==void 0&&(b.config=s[4][s[39]]),e=new r1({props:b}),at.push(()=>ft(e,"url",f)),at.push(()=>ft(e,"key",u)),at.push(()=>ft(e,"config",h)),{c(){de(e.$$.fragment)},l(p){_e(e.$$.fragment,p)},m(p,m){he(e,p,m),i=!0},p(p,m){s=p;const g={};m[0]&136&&(g.pipeline=!!s[7][s[37]]),m[0]&28&&(g.onDelete=r),!t&&m[0]&8&&(t=!0,g.url=s[37],ut(()=>t=!1)),!l&&m[0]&4&&(l=!0,g.key=s[2][s[39]],ut(()=>l=!1)),!a&&m[0]&16&&(a=!0,g.config=s[4][s[39]],ut(()=>a=!1)),e.$set(g)},i(p){i||(K(e.$$.fragment,p),i=!0)},o(p){q(e.$$.fragment,p),i=!1},d(p){pe(e,p)}}}function _o(s){let e,t,l,a,i,r=s[10].t("Manage Ollama API Connections")+"",f,u,h,b,p,m,g,E,w=s[10].t("Trouble accessing Ollama?")+"",k,I,y,T=s[10].t("Click here for help.")+"",$,S;h=new Zt({props:{content:s[10].t("Add Connection"),$$slots:{default:[b1]},$$scope:{ctx:s}}});let N=It(s[0]),V=[];for(let R=0;R<N.length;R+=1)V[R]=ho(oo(s,N,R));const C=R=>q(V[R],1,1,()=>{V[R]=null});return{c(){e=d("hr"),t=A(),l=d("div"),a=d("div"),i=d("div"),f=L(r),u=A(),de(h.$$.fragment),b=A(),p=d("div"),m=d("div");for(let R=0;R<V.length;R+=1)V[R].c();g=A(),E=d("div"),k=L(w),I=A(),y=d("a"),$=L(T),this.h()},l(R){e=_(R,"HR",{class:!0}),t=D(R),l=_(R,"DIV",{class:!0});var U=v(l);a=_(U,"DIV",{class:!0});var Z=v(a);i=_(Z,"DIV",{class:!0});var B=v(i);f=P(B,r),B.forEach(c),u=D(Z),_e(h.$$.fragment,Z),Z.forEach(c),b=D(U),p=_(U,"DIV",{class:!0});var M=v(p);m=_(M,"DIV",{class:!0});var j=v(m);for(let z=0;z<V.length;z+=1)V[z].l(j);j.forEach(c),M.forEach(c),g=D(U),E=_(U,"DIV",{class:!0});var G=v(E);k=P(G,w),I=D(G),y=_(G,"A",{class:!0,href:!0,target:!0});var W=v(y);$=P(W,T),W.forEach(c),G.forEach(c),U.forEach(c),this.h()},h(){o(e,"class","border-gray-50 dark:border-gray-850 my-2"),o(i,"class","font-medium"),o(a,"class","flex justify-between items-center"),o(m,"class","flex-1 flex flex-col gap-1.5 mt-1.5"),o(p,"class","flex w-full gap-1.5"),o(y,"class","text-gray-300 font-medium underline"),o(y,"href","https://github.com/open-webui/open-webui#troubleshooting"),o(y,"target","_blank"),o(E,"class","mt-1 text-xs text-gray-400 dark:text-gray-500"),o(l,"class","")},m(R,U){O(R,e,U),O(R,t,U),O(R,l,U),n(l,a),n(a,i),n(i,f),n(a,u),he(h,a,null),n(l,b),n(l,p),n(p,m);for(let Z=0;Z<V.length;Z+=1)V[Z]&&V[Z].m(m,null);n(l,g),n(l,E),n(E,k),n(E,I),n(E,y),n(y,$),S=!0},p(R,U){(!S||U[0]&1024)&&r!==(r=R[10].t("Manage Ollama API Connections")+"")&&H(f,r);const Z={};if(U[0]&1024&&(Z.content=R[10].t("Add Connection")),U[0]&512|U[1]&1024&&(Z.$$scope={dirty:U,ctx:R}),h.$set(Z),U[0]&16387){N=It(R[0]);let B;for(B=0;B<N.length;B+=1){const M=oo(R,N,B);V[B]?(V[B].p(M,U),K(V[B],1)):(V[B]=ho(M),V[B].c(),K(V[B],1),V[B].m(m,null))}for(Vt(),B=N.length;B<V.length;B+=1)C(B);St()}(!S||U[0]&1024)&&w!==(w=R[10].t("Trouble accessing Ollama?")+"")&&H(k,w),(!S||U[0]&1024)&&T!==(T=R[10].t("Click here for help.")+"")&&H($,T)},i(R){if(!S){K(h.$$.fragment,R);for(let U=0;U<N.length;U+=1)K(V[U]);S=!0}},o(R){q(h.$$.fragment,R),V=V.filter(Boolean);for(let U=0;U<V.length;U+=1)q(V[U]);S=!1},d(R){R&&(c(e),c(t),c(l)),pe(h),_l(V,R)}}}function b1(s){let e,t,l,a,i;return t=new wa({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[29]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){q(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function ho(s){let e,t,l,a;function i(){return s[31](s[39])}function r(h){s[32](h,s[37],s[38],s[39])}function f(h){s[33](h,s[39])}let u={idx:s[39],onSubmit:s[30],onDelete:i};return s[37]!==void 0&&(u.url=s[37]),s[1][s[39]]!==void 0&&(u.config=s[1][s[39]]),e=new p1({props:u}),at.push(()=>ft(e,"url",r)),at.push(()=>ft(e,"config",f)),{c(){de(e.$$.fragment)},l(h){_e(e.$$.fragment,h)},m(h,b){he(e,h,b),a=!0},p(h,b){s=h;const p={};b[0]&3&&(p.onDelete=i),!t&&b[0]&1&&(t=!0,p.url=s[37],ut(()=>t=!1)),!l&&b[0]&2&&(l=!0,p.config=s[1][s[39]],ut(()=>l=!1)),e.$set(p)},i(h){a||(K(e.$$.fragment,h),a=!0)},o(h){q(e.$$.fragment,h),a=!1},d(h){pe(e,h)}}}function E1(s){let e,t,l,a,i,r,f,u,h,b,p,m,g,E=s[10].t("Save")+"",w,k,I,y;function T(U){s[17](U)}let $={onSubmit:s[15]};s[8]!==void 0&&($.show=s[8]),e=new Xa({props:$}),at.push(()=>ft(e,"show",T));function S(U){s[18](U)}let N={ollama:!0,onSubmit:s[16]};s[9]!==void 0&&(N.show=s[9]),a=new Xa({props:N}),at.push(()=>ft(a,"show",S));const V=[m1,v1],C=[];function R(U,Z){return U[5]!==null&&U[6]!==null?0:1}return h=R(s),b=C[h]=V[h](s),{c(){de(e.$$.fragment),l=A(),de(a.$$.fragment),r=A(),f=d("form"),u=d("div"),b.c(),p=A(),m=d("div"),g=d("button"),w=L(E),this.h()},l(U){_e(e.$$.fragment,U),l=D(U),_e(a.$$.fragment,U),r=D(U),f=_(U,"FORM",{class:!0});var Z=v(f);u=_(Z,"DIV",{class:!0});var B=v(u);b.l(B),B.forEach(c),p=D(Z),m=_(Z,"DIV",{class:!0});var M=v(m);g=_(M,"BUTTON",{class:!0,type:!0});var j=v(g);w=P(j,E),j.forEach(c),M.forEach(c),Z.forEach(c),this.h()},h(){o(u,"class","overflow-y-scroll scrollbar-hidden h-full"),o(g,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(g,"type","submit"),o(m,"class","flex justify-end pt-3 text-sm font-medium"),o(f,"class","flex flex-col h-full justify-between text-sm")},m(U,Z){he(e,U,Z),O(U,l,Z),he(a,U,Z),O(U,r,Z),O(U,f,Z),n(f,u),C[h].m(u,null),n(f,p),n(f,m),n(m,g),n(g,w),k=!0,I||(y=se(f,"submit",us(s[34])),I=!0)},p(U,Z){const B={};!t&&Z[0]&256&&(t=!0,B.show=U[8],ut(()=>t=!1)),e.$set(B);const M={};!i&&Z[0]&512&&(i=!0,M.show=U[9],ut(()=>i=!1)),a.$set(M);let j=h;h=R(U),h===j?C[h].p(U,Z):(Vt(),q(C[j],1,1,()=>{C[j]=null}),St(),b=C[h],b?b.p(U,Z):(b=C[h]=V[h](U),b.c()),K(b,1),b.m(u,null)),(!k||Z[0]&1024)&&E!==(E=U[10].t("Save")+"")&&H(w,E)},i(U){k||(K(e.$$.fragment,U),K(a.$$.fragment,U),K(b),k=!0)},o(U){q(e.$$.fragment,U),q(a.$$.fragment,U),q(b),k=!1},d(U){U&&(c(l),c(r),c(f)),pe(e,U),pe(a,U),C[h].d(),I=!1,y()}}}function w1(s,e,t){let l,a;nl(s,ia,J=>t(35,l=J));const i=ys(),r=Dl("i18n");nl(s,r,J=>t(10,a=J));const f=async()=>await ql(localStorage.token);let u=[""],h={},b=[""],p=[""],m={},g=null,E=null,w={},k=!1,I=!1;const y=async()=>{if(g!==null){if(t(3,p=p.map(ae=>ae.replace(/\/$/,""))),b.length!==p.length&&(b.length>p.length&&t(2,b=b.slice(0,p.length)),b.length<p.length)){const ae=p.length-b.length;for(let ue=0;ue<ae;ue++)b.push("")}await Yu(localStorage.token,{ENABLE_OPENAI_API:g,OPENAI_API_BASE_URLS:p,OPENAI_API_KEYS:b,OPENAI_API_CONFIGS:m}).catch(ae=>{ze.error(`${ae}`)})&&(ze.success(a.t("OpenAI API settings updated")),await Nl.set(await f()))}},T=async()=>{E!==null&&(t(0,u=u.map(ae=>ae.replace(/\/$/,""))),await Zu(localStorage.token,{ENABLE_OLLAMA_API:E,OLLAMA_BASE_URLS:u,OLLAMA_API_CONFIGS:h}).catch(ae=>{ze.error(`${ae}`)})&&(ze.success(a.t("Ollama API settings updated")),await Nl.set(await f())))},$=async J=>{t(3,p=[...p,J.url]),t(2,b=[...b,J.key]),t(4,m[p.length]=J.config,m),await y()},S=async J=>{t(0,u=[...u,J.url]),t(1,h[u.length]=J.config,h),await T()};Fl(async()=>{if(l.role==="admin"){let J={},ae={};if(await Promise.all([(async()=>{J=await Ho(localStorage.token)})(),(async()=>{ae=await Fu(localStorage.token)})()]),t(5,g=ae.ENABLE_OPENAI_API),t(6,E=J.ENABLE_OLLAMA_API),t(3,p=ae.OPENAI_API_BASE_URLS),t(2,b=ae.OPENAI_API_KEYS),t(4,m=ae.OPENAI_API_CONFIGS),t(0,u=J.OLLAMA_BASE_URLS),t(1,h=J.OLLAMA_API_CONFIGS),g){for(const[ue,ne]of p.entries())m[ue]||t(4,m[ue]=m[ne]||{},m);p.forEach(async(ue,ne)=>{var ge;if(t(4,m[ne]=m[ne]||{},m),!(((ge=m[ne])==null?void 0:ge.enable)??!0))return;(await Wu(localStorage.token,ne)).pipelines&&t(7,w[ue]=!0,w)})}if(E)for(const[ue,ne]of u.entries())h[ue]||t(1,h[ue]=h[ne]||{},h)}});function N(J){k=J,t(8,k)}function V(J){I=J,t(9,I)}function C(J){g=J,t(5,g)}const R=async()=>{y()},U=()=>{t(8,k=!0)},Z=()=>{y()},B=J=>{t(3,p=p.filter((ae,ue)=>J!==ue)),t(2,b=b.filter((ae,ue)=>J!==ue)),delete m[J]};function M(J,ae,ue,ne){ue[ne]=J,t(3,p)}function j(J,ae){s.$$.not_equal(b[ae],J)&&(b[ae]=J,t(2,b))}function G(J,ae){s.$$.not_equal(m[ae],J)&&(m[ae]=J,t(4,m))}function W(J){E=J,t(6,E)}const z=async()=>{T()},x=()=>{t(9,I=!0)},te=()=>{T()},Y=J=>{t(0,u=u.filter((ae,ue)=>J!==ue)),delete h[J]};function Q(J,ae,ue,ne){ue[ne]=J,t(0,u)}function X(J,ae){s.$$.not_equal(h[ae],J)&&(h[ae]=J,t(1,h))}return[u,h,b,p,m,g,E,w,k,I,a,i,r,y,T,$,S,N,V,C,R,U,Z,B,M,j,G,W,z,x,te,Y,Q,X,()=>{y(),T(),i("save")}]}class k1 extends gl{constructor(e){super(),bl(this,e,w1,E1,ml,{},null,[-1,-1])}}function I1(s){let e,t,l,a,i,r,f,u,h;function b(m){s[38](m)}let p={placeholder:s[23].t("API Key"),required:!1};return s[21]!==void 0&&(p.value=s[21]),i=new Vl({props:p}),at.push(()=>ft(i,"value",b)),{c(){e=d("div"),t=d("input"),a=A(),de(i.$$.fragment),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"INPUT",{class:!0,placeholder:!0}),a=D(g),_e(i.$$.fragment,g),g.forEach(c),this.h()},h(){o(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-none"),o(t,"placeholder",l=s[23].t("API Base URL")),t.required=!0,o(e,"class","my-0.5 flex gap-2 pr-2")},m(m,g){O(m,e,g),n(e,t),ee(t,s[20]),n(e,a),he(i,e,null),f=!0,u||(h=se(t,"input",s[37]),u=!0)},p(m,g){(!f||g[0]&8388608&&l!==(l=m[23].t("API Base URL")))&&o(t,"placeholder",l),g[0]&1048576&&t.value!==m[20]&&ee(t,m[20]);const E={};g[0]&8388608&&(E.placeholder=m[23].t("API Key")),!r&&g[0]&2097152&&(r=!0,E.value=m[21],ut(()=>r=!1)),i.$set(E)},i(m){f||(K(i.$$.fragment,m),f=!0)},o(m){q(i.$$.fragment,m),f=!1},d(m){m&&c(e),pe(i),u=!1,h()}}}function y1(s){let e,t,l,a,i,r,f,u,h;function b(m){s[36](m)}let p={placeholder:s[23].t("API Key")};return s[19]!==void 0&&(p.value=s[19]),i=new Vl({props:p}),at.push(()=>ft(i,"value",b)),{c(){e=d("div"),t=d("input"),a=A(),de(i.$$.fragment),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"INPUT",{class:!0,placeholder:!0}),a=D(g),_e(i.$$.fragment,g),g.forEach(c),this.h()},h(){o(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-none"),o(t,"placeholder",l=s[23].t("API Base URL")),t.required=!0,o(e,"class","my-0.5 flex gap-2 pr-2")},m(m,g){O(m,e,g),n(e,t),ee(t,s[18]),n(e,a),he(i,e,null),f=!0,u||(h=se(t,"input",s[35]),u=!0)},p(m,g){(!f||g[0]&8388608&&l!==(l=m[23].t("API Base URL")))&&o(t,"placeholder",l),g[0]&262144&&t.value!==m[18]&&ee(t,m[18]);const E={};g[0]&8388608&&(E.placeholder=m[23].t("API Key")),!r&&g[0]&524288&&(r=!0,E.value=m[19],ut(()=>r=!1)),i.$set(E)},i(m){f||(K(i.$$.fragment,m),f=!0)},o(m){q(i.$$.fragment,m),f=!1},d(m){m&&c(e),pe(i),u=!1,h()}}}function po(s){let e,t,l=s[23].t("Embedding Batch Size")+"",a,i,r,f,u,h,b,p,m;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("input"),u=A(),h=d("div"),b=d("input"),this.h()},l(g){e=_(g,"DIV",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var w=v(t);a=P(w,l),w.forEach(c),i=D(E),r=_(E,"DIV",{class:!0});var k=v(r);f=_(k,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),k.forEach(c),u=D(E),h=_(E,"DIV",{class:!0});var I=v(h);b=_(I,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),I.forEach(c),E.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium"),o(f,"id","steps-range"),o(f,"type","range"),o(f,"min","1"),o(f,"max","2048"),o(f,"step","1"),o(f,"class","w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),o(r,"class","flex-1"),o(b,"type","number"),o(b,"class","bg-transparent text-center w-14"),o(b,"min","-2"),o(b,"max","16000"),o(b,"step","1"),o(h,"class",""),o(e,"class","flex mt-0.5 space-x-2")},m(g,E){O(g,e,E),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),ee(f,s[6]),n(e,u),n(e,h),n(h,b),ee(b,s[6]),p||(m=[se(f,"change",s[39]),se(f,"input",s[39]),se(b,"input",s[40])],p=!0)},p(g,E){E[0]&8388608&&l!==(l=g[23].t("Embedding Batch Size")+"")&&H(a,l),E[0]&64&&ee(f,g[6]),E[0]&64&&Zl(b.value)!==g[6]&&ee(b,g[6])},d(g){g&&c(e),p=!1,ol(m)}}}function T1(s){let e,t=s[23].t("Off")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("Off")+"")&&H(l,t)},d(a){a&&c(e)}}}function A1(s){let e,t=s[23].t("On")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("On")+"")&&H(l,t)},d(a){a&&c(e)}}}function D1(s){let e,t,l,a,i,r,f,u=s[4]===""&&vo(s);return{c(){e=d("div"),t=d("div"),l=d("input"),i=A(),u&&u.c(),this.h()},l(h){e=_(h,"DIV",{class:!0});var b=v(e);t=_(b,"DIV",{class:!0});var p=v(t);l=_(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(c),i=D(b),u&&u.l(b),b.forEach(c),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[23].t("Set embedding model (e.g. {{model}})",{model:s[5].slice(-40)})),o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full")},m(h,b){O(h,e,b),n(e,t),n(t,l),ee(l,s[5]),n(e,i),u&&u.m(e,null),r||(f=se(l,"input",s[43]),r=!0)},p(h,b){b[0]&8388640&&a!==(a=h[23].t("Set embedding model (e.g. {{model}})",{model:h[5].slice(-40)}))&&o(l,"placeholder",a),b[0]&32&&l.value!==h[5]&&ee(l,h[5]),h[4]===""?u?u.p(h,b):(u=vo(h),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(h){h&&c(e),u&&u.d(),r=!1,f()}}}function $1(s){let e,t,l,a,i,r;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(f){e=_(f,"DIV",{class:!0});var u=v(e);t=_(u,"DIV",{class:!0});var h=v(t);l=_(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(c),u.forEach(c),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[23].t("Set embedding model")),l.required=!0,o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full")},m(f,u){O(f,e,u),n(e,t),n(t,l),ee(l,s[5]),i||(r=se(l,"input",s[42]),i=!0)},p(f,u){u[0]&8388608&&a!==(a=f[23].t("Set embedding model"))&&o(l,"placeholder",a),u[0]&32&&l.value!==f[5]&&ee(l,f[5])},d(f){f&&c(e),i=!1,r()}}}function vo(s){let e,t,l;function a(f,u){return f[0]?S1:V1}let i=a(s),r=i(s);return{c(){e=d("button"),r.c(),this.h()},l(f){e=_(f,"BUTTON",{class:!0});var u=v(e);r.l(u),u.forEach(c),this.h()},h(){o(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=s[0]},m(f,u){O(f,e,u),r.m(e,null),t||(l=se(e,"click",s[44]),t=!0)},p(f,u){i!==(i=a(f))&&(r.d(1),r=i(f),r&&(r.c(),r.m(e,null))),u[0]&1&&(e.disabled=f[0])},d(f){f&&c(e),r.d(),t=!1,l()}}}function V1(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function S1(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function mo(s){let e,t,l=s[23].t("Reranking Model")+"",a,i,r,f,u,h,b,p,m,g;function E(I,y){return I[1]?M1:N1}let w=E(s),k=w(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),b=A(),p=d("button"),k.c(),this.h()},l(I){e=_(I,"DIV",{class:!0});var y=v(e);t=_(y,"DIV",{class:!0});var T=v(t);a=P(T,l),T.forEach(c),i=D(y),r=_(y,"DIV",{class:!0});var $=v(r);f=_($,"DIV",{class:!0});var S=v(f);u=_(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(c),b=D($),p=_($,"BUTTON",{class:!0});var N=v(p);k.l(N),N.forEach(c),$.forEach(c),y.forEach(c),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"placeholder",h=s[23].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),o(f,"class","flex-1 mr-2"),o(p,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),p.disabled=s[1],o(r,"class","flex w-full"),o(e,"class","")},m(I,y){O(I,e,y),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[7]),n(r,b),n(r,p),k.m(p,null),m||(g=[se(u,"input",s[45]),se(p,"click",s[46])],m=!0)},p(I,y){y[0]&8388608&&l!==(l=I[23].t("Reranking Model")+"")&&H(a,l),y[0]&8388608&&h!==(h=I[23].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&o(u,"placeholder",h),y[0]&128&&u.value!==I[7]&&ee(u,I[7]),w!==(w=E(I))&&(k.d(1),k=w(I),k&&(k.c(),k.m(p,null))),y[0]&2&&(p.disabled=I[1])},d(I){I&&c(e),k.d(),m=!1,ol(g)}}}function N1(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{d:!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){O(a,e,i),n(e,t),n(e,l)},d(a){a&&c(e)}}}function M1(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function go(s){let e,t,l,a,i,r;return{c(){e=d("div"),t=d("div"),l=d("input"),this.h()},l(f){e=_(f,"DIV",{class:!0});var u=v(e);t=_(u,"DIV",{class:!0});var h=v(t);l=_(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(c),u.forEach(c),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder",a=s[23].t("Enter Tika Server URL")),o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full mt-1")},m(f,u){O(f,e,u),n(e,t),n(t,l),ee(l,s[11]),i||(r=se(l,"input",s[49]),i=!0)},p(f,u){u[0]&8388608&&a!==(a=f[23].t("Enter Tika Server URL"))&&o(l,"placeholder",a),u[0]&2048&&l.value!==f[11]&&ee(l,f[11])},d(f){f&&c(e),i=!1,r()}}}function bo(s){let e,t,l=s[23].t("Minimum Score")+"",a,i,r,f,u,h,b,p;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("input"),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=P(E,l),E.forEach(c),i=D(g),r=_(g,"DIV",{class:!0});var w=v(r);f=_(w,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),w.forEach(c),g.forEach(c),this.h()},h(){o(t,"class","text-xs font-medium w-full"),o(f,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(f,"type","number"),o(f,"step","0.01"),o(f,"placeholder",u=s[23].t("Enter Score")),o(f,"autocomplete","off"),o(f,"min","0.0"),o(f,"title",h=s[23].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),o(r,"class","w-full"),o(e,"class","flex flex-col w-full gap-1")},m(m,g){O(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),ee(f,s[22].r),b||(p=se(f,"input",s[52]),b=!0)},p(m,g){g[0]&8388608&&l!==(l=m[23].t("Minimum Score")+"")&&H(a,l),g[0]&8388608&&u!==(u=m[23].t("Enter Score"))&&o(f,"placeholder",u),g[0]&8388608&&h!==(h=m[23].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&o(f,"title",h),g[0]&4194304&&Zl(f.value)!==m[22].r&&ee(f,m[22].r)},d(m){m&&c(e),b=!1,p()}}}function Eo(s){let e,t=s[23].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&H(l,t)},d(a){a&&c(e)}}}function O1(s){let e,t,l;function a(r){s[53](r)}let i={placeholder:s[23].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[22].template!==void 0&&(i.value=s[22].template),e=new oa({props:i}),at.push(()=>ft(e,"value",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&8388608&&(u.placeholder=r[23].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&f[0]&4194304&&(t=!0,u.value=r[22].template,ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function L1(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"type","number"),o(e,"placeholder",t=s[23].t("Leave empty for unlimited")),o(e,"autocomplete","off"),o(e,"min","0")},m(i,r){O(i,e,r),ee(e,s[8]),l||(a=se(e,"input",s[58]),l=!0)},p(i,r){r[0]&8388608&&t!==(t=i[23].t("Leave empty for unlimited"))&&o(e,"placeholder",t),r[0]&256&&Zl(e.value)!==i[8]&&ee(e,i[8])},d(i){i&&c(e),l=!1,a()}}}function P1(s){let e,t,l,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(e,"type","number"),o(e,"placeholder",t=s[23].t("Leave empty for unlimited")),o(e,"autocomplete","off"),o(e,"min","0")},m(i,r){O(i,e,r),ee(e,s[9]),l||(a=se(e,"input",s[59]),l=!0)},p(i,r){r[0]&8388608&&t!==(t=i[23].t("Leave empty for unlimited"))&&o(e,"placeholder",t),r[0]&512&&Zl(e.value)!==i[9]&&ee(e,i[9])},d(i){i&&c(e),l=!1,a()}}}function U1(s){let e,t,l,a,i,r,f,u,h,b,p=s[23].t("General Settings")+"",m,g,E,w,k=s[23].t("Embedding Model Engine")+"",I,y,T,$,S,N=s[23].t("Default (SentenceTransformers)")+"",V,C,R=s[23].t("Ollama")+"",U,Z,B=s[23].t("OpenAI")+"",M,j,G,W,z,x,te,Y,Q=s[23].t("Hybrid Search")+"",X,F,J,ae,ue,ne,De,ge,Pe,be,Re=s[23].t("Embedding Model")+"",$e,ie,le,Ee,ce=s[23].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",ke,Ie,Qe,Je,ve,ye,fe,me=s[23].t("Content Extraction")+"",Oe,Me,He,Ce,Ge=s[23].t("Engine")+"",je,$t,re,we,ht,mt=s[23].t("Default")+"",gt,Ke,Ye,ct=s[23].t("Tika")+"",Ut,At,Ae,We,bt,ot,dt=s[23].t("Google Drive")+"",rt,lt,et,oe,Le,Tt=s[23].t("Enable Google Drive")+"",Xe,Ot,wt,it,Pt,zt,qt,Dt,Rt,Nt,Ue=s[23].t("Query Params")+"",Te,Ne,pt,xe,_t,Kt=s[23].t("Top K")+"",Lt,Bt,Et,Ze,Be,tt,kt,Mt,rl,tl,Ht=s[23].t("RAG Template")+"",ul,hl,jt,Il,cl,il,yt,dl,Yt=s[23].t("Chunk Params")+"",Qt,Ml,pl,Ft,Jt=s[23].t("Text Splitter")+"",Rl,Pl,Ul,fl,Wt,Wl=s[23].t("Default")+"",El,Ve,st=s[23].t("Character")+"",Fe,qe,vl,wl=s[23].t("Token")+"",yl,Tl,Kl=s[23].t("Tiktoken")+"",Bl,Hl,Ct,Al,ts,ss,is=s[23].t("Chunk Size")+"",fs,hs,as,Sl,cs,ps,jl,rs,vs=s[23].t("Chunk Overlap")+"",ds,Ts,Gl,Cl,_s,As,Yl,zl,ns,ms=s[23].t("PDF Extract Images (OCR)")+"",ws,Ds,$l,ls,er,tr,ka,lr,Vs,Fs,ua=s[23].t("Files")+"",Ia,sr,Ss,Ns,Ws,fa=s[23].t("Max Upload Size")+"",ya,ar,Ys,Ms,rr,Os,zs,ca=s[23].t("Max Upload Count")+"",Ta,nr,Qs,Ls,ir,Aa,or,js,ks,Gs,gr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',ur,Js,da=s[23].t("Reset Upload Directory")+"",Da,fr,Is,Ks,br='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',cr,Xs,_a=s[23].t("Reset Vector Storage/Knowledge")+"",$a,dr,xs,Zs,ha=s[23].t("Save")+"",Va,el,_r,Er;function qo(Se){s[29](Se)}let wr={};s[3]!==void 0&&(wr.show=s[3]),e=new Ja({props:wr}),at.push(()=>ft(e,"show",qo)),e.$on("confirm",s[30]);function Fo(Se){s[31](Se)}let kr={};s[2]!==void 0&&(kr.show=s[2]),a=new Ja({props:kr}),at.push(()=>ft(a,"show",Fo)),a.$on("confirm",s[32]);const Ir=[y1,I1],Ps=[];function yr(Se,nt){return Se[4]==="openai"?0:Se[4]==="ollama"?1:-1}~(G=yr(s))&&(W=Ps[G]=Ir[G](s));let Ql=(s[4]==="ollama"||s[4]==="openai")&&po(s);function Tr(Se,nt){return Se[22].hybrid===!0?A1:T1}let Sa=Tr(s),gs=Sa(s);function Ar(Se,nt){return Se[4]==="ollama"?$1:D1}let Na=Ar(s),bs=Na(s),Jl=s[22].hybrid===!0&&mo(s),Xl=s[12]&&go(s);function Wo(Se){s[50](Se)}let Dr={};s[17]!==void 0&&(Dr.state=s[17]),it=new kl({props:Dr}),at.push(()=>ft(it,"state",Wo));let xl=s[22].hybrid===!0&&bo(s),es=s[22].hybrid===!0&&Eo(s);jt=new Zt({props:{content:s[23].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[O1]},$$scope:{ctx:s}}});function Yo(Se){s[57](Se)}let $r={};return s[16]!==void 0&&($r.state=s[16]),ls=new kl({props:$r}),at.push(()=>ft(ls,"state",Yo)),Ms=new Zt({props:{content:s[23].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded."),placement:"top-start",$$slots:{default:[L1]},$$scope:{ctx:s}}}),Ls=new Zt({props:{content:s[23].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded."),placement:"top-start",$$slots:{default:[P1]},$$scope:{ctx:s}}}),{c(){de(e.$$.fragment),l=A(),de(a.$$.fragment),r=A(),f=d("form"),u=d("div"),h=d("div"),b=d("div"),m=L(p),g=A(),E=d("div"),w=d("div"),I=L(k),y=A(),T=d("div"),$=d("select"),S=d("option"),V=L(N),C=d("option"),U=L(R),Z=d("option"),M=L(B),j=A(),W&&W.c(),z=A(),Ql&&Ql.c(),x=A(),te=d("div"),Y=d("div"),X=L(Q),F=A(),J=d("button"),gs.c(),ae=A(),ue=d("hr"),ne=A(),De=d("div"),ge=A(),Pe=d("div"),be=d("div"),$e=L(Re),ie=A(),bs.c(),le=A(),Ee=d("div"),ke=L(ce),Ie=A(),Jl&&Jl.c(),Qe=A(),Je=d("hr"),ve=A(),ye=d("div"),fe=d("div"),Oe=L(me),Me=A(),He=d("div"),Ce=d("div"),je=L(Ge),$t=A(),re=d("div"),we=d("select"),ht=d("option"),gt=L(mt),Ke=A(),Ye=d("option"),Ut=L(ct),At=A(),Xl&&Xl.c(),Ae=A(),We=d("hr"),bt=A(),ot=d("div"),rt=L(dt),lt=A(),et=d("div"),oe=d("div"),Le=d("div"),Xe=L(Tt),Ot=A(),wt=d("div"),de(it.$$.fragment),zt=A(),qt=d("hr"),Dt=A(),Rt=d("div"),Nt=d("div"),Te=L(Ue),Ne=A(),pt=d("div"),xe=d("div"),_t=d("div"),Lt=L(Kt),Bt=A(),Et=d("div"),Ze=d("input"),tt=A(),xl&&xl.c(),kt=A(),es&&es.c(),Mt=A(),rl=d("div"),tl=d("div"),ul=L(Ht),hl=A(),de(jt.$$.fragment),Il=A(),cl=d("hr"),il=A(),yt=d("div"),dl=d("div"),Qt=L(Yt),Ml=A(),pl=d("div"),Ft=d("div"),Rl=L(Jt),Pl=A(),Ul=d("div"),fl=d("select"),Wt=d("option"),El=L(Wl),Ve=L(" ("),Fe=L(st),qe=L(")"),vl=d("option"),yl=L(wl),Tl=L(" ("),Bl=L(Kl),Hl=L(")"),Ct=A(),Al=d("div"),ts=d("div"),ss=d("div"),fs=L(is),hs=A(),as=d("div"),Sl=d("input"),ps=A(),jl=d("div"),rs=d("div"),ds=L(vs),Ts=A(),Gl=d("div"),Cl=d("input"),As=A(),Yl=d("div"),zl=d("div"),ns=d("div"),ws=L(ms),Ds=A(),$l=d("div"),de(ls.$$.fragment),tr=A(),ka=d("hr"),lr=A(),Vs=d("div"),Fs=d("div"),Ia=L(ua),sr=A(),Ss=d("div"),Ns=d("div"),Ws=d("div"),ya=L(fa),ar=A(),Ys=d("div"),de(Ms.$$.fragment),rr=A(),Os=d("div"),zs=d("div"),Ta=L(ca),nr=A(),Qs=d("div"),de(Ls.$$.fragment),ir=A(),Aa=d("hr"),or=A(),js=d("div"),ks=d("button"),Gs=d("div"),Gs.innerHTML=gr,ur=A(),Js=d("div"),Da=L(da),fr=A(),Is=d("button"),Ks=d("div"),Ks.innerHTML=br,cr=A(),Xs=d("div"),$a=L(_a),dr=A(),xs=d("div"),Zs=d("button"),Va=L(ha),this.h()},l(Se){_e(e.$$.fragment,Se),l=D(Se),_e(a.$$.fragment,Se),r=D(Se),f=_(Se,"FORM",{class:!0});var nt=v(f);u=_(nt,"DIV",{class:!0});var ll=v(u);h=_(ll,"DIV",{class:!0});var os=v(h);b=_(os,"DIV",{class:!0});var ea=v(b);m=P(ea,p),ea.forEach(c),g=D(os),E=_(os,"DIV",{class:!0});var qs=v(E);w=_(qs,"DIV",{class:!0});var ta=v(w);I=P(ta,k),ta.forEach(c),y=D(qs),T=_(qs,"DIV",{class:!0});var pa=v(T);$=_(pa,"SELECT",{class:!0,placeholder:!0});var Us=v($);S=_(Us,"OPTION",{});var la=v(S);V=P(la,N),la.forEach(c),C=_(Us,"OPTION",{});var Vr=v(C);U=P(Vr,R),Vr.forEach(c),Z=_(Us,"OPTION",{});var Sr=v(Z);M=P(Sr,B),Sr.forEach(c),Us.forEach(c),pa.forEach(c),qs.forEach(c),j=D(os),W&&W.l(os),z=D(os),Ql&&Ql.l(os),x=D(os),te=_(os,"DIV",{class:!0});var Ma=v(te);Y=_(Ma,"DIV",{class:!0});var Nr=v(Y);X=P(Nr,Q),Nr.forEach(c),F=D(Ma),J=_(Ma,"BUTTON",{class:!0,type:!0});var Mr=v(J);gs.l(Mr),Mr.forEach(c),Ma.forEach(c),os.forEach(c),ae=D(ll),ue=_(ll,"HR",{class:!0}),ne=D(ll),De=_(ll,"DIV",{class:!0}),v(De).forEach(c),ge=D(ll),Pe=_(ll,"DIV",{});var Cs=v(Pe);be=_(Cs,"DIV",{class:!0});var Or=v(be);$e=P(Or,Re),Or.forEach(c),ie=D(Cs),bs.l(Cs),le=D(Cs),Ee=_(Cs,"DIV",{class:!0});var Lr=v(Ee);ke=P(Lr,ce),Lr.forEach(c),Ie=D(Cs),Jl&&Jl.l(Cs),Cs.forEach(c),Qe=D(ll),Je=_(ll,"HR",{class:!0}),ve=D(ll),ye=_(ll,"DIV",{class:!0});var sa=v(ye);fe=_(sa,"DIV",{class:!0});var Pr=v(fe);Oe=P(Pr,me),Pr.forEach(c),Me=D(sa),He=_(sa,"DIV",{class:!0});var Oa=v(He);Ce=_(Oa,"DIV",{class:!0});var Ur=v(Ce);je=P(Ur,Ge),Ur.forEach(c),$t=D(Oa),re=_(Oa,"DIV",{class:!0});var Cr=v(re);we=_(Cr,"SELECT",{class:!0});var hr=v(we);ht=_(hr,"OPTION",{});var pr=v(ht);gt=P(pr,mt),Ke=D(pr),pr.forEach(c),Ye=_(hr,"OPTION",{});var Rr=v(Ye);Ut=P(Rr,ct),Rr.forEach(c),hr.forEach(c),Cr.forEach(c),Oa.forEach(c),At=D(sa),Xl&&Xl.l(sa),sa.forEach(c),Ae=D(ll),We=_(ll,"HR",{class:!0}),bt=D(ll),ot=_(ll,"DIV",{class:!0});var Br=v(ot);rt=P(Br,dt),Br.forEach(c),lt=D(ll),et=_(ll,"DIV",{class:!0});var Hr=v(et);oe=_(Hr,"DIV",{class:!0});var La=v(oe);Le=_(La,"DIV",{class:!0});var jr=v(Le);Xe=P(jr,Tt),jr.forEach(c),Ot=D(La),wt=_(La,"DIV",{});var Gr=v(wt);_e(it.$$.fragment,Gr),Gr.forEach(c),La.forEach(c),Hr.forEach(c),zt=D(ll),qt=_(ll,"HR",{class:!0}),Dt=D(ll),Rt=_(ll,"DIV",{class:!0});var Rs=v(Rt);Nt=_(Rs,"DIV",{class:!0});var Kr=v(Nt);Te=P(Kr,Ue),Kr.forEach(c),Ne=D(Rs),pt=_(Rs,"DIV",{class:!0});var Pa=v(pt);xe=_(Pa,"DIV",{class:!0});var Ua=v(xe);_t=_(Ua,"DIV",{class:!0});var Zr=v(_t);Lt=P(Zr,Kt),Zr.forEach(c),Bt=D(Ua),Et=_(Ua,"DIV",{class:!0});var qr=v(Et);Ze=_(qr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),qr.forEach(c),Ua.forEach(c),tt=D(Pa),xl&&xl.l(Pa),Pa.forEach(c),kt=D(Rs),es&&es.l(Rs),Mt=D(Rs),rl=_(Rs,"DIV",{class:!0});var Ca=v(rl);tl=_(Ca,"DIV",{class:!0});var Fr=v(tl);ul=P(Fr,Ht),Fr.forEach(c),hl=D(Ca),_e(jt.$$.fragment,Ca),Ca.forEach(c),Rs.forEach(c),Il=D(ll),cl=_(ll,"HR",{class:!0}),il=D(ll),yt=_(ll,"DIV",{class:!0});var Bs=v(yt);dl=_(Bs,"DIV",{class:!0});var Wr=v(dl);Qt=P(Wr,Yt),Wr.forEach(c),Ml=D(Bs),pl=_(Bs,"DIV",{class:!0});var Ra=v(pl);Ft=_(Ra,"DIV",{class:!0});var Yr=v(Ft);Rl=P(Yr,Jt),Yr.forEach(c),Pl=D(Ra),Ul=_(Ra,"DIV",{class:!0});var zr=v(Ul);fl=_(zr,"SELECT",{class:!0});var vr=v(fl);Wt=_(vr,"OPTION",{});var va=v(Wt);El=P(va,Wl),Ve=P(va," ("),Fe=P(va,st),qe=P(va,")"),va.forEach(c),vl=_(vr,"OPTION",{});var ma=v(vl);yl=P(ma,wl),Tl=P(ma," ("),Bl=P(ma,Kl),Hl=P(ma,")"),ma.forEach(c),vr.forEach(c),zr.forEach(c),Ra.forEach(c),Ct=D(Bs),Al=_(Bs,"DIV",{class:!0});var Ba=v(Al);ts=_(Ba,"DIV",{class:!0});var Ha=v(ts);ss=_(Ha,"DIV",{class:!0});var Qr=v(ss);fs=P(Qr,is),Qr.forEach(c),hs=D(Ha),as=_(Ha,"DIV",{class:!0});var Jr=v(as);Sl=_(Jr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Jr.forEach(c),Ha.forEach(c),ps=D(Ba),jl=_(Ba,"DIV",{class:!0});var ja=v(jl);rs=_(ja,"DIV",{class:!0});var Xr=v(rs);ds=P(Xr,vs),Xr.forEach(c),Ts=D(ja),Gl=_(ja,"DIV",{class:!0});var xr=v(Gl);Cl=_(xr,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),xr.forEach(c),ja.forEach(c),Ba.forEach(c),As=D(Bs),Yl=_(Bs,"DIV",{class:!0});var en=v(Yl);zl=_(en,"DIV",{class:!0});var Ga=v(zl);ns=_(Ga,"DIV",{class:!0});var tn=v(ns);ws=P(tn,ms),tn.forEach(c),Ds=D(Ga),$l=_(Ga,"DIV",{});var ln=v($l);_e(ls.$$.fragment,ln),ln.forEach(c),Ga.forEach(c),en.forEach(c),Bs.forEach(c),tr=D(ll),ka=_(ll,"HR",{class:!0}),lr=D(ll),Vs=_(ll,"DIV",{class:!0});var Ka=v(Vs);Fs=_(Ka,"DIV",{class:!0});var sn=v(Fs);Ia=P(sn,ua),sn.forEach(c),sr=D(Ka),Ss=_(Ka,"DIV",{class:!0});var Za=v(Ss);Ns=_(Za,"DIV",{class:!0});var qa=v(Ns);Ws=_(qa,"DIV",{class:!0});var an=v(Ws);ya=P(an,fa),an.forEach(c),ar=D(qa),Ys=_(qa,"DIV",{class:!0});var rn=v(Ys);_e(Ms.$$.fragment,rn),rn.forEach(c),qa.forEach(c),rr=D(Za),Os=_(Za,"DIV",{class:!0});var Fa=v(Os);zs=_(Fa,"DIV",{class:!0});var nn=v(zs);Ta=P(nn,ca),nn.forEach(c),nr=D(Fa),Qs=_(Fa,"DIV",{class:!0});var on=v(Qs);_e(Ls.$$.fragment,on),on.forEach(c),Fa.forEach(c),Za.forEach(c),Ka.forEach(c),ir=D(ll),Aa=_(ll,"HR",{class:!0}),or=D(ll),js=_(ll,"DIV",{});var Wa=v(js);ks=_(Wa,"BUTTON",{class:!0,type:!0});var Ya=v(ks);Gs=_(Ya,"DIV",{class:!0,"data-svelte-h":!0}),Gt(Gs)!=="svelte-1m6igha"&&(Gs.innerHTML=gr),ur=D(Ya),Js=_(Ya,"DIV",{class:!0});var un=v(Js);Da=P(un,da),un.forEach(c),Ya.forEach(c),fr=D(Wa),Is=_(Wa,"BUTTON",{class:!0,type:!0});var za=v(Is);Ks=_(za,"DIV",{class:!0,"data-svelte-h":!0}),Gt(Ks)!=="svelte-16tyzd9"&&(Ks.innerHTML=br),cr=D(za),Xs=_(za,"DIV",{class:!0});var fn=v(Xs);$a=P(fn,_a),fn.forEach(c),za.forEach(c),Wa.forEach(c),ll.forEach(c),dr=D(nt),xs=_(nt,"DIV",{class:!0});var cn=v(xs);Zs=_(cn,"BUTTON",{class:!0,type:!0});var dn=v(Zs);Va=P(dn,ha),dn.forEach(c),cn.forEach(c),nt.forEach(c),this.h()},h(){o(b,"class","mb-0.5 text-sm font-medium"),o(w,"class","self-center text-xs font-medium"),S.__value="",ee(S,S.__value),C.__value="ollama",ee(C,C.__value),Z.__value="openai",ee(Z,Z.__value),o($,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o($,"placeholder","Select an embedding model engine"),s[4]===void 0&&Ll(()=>s[33].call($)),o(T,"class","flex items-center relative"),o(E,"class","flex w-full justify-between"),o(Y,"class","self-center text-xs font-medium"),o(J,"class","p-1 px-3 text-xs flex rounded transition"),o(J,"type","button"),o(te,"class","flex w-full justify-between"),o(h,"class","flex flex-col gap-0.5"),o(ue,"class","dark:border-gray-850"),o(De,"class","space-y-2"),o(be,"class","mb-2 text-sm font-medium"),o(Ee,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(Je,"class","dark:border-gray-850"),o(fe,"class","text-sm font-medium mb-1"),o(Ce,"class","self-center text-xs font-medium"),ht.__value="",ee(ht,ht.__value),Ye.__value="tika",ee(Ye,Ye.__value),o(we,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),s[10]===void 0&&Ll(()=>s[47].call(we)),o(re,"class","flex items-center relative"),o(He,"class","flex w-full justify-between"),o(ye,"class",""),o(We,"class","dark:border-gray-850"),o(ot,"class","text-sm font-medium mb-1"),o(Le,"class","text-xs font-medium"),o(oe,"class","flex justify-between items-center text-xs"),o(et,"class",""),o(qt,"class","dark:border-gray-850"),o(Nt,"class","text-sm font-medium mb-1"),o(_t,"class","text-xs font-medium w-full"),o(Ze,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Ze,"type","number"),o(Ze,"placeholder",Be=s[23].t("Enter Top K")),o(Ze,"autocomplete","off"),o(Ze,"min","0"),o(Et,"class","w-full"),o(xe,"class","flex flex-col w-full gap-1"),o(pt,"class","flex gap-1.5"),o(tl,"class","mb-1 text-xs font-medium"),o(rl,"class","mt-2"),o(Rt,"class",""),o(cl,"class","dark:border-gray-850"),o(dl,"class","mb-1 text-sm font-medium"),o(Ft,"class","self-center text-xs font-medium"),Wt.__value="",ee(Wt,Wt.__value),vl.__value="token",ee(vl,vl.__value),o(fl,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 text-xs bg-transparent outline-none text-right"),s[13]===void 0&&Ll(()=>s[54].call(fl)),o(Ul,"class","flex items-center relative"),o(pl,"class","flex w-full justify-between mb-1.5"),o(ss,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Sl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Sl,"type","number"),o(Sl,"placeholder",cs=s[23].t("Enter Chunk Size")),o(Sl,"autocomplete","off"),o(Sl,"min","0"),o(as,"class","self-center"),o(ts,"class","w-full justify-between"),o(rs,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Cl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Cl,"type","number"),o(Cl,"placeholder",_s=s[23].t("Enter Chunk Overlap")),o(Cl,"autocomplete","off"),o(Cl,"min","0"),o(Gl,"class","self-center"),o(jl,"class","w-full"),o(Al,"class","flex gap-1.5"),o(ns,"class","text-xs font-medium"),o(zl,"class","flex justify-between items-center text-xs"),o(Yl,"class","my-2"),o(yt,"class",""),o(ka,"class","dark:border-gray-850"),o(Fs,"class","text-sm font-medium mb-1"),o(Ws,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Ys,"class","self-center"),o(Ns,"class","w-full"),o(zs,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Qs,"class","self-center"),o(Os,"class","w-full"),o(Ss,"class","flex gap-1.5"),o(Vs,"class",""),o(Aa,"class","dark:border-gray-850"),o(Gs,"class","self-center mr-3"),o(Js,"class","self-center text-sm font-medium"),o(ks,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(ks,"type","button"),o(Ks,"class","self-center mr-3"),o(Xs,"class","self-center text-sm font-medium"),o(Is,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(Is,"type","button"),o(u,"class","space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5"),o(Zs,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(Zs,"type","submit"),o(xs,"class","flex justify-end pt-3 text-sm font-medium"),o(f,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Se,nt){he(e,Se,nt),O(Se,l,nt),he(a,Se,nt),O(Se,r,nt),O(Se,f,nt),n(f,u),n(u,h),n(h,b),n(b,m),n(h,g),n(h,E),n(E,w),n(w,I),n(E,y),n(E,T),n(T,$),n($,S),n(S,V),n($,C),n(C,U),n($,Z),n(Z,M),Xt($,s[4],!0),n(h,j),~G&&Ps[G].m(h,null),n(h,z),Ql&&Ql.m(h,null),n(h,x),n(h,te),n(te,Y),n(Y,X),n(te,F),n(te,J),gs.m(J,null),n(u,ae),n(u,ue),n(u,ne),n(u,De),n(u,ge),n(u,Pe),n(Pe,be),n(be,$e),n(Pe,ie),bs.m(Pe,null),n(Pe,le),n(Pe,Ee),n(Ee,ke),n(Pe,Ie),Jl&&Jl.m(Pe,null),n(u,Qe),n(u,Je),n(u,ve),n(u,ye),n(ye,fe),n(fe,Oe),n(ye,Me),n(ye,He),n(He,Ce),n(Ce,je),n(He,$t),n(He,re),n(re,we),n(we,ht),n(ht,gt),n(ht,Ke),n(we,Ye),n(Ye,Ut),Xt(we,s[10],!0),n(ye,At),Xl&&Xl.m(ye,null),n(u,Ae),n(u,We),n(u,bt),n(u,ot),n(ot,rt),n(u,lt),n(u,et),n(et,oe),n(oe,Le),n(Le,Xe),n(oe,Ot),n(oe,wt),he(it,wt,null),n(u,zt),n(u,qt),n(u,Dt),n(u,Rt),n(Rt,Nt),n(Nt,Te),n(Rt,Ne),n(Rt,pt),n(pt,xe),n(xe,_t),n(_t,Lt),n(xe,Bt),n(xe,Et),n(Et,Ze),ee(Ze,s[22].k),n(pt,tt),xl&&xl.m(pt,null),n(Rt,kt),es&&es.m(Rt,null),n(Rt,Mt),n(Rt,rl),n(rl,tl),n(tl,ul),n(rl,hl),he(jt,rl,null),n(u,Il),n(u,cl),n(u,il),n(u,yt),n(yt,dl),n(dl,Qt),n(yt,Ml),n(yt,pl),n(pl,Ft),n(Ft,Rl),n(pl,Pl),n(pl,Ul),n(Ul,fl),n(fl,Wt),n(Wt,El),n(Wt,Ve),n(Wt,Fe),n(Wt,qe),n(fl,vl),n(vl,yl),n(vl,Tl),n(vl,Bl),n(vl,Hl),Xt(fl,s[13],!0),n(yt,Ct),n(yt,Al),n(Al,ts),n(ts,ss),n(ss,fs),n(ts,hs),n(ts,as),n(as,Sl),ee(Sl,s[14]),n(Al,ps),n(Al,jl),n(jl,rs),n(rs,ds),n(jl,Ts),n(jl,Gl),n(Gl,Cl),ee(Cl,s[15]),n(yt,As),n(yt,Yl),n(Yl,zl),n(zl,ns),n(ns,ws),n(zl,Ds),n(zl,$l),he(ls,$l,null),n(u,tr),n(u,ka),n(u,lr),n(u,Vs),n(Vs,Fs),n(Fs,Ia),n(Vs,sr),n(Vs,Ss),n(Ss,Ns),n(Ns,Ws),n(Ws,ya),n(Ns,ar),n(Ns,Ys),he(Ms,Ys,null),n(Ss,rr),n(Ss,Os),n(Os,zs),n(zs,Ta),n(Os,nr),n(Os,Qs),he(Ls,Qs,null),n(u,ir),n(u,Aa),n(u,or),n(u,js),n(js,ks),n(ks,Gs),n(ks,ur),n(ks,Js),n(Js,Da),n(js,fr),n(js,Is),n(Is,Ks),n(Is,cr),n(Is,Xs),n(Xs,$a),n(f,dr),n(f,xs),n(xs,Zs),n(Zs,Va),el=!0,_r||(Er=[se($,"change",s[33]),se($,"change",s[34]),se(J,"click",s[41]),se(we,"change",s[47]),se(we,"change",s[48]),se(Ze,"input",s[51]),se(fl,"change",s[54]),se(Sl,"input",s[55]),se(Cl,"input",s[56]),se(ks,"click",s[60]),se(Is,"click",s[61]),se(f,"submit",us(s[62]))],_r=!0)},p(Se,nt){const ll={};!t&&nt[0]&8&&(t=!0,ll.show=Se[3],ut(()=>t=!1)),e.$set(ll);const os={};!i&&nt[0]&4&&(i=!0,os.show=Se[2],ut(()=>i=!1)),a.$set(os),(!el||nt[0]&8388608)&&p!==(p=Se[23].t("General Settings")+"")&&H(m,p),(!el||nt[0]&8388608)&&k!==(k=Se[23].t("Embedding Model Engine")+"")&&H(I,k),(!el||nt[0]&8388608)&&N!==(N=Se[23].t("Default (SentenceTransformers)")+"")&&H(V,N),(!el||nt[0]&8388608)&&R!==(R=Se[23].t("Ollama")+"")&&H(U,R),(!el||nt[0]&8388608)&&B!==(B=Se[23].t("OpenAI")+"")&&H(M,B),nt[0]&16&&Xt($,Se[4]);let ea=G;G=yr(Se),G===ea?~G&&Ps[G].p(Se,nt):(W&&(Vt(),q(Ps[ea],1,1,()=>{Ps[ea]=null}),St()),~G?(W=Ps[G],W?W.p(Se,nt):(W=Ps[G]=Ir[G](Se),W.c()),K(W,1),W.m(h,z)):W=null),Se[4]==="ollama"||Se[4]==="openai"?Ql?Ql.p(Se,nt):(Ql=po(Se),Ql.c(),Ql.m(h,x)):Ql&&(Ql.d(1),Ql=null),(!el||nt[0]&8388608)&&Q!==(Q=Se[23].t("Hybrid Search")+"")&&H(X,Q),Sa===(Sa=Tr(Se))&&gs?gs.p(Se,nt):(gs.d(1),gs=Sa(Se),gs&&(gs.c(),gs.m(J,null))),(!el||nt[0]&8388608)&&Re!==(Re=Se[23].t("Embedding Model")+"")&&H($e,Re),Na===(Na=Ar(Se))&&bs?bs.p(Se,nt):(bs.d(1),bs=Na(Se),bs&&(bs.c(),bs.m(Pe,le))),(!el||nt[0]&8388608)&&ce!==(ce=Se[23].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&H(ke,ce),Se[22].hybrid===!0?Jl?Jl.p(Se,nt):(Jl=mo(Se),Jl.c(),Jl.m(Pe,null)):Jl&&(Jl.d(1),Jl=null),(!el||nt[0]&8388608)&&me!==(me=Se[23].t("Content Extraction")+"")&&H(Oe,me),(!el||nt[0]&8388608)&&Ge!==(Ge=Se[23].t("Engine")+"")&&H(je,Ge),(!el||nt[0]&8388608)&&mt!==(mt=Se[23].t("Default")+"")&&H(gt,mt),(!el||nt[0]&8388608)&&ct!==(ct=Se[23].t("Tika")+"")&&H(Ut,ct),nt[0]&1024&&Xt(we,Se[10]),Se[12]?Xl?Xl.p(Se,nt):(Xl=go(Se),Xl.c(),Xl.m(ye,null)):Xl&&(Xl.d(1),Xl=null),(!el||nt[0]&8388608)&&dt!==(dt=Se[23].t("Google Drive")+"")&&H(rt,dt),(!el||nt[0]&8388608)&&Tt!==(Tt=Se[23].t("Enable Google Drive")+"")&&H(Xe,Tt);const qs={};!Pt&&nt[0]&131072&&(Pt=!0,qs.state=Se[17],ut(()=>Pt=!1)),it.$set(qs),(!el||nt[0]&8388608)&&Ue!==(Ue=Se[23].t("Query Params")+"")&&H(Te,Ue),(!el||nt[0]&8388608)&&Kt!==(Kt=Se[23].t("Top K")+"")&&H(Lt,Kt),(!el||nt[0]&8388608&&Be!==(Be=Se[23].t("Enter Top K")))&&o(Ze,"placeholder",Be),nt[0]&4194304&&Zl(Ze.value)!==Se[22].k&&ee(Ze,Se[22].k),Se[22].hybrid===!0?xl?xl.p(Se,nt):(xl=bo(Se),xl.c(),xl.m(pt,null)):xl&&(xl.d(1),xl=null),Se[22].hybrid===!0?es?es.p(Se,nt):(es=Eo(Se),es.c(),es.m(Rt,Mt)):es&&(es.d(1),es=null),(!el||nt[0]&8388608)&&Ht!==(Ht=Se[23].t("RAG Template")+"")&&H(ul,Ht);const ta={};nt[0]&8388608&&(ta.content=Se[23].t("Leave empty to use the default prompt, or enter a custom prompt")),nt[0]&12582912|nt[2]&16&&(ta.$$scope={dirty:nt,ctx:Se}),jt.$set(ta),(!el||nt[0]&8388608)&&Yt!==(Yt=Se[23].t("Chunk Params")+"")&&H(Qt,Yt),(!el||nt[0]&8388608)&&Jt!==(Jt=Se[23].t("Text Splitter")+"")&&H(Rl,Jt),(!el||nt[0]&8388608)&&Wl!==(Wl=Se[23].t("Default")+"")&&H(El,Wl),(!el||nt[0]&8388608)&&st!==(st=Se[23].t("Character")+"")&&H(Fe,st),(!el||nt[0]&8388608)&&wl!==(wl=Se[23].t("Token")+"")&&H(yl,wl),(!el||nt[0]&8388608)&&Kl!==(Kl=Se[23].t("Tiktoken")+"")&&H(Bl,Kl),nt[0]&8192&&Xt(fl,Se[13]),(!el||nt[0]&8388608)&&is!==(is=Se[23].t("Chunk Size")+"")&&H(fs,is),(!el||nt[0]&8388608&&cs!==(cs=Se[23].t("Enter Chunk Size")))&&o(Sl,"placeholder",cs),nt[0]&16384&&Zl(Sl.value)!==Se[14]&&ee(Sl,Se[14]),(!el||nt[0]&8388608)&&vs!==(vs=Se[23].t("Chunk Overlap")+"")&&H(ds,vs),(!el||nt[0]&8388608&&_s!==(_s=Se[23].t("Enter Chunk Overlap")))&&o(Cl,"placeholder",_s),nt[0]&32768&&Zl(Cl.value)!==Se[15]&&ee(Cl,Se[15]),(!el||nt[0]&8388608)&&ms!==(ms=Se[23].t("PDF Extract Images (OCR)")+"")&&H(ws,ms);const pa={};!er&&nt[0]&65536&&(er=!0,pa.state=Se[16],ut(()=>er=!1)),ls.$set(pa),(!el||nt[0]&8388608)&&ua!==(ua=Se[23].t("Files")+"")&&H(Ia,ua),(!el||nt[0]&8388608)&&fa!==(fa=Se[23].t("Max Upload Size")+"")&&H(ya,fa);const Us={};nt[0]&8388608&&(Us.content=Se[23].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded.")),nt[0]&8388864|nt[2]&16&&(Us.$$scope={dirty:nt,ctx:Se}),Ms.$set(Us),(!el||nt[0]&8388608)&&ca!==(ca=Se[23].t("Max Upload Count")+"")&&H(Ta,ca);const la={};nt[0]&8388608&&(la.content=Se[23].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded.")),nt[0]&8389120|nt[2]&16&&(la.$$scope={dirty:nt,ctx:Se}),Ls.$set(la),(!el||nt[0]&8388608)&&da!==(da=Se[23].t("Reset Upload Directory")+"")&&H(Da,da),(!el||nt[0]&8388608)&&_a!==(_a=Se[23].t("Reset Vector Storage/Knowledge")+"")&&H($a,_a),(!el||nt[0]&8388608)&&ha!==(ha=Se[23].t("Save")+"")&&H(Va,ha)},i(Se){el||(K(e.$$.fragment,Se),K(a.$$.fragment,Se),K(W),K(it.$$.fragment,Se),K(jt.$$.fragment,Se),K(ls.$$.fragment,Se),K(Ms.$$.fragment,Se),K(Ls.$$.fragment,Se),el=!0)},o(Se){q(e.$$.fragment,Se),q(a.$$.fragment,Se),q(W),q(it.$$.fragment,Se),q(jt.$$.fragment,Se),q(ls.$$.fragment,Se),q(Ms.$$.fragment,Se),q(Ls.$$.fragment,Se),el=!1},d(Se){Se&&(c(l),c(r),c(f)),pe(e,Se),pe(a,Se),~G&&Ps[G].d(),Ql&&Ql.d(),gs.d(),bs.d(),Jl&&Jl.d(),Xl&&Xl.d(),pe(it),xl&&xl.d(),es&&es.d(),pe(jt),pe(ls),pe(Ms),pe(Ls),_r=!1,ol(Er)}}}function C1(s,e,t){let l;const a=ys(),i=Dl("i18n");nl(s,i,re=>t(23,l=re));let r=!1,f=!1,u=!1,h=!1,b="",p="",m=1,g="",E=null,w=null,k="default",I="",y=!1,T="",$=0,S=0,N=!0,V=!1,C="",R="",U="",Z="",B={template:"",r:0,k:4,hybrid:!1};const M=async()=>{if(b===""&&p.split("/").length-1>1){ze.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(b==="ollama"&&p===""){ze.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(b==="openai"&&p===""){ze.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(b==="openai"&&R===""||C===""){ze.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",p),t(0,r=!0);const re=await ef(localStorage.token,{embedding_engine:b,embedding_model:p,embedding_batch_size:m,ollama_config:{key:Z,url:U},openai_config:{key:R,url:C}}).catch(async we=>(ze.error(`${we}`),await W(),null));t(0,r=!1),re&&(console.log("embeddingModelUpdateHandler:",re),re.status===!0&&ze.success(l.t('Embedding model set to "{{embedding_model}}"',re),{duration:1e3*10}))},j=async()=>{console.log("Update reranking model attempt:",g),t(1,f=!0);const re=await Qu(localStorage.token,{reranking_model:g}).catch(async we=>(ze.error(`${we}`),await z(),null));t(1,f=!1),re&&(console.log("rerankingModelUpdateHandler:",re),re.status===!0&&(g===""?ze.success(l.t("Reranking model disabled",re),{duration:1e3*10}):ze.success(l.t('Reranking model set to "{{reranking_model}}"',re),{duration:1e3*10})))},G=async()=>{if(await M(),B.hybrid&&await j(),k==="tika"&&I===""){ze.error(l.t("Tika Server URL required."));return}await Go(localStorage.token,{pdf_extract_images:N,enable_google_drive_integration:V,file:{max_size:E===""?null:E,max_count:w===""?null:w},chunk:{text_splitter:T,chunk_overlap:S,chunk_size:$},content_extraction:{engine:k,tika_server_url:I}}),await En(localStorage.token,B),a("save")},W=async()=>{const re=await Ju(localStorage.token);re&&(t(4,b=re.embedding_engine),t(5,p=re.embedding_model),t(6,m=re.embedding_batch_size??1),t(19,R=re.openai_config.key),t(18,C=re.openai_config.url),t(21,Z=re.ollama_config.key),t(20,U=re.ollama_config.url))},z=async()=>{const re=await Xu(localStorage.token);re&&t(7,g=re.reranking_model)},x=async()=>{t(22,B.hybrid=!B.hybrid,B),t(22,B=await En(localStorage.token,B))};Fl(async()=>{await W(),await z(),t(22,B=await zu(localStorage.token));const re=await jo(localStorage.token);re&&(t(16,N=re.pdf_extract_images),t(13,T=re.chunk.text_splitter),t(14,$=re.chunk.chunk_size),t(15,S=re.chunk.chunk_overlap),t(10,k=re.content_extraction.engine),t(11,I=re.content_extraction.tika_server_url),t(12,y=k==="tika"),t(8,E=(re==null?void 0:re.file.max_size)??""),t(9,w=(re==null?void 0:re.file.max_count)??""),t(17,V=re.enable_google_drive_integration))});function te(re){h=re,t(3,h)}const Y=async()=>{await tf(localStorage.token).catch(we=>(ze.error(`${we}`),null))&&ze.success(l.t("Success"))};function Q(re){u=re,t(2,u)}const X=()=>{xu(localStorage.token).catch(we=>(ze.error(`${we}`),null))&&ze.success(l.t("Success"))};function F(){b=Ol(this),t(4,b)}const J=re=>{re.target.value==="ollama"?t(5,p=""):re.target.value==="openai"?t(5,p="text-embedding-3-small"):re.target.value===""&&t(5,p="sentence-transformers/all-MiniLM-L6-v2")};function ae(){C=this.value,t(18,C)}function ue(re){R=re,t(19,R)}function ne(){U=this.value,t(20,U)}function De(re){Z=re,t(21,Z)}function ge(){m=Zl(this.value),t(6,m)}function Pe(){m=Zl(this.value),t(6,m)}const be=()=>{x()};function Re(){p=this.value,t(5,p)}function $e(){p=this.value,t(5,p)}const ie=()=>{M()};function le(){g=this.value,t(7,g)}const Ee=()=>{j()};function ce(){k=Ol(this),t(10,k)}const ke=re=>{t(12,y=re.target.value==="tika")};function Ie(){I=this.value,t(11,I)}function Qe(re){V=re,t(17,V)}function Je(){B.k=Zl(this.value),t(22,B)}function ve(){B.r=Zl(this.value),t(22,B)}function ye(re){s.$$.not_equal(B.template,re)&&(B.template=re,t(22,B))}function fe(){T=Ol(this),t(13,T)}function me(){$=Zl(this.value),t(14,$)}function Oe(){S=Zl(this.value),t(15,S)}function Me(re){N=re,t(16,N)}function He(){E=Zl(this.value),t(8,E)}function Ce(){w=Zl(this.value),t(9,w)}return[r,f,u,h,b,p,m,g,E,w,k,I,y,T,$,S,N,V,C,R,U,Z,B,l,i,M,j,G,x,te,Y,Q,X,F,J,ae,ue,ne,De,ge,Pe,be,Re,$e,ie,le,Ee,ce,ke,Ie,Qe,Je,ve,ye,fe,me,Oe,Me,He,Ce,()=>{t(3,h=!0)},()=>{t(2,u=!0)},()=>{G()}]}class R1 extends gl{constructor(e){super(),bl(this,e,C1,U1,ml,{},null,[-1,-1,-1])}}function wo(s,e,t){const l=s.slice();return l[33]=e[t],l}function ko(s){let e,t,l=s[4].t("Web Search")+"",a,i,r,f,u,h=s[4].t("Enable Web Search")+"",b,p,m,g,E,w,k,I=s[4].t("Web Search Engine")+"",y,T,$,S,N,V=s[4].t("Select a engine")+"",C,R,U,Z,B,M,j,G,W,z=s[4].t("Web Loader Settings")+"",x,te,Y,Q,X,F=s[4].t("Bypass SSL verification for Websites")+"",J,ae,ue,ne,De,ge=s[4].t("Youtube Loader Settings")+"",Pe,be,Re,$e,ie,le=s[4].t("Language")+"",Ee,ce,ke,Ie,Qe,Je,ve,ye,fe,me=s[4].t("Proxy URL")+"",Oe,Me,He,Ce,Ge,je,$t,re;function we(Ae){s[8](Ae)}let ht={};s[1].search.enabled!==void 0&&(ht.state=s[1].search.enabled),m=new kl({props:ht}),at.push(()=>ft(m,"state",we));let mt=It(s[6]),gt=[];for(let Ae=0;Ae<mt.length;Ae+=1)gt[Ae]=Io(wo(s,mt,Ae));let Ke=s[1].search.engine!==""&&yo(s),Ye=s[1].search.enabled&&To(s);function ct(Ae,We){return Ae[1].web_loader_ssl_verification===!1?x1:X1}let Ut=ct(s),At=Ut(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("div"),b=L(h),p=A(),de(m.$$.fragment),E=A(),w=d("div"),k=d("div"),y=L(I),T=A(),$=d("div"),S=d("select"),N=d("option"),C=L(V);for(let Ae=0;Ae<gt.length;Ae+=1)gt[Ae].c();U=A(),Ke&&Ke.c(),Z=A(),Ye&&Ye.c(),B=A(),M=d("hr"),j=A(),G=d("div"),W=d("div"),x=L(z),te=A(),Y=d("div"),Q=d("div"),X=d("div"),J=L(F),ae=A(),ue=d("button"),At.c(),ne=A(),De=d("div"),Pe=L(ge),be=A(),Re=d("div"),$e=d("div"),ie=d("div"),Ee=L(le),ce=A(),ke=d("div"),Ie=d("input"),Je=A(),ve=d("div"),ye=d("div"),fe=d("div"),Oe=L(me),Me=A(),He=d("div"),Ce=d("input"),this.h()},l(Ae){e=_(Ae,"DIV",{});var We=v(e);t=_(We,"DIV",{class:!0});var bt=v(t);a=P(bt,l),bt.forEach(c),i=D(We),r=_(We,"DIV",{});var ot=v(r);f=_(ot,"DIV",{class:!0});var dt=v(f);u=_(dt,"DIV",{class:!0});var rt=v(u);b=P(rt,h),rt.forEach(c),p=D(dt),_e(m.$$.fragment,dt),dt.forEach(c),ot.forEach(c),E=D(We),w=_(We,"DIV",{class:!0});var lt=v(w);k=_(lt,"DIV",{class:!0});var et=v(k);y=P(et,I),et.forEach(c),T=D(lt),$=_(lt,"DIV",{class:!0});var oe=v($);S=_(oe,"SELECT",{class:!0,placeholder:!0});var Le=v(S);N=_(Le,"OPTION",{});var Tt=v(N);C=P(Tt,V),Tt.forEach(c);for(let _t=0;_t<gt.length;_t+=1)gt[_t].l(Le);Le.forEach(c),oe.forEach(c),lt.forEach(c),U=D(We),Ke&&Ke.l(We),Z=D(We),Ye&&Ye.l(We),We.forEach(c),B=D(Ae),M=_(Ae,"HR",{class:!0}),j=D(Ae),G=_(Ae,"DIV",{});var Xe=v(G);W=_(Xe,"DIV",{class:!0});var Ot=v(W);x=P(Ot,z),Ot.forEach(c),te=D(Xe),Y=_(Xe,"DIV",{});var wt=v(Y);Q=_(wt,"DIV",{class:!0});var it=v(Q);X=_(it,"DIV",{class:!0});var Pt=v(X);J=P(Pt,F),Pt.forEach(c),ae=D(it),ue=_(it,"BUTTON",{class:!0,type:!0});var zt=v(ue);At.l(zt),zt.forEach(c),it.forEach(c),wt.forEach(c),ne=D(Xe),De=_(Xe,"DIV",{class:!0});var qt=v(De);Pe=P(qt,ge),qt.forEach(c),be=D(Xe),Re=_(Xe,"DIV",{});var Dt=v(Re);$e=_(Dt,"DIV",{class:!0});var Rt=v($e);ie=_(Rt,"DIV",{class:!0});var Nt=v(ie);Ee=P(Nt,le),Nt.forEach(c),ce=D(Rt),ke=_(Rt,"DIV",{class:!0});var Ue=v(ke);Ie=_(Ue,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ue.forEach(c),Rt.forEach(c),Dt.forEach(c),Je=D(Xe),ve=_(Xe,"DIV",{});var Te=v(ve);ye=_(Te,"DIV",{class:!0});var Ne=v(ye);fe=_(Ne,"DIV",{class:!0});var pt=v(fe);Oe=P(pt,me),pt.forEach(c),Me=D(Ne),He=_(Ne,"DIV",{class:!0});var xe=v(He);Ce=_(xe,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),xe.forEach(c),Ne.forEach(c),Te.forEach(c),Xe.forEach(c),this.h()},h(){o(t,"class","mb-1 text-sm font-medium"),o(u,"class","self-center text-xs font-medium"),o(f,"class","py-0.5 flex w-full justify-between"),o(k,"class","self-center text-xs font-medium"),N.disabled=!0,N.selected=!0,N.__value="",ee(N,N.__value),o(S,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(S,"placeholder",R=s[4].t("Select a engine")),S.required=!0,s[1].search.engine===void 0&&Ll(()=>s[9].call(S)),o($,"class","flex items-center relative"),o(w,"class","py-0.5 flex w-full justify-between"),o(M,"class","dark:border-gray-850 my-2"),o(W,"class","mb-1 text-sm font-medium"),o(X,"class","self-center text-xs font-medium"),o(ue,"class","p-1 px-3 text-xs flex rounded transition"),o(ue,"type","button"),o(Q,"class","py-0.5 flex w-full justify-between"),o(De,"class","mt-2 mb-1 text-sm font-medium"),o(ie,"class","w-20 text-xs font-medium self-center"),o(Ie,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Ie,"type","text"),o(Ie,"placeholder",Qe=s[4].t("Enter language codes")),o(Ie,"autocomplete","off"),o(ke,"class","flex-1 self-center"),o($e,"class","py-0.5 flex w-full justify-between"),o(fe,"class","w-20 text-xs font-medium self-center"),o(Ce,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Ce,"type","text"),o(Ce,"placeholder",Ge=s[4].t("Enter proxy URL (e.g. https://user:password@host:port)")),o(Ce,"autocomplete","off"),o(He,"class","flex-1 self-center"),o(ye,"class","py-0.5 flex w-full justify-between")},m(Ae,We){O(Ae,e,We),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),n(u,b),n(f,p),he(m,f,null),n(e,E),n(e,w),n(w,k),n(k,y),n(w,T),n(w,$),n($,S),n(S,N),n(N,C);for(let bt=0;bt<gt.length;bt+=1)gt[bt]&&gt[bt].m(S,null);Xt(S,s[1].search.engine,!0),n(e,U),Ke&&Ke.m(e,null),n(e,Z),Ye&&Ye.m(e,null),O(Ae,B,We),O(Ae,M,We),O(Ae,j,We),O(Ae,G,We),n(G,W),n(W,x),n(G,te),n(G,Y),n(Y,Q),n(Q,X),n(X,J),n(Q,ae),n(Q,ue),At.m(ue,null),n(G,ne),n(G,De),n(De,Pe),n(G,be),n(G,Re),n(Re,$e),n($e,ie),n(ie,Ee),n($e,ce),n($e,ke),n(ke,Ie),ee(Ie,s[2]),n(G,Je),n(G,ve),n(ve,ye),n(ye,fe),n(fe,Oe),n(ye,Me),n(ye,He),n(He,Ce),ee(Ce,s[3]),je=!0,$t||(re=[se(S,"change",s[9]),se(ue,"click",s[28]),se(Ie,"input",s[29]),se(Ce,"input",s[30])],$t=!0)},p(Ae,We){(!je||We[0]&16)&&l!==(l=Ae[4].t("Web Search")+"")&&H(a,l),(!je||We[0]&16)&&h!==(h=Ae[4].t("Enable Web Search")+"")&&H(b,h);const bt={};if(!g&&We[0]&2&&(g=!0,bt.state=Ae[1].search.enabled,ut(()=>g=!1)),m.$set(bt),(!je||We[0]&16)&&I!==(I=Ae[4].t("Web Search Engine")+"")&&H(y,I),(!je||We[0]&16)&&V!==(V=Ae[4].t("Select a engine")+"")&&H(C,V),We[0]&64){mt=It(Ae[6]);let ot;for(ot=0;ot<mt.length;ot+=1){const dt=wo(Ae,mt,ot);gt[ot]?gt[ot].p(dt,We):(gt[ot]=Io(dt),gt[ot].c(),gt[ot].m(S,null))}for(;ot<gt.length;ot+=1)gt[ot].d(1);gt.length=mt.length}(!je||We[0]&16&&R!==(R=Ae[4].t("Select a engine")))&&o(S,"placeholder",R),We[0]&66&&Xt(S,Ae[1].search.engine),Ae[1].search.engine!==""?Ke?(Ke.p(Ae,We),We[0]&2&&K(Ke,1)):(Ke=yo(Ae),Ke.c(),K(Ke,1),Ke.m(e,Z)):Ke&&(Vt(),q(Ke,1,1,()=>{Ke=null}),St()),Ae[1].search.enabled?Ye?Ye.p(Ae,We):(Ye=To(Ae),Ye.c(),Ye.m(e,null)):Ye&&(Ye.d(1),Ye=null),(!je||We[0]&16)&&z!==(z=Ae[4].t("Web Loader Settings")+"")&&H(x,z),(!je||We[0]&16)&&F!==(F=Ae[4].t("Bypass SSL verification for Websites")+"")&&H(J,F),Ut===(Ut=ct(Ae))&&At?At.p(Ae,We):(At.d(1),At=Ut(Ae),At&&(At.c(),At.m(ue,null))),(!je||We[0]&16)&&ge!==(ge=Ae[4].t("Youtube Loader Settings")+"")&&H(Pe,ge),(!je||We[0]&16)&&le!==(le=Ae[4].t("Language")+"")&&H(Ee,le),(!je||We[0]&16&&Qe!==(Qe=Ae[4].t("Enter language codes")))&&o(Ie,"placeholder",Qe),We[0]&4&&Ie.value!==Ae[2]&&ee(Ie,Ae[2]),(!je||We[0]&16)&&me!==(me=Ae[4].t("Proxy URL")+"")&&H(Oe,me),(!je||We[0]&16&&Ge!==(Ge=Ae[4].t("Enter proxy URL (e.g. https://user:password@host:port)")))&&o(Ce,"placeholder",Ge),We[0]&8&&Ce.value!==Ae[3]&&ee(Ce,Ae[3])},i(Ae){je||(K(m.$$.fragment,Ae),K(Ke),je=!0)},o(Ae){q(m.$$.fragment,Ae),q(Ke),je=!1},d(Ae){Ae&&(c(e),c(B),c(M),c(j),c(G)),pe(m),_l(gt,Ae),Ke&&Ke.d(),Ye&&Ye.d(),At.d(),$t=!1,ol(re)}}}function Io(s){let e,t=s[33]+"",l;return{c(){e=d("option"),l=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){e.__value=s[33],ee(e,e.__value)},m(a,i){O(a,e,i),n(e,l)},p:vt,d(a){a&&c(e)}}}function yo(s){let e,t,l,a;const i=[J1,Q1,z1,Y1,W1,F1,q1,Z1,K1,G1,j1,H1,B1],r=[];function f(u,h){return u[1].search.engine==="searxng"?0:u[1].search.engine==="google_pse"?1:u[1].search.engine==="brave"?2:u[1].search.engine==="kagi"?3:u[1].search.engine==="mojeek"?4:u[1].search.engine==="serpstack"?5:u[1].search.engine==="serper"?6:u[1].search.engine==="serply"?7:u[1].search.engine==="searchapi"?8:u[1].search.engine==="tavily"?9:u[1].search.engine==="jina"?10:u[1].search.engine==="exa"?11:u[1].search.engine==="bing"?12:-1}return~(t=f(s))&&(l=r[t]=i[t](s)),{c(){e=d("div"),l&&l.c(),this.h()},l(u){e=_(u,"DIV",{class:!0});var h=v(e);l&&l.l(h),h.forEach(c),this.h()},h(){o(e,"class","mt-1.5")},m(u,h){O(u,e,h),~t&&r[t].m(e,null),a=!0},p(u,h){let b=t;t=f(u),t===b?~t&&r[t].p(u,h):(l&&(Vt(),q(r[b],1,1,()=>{r[b]=null}),St()),~t?(l=r[t],l?l.p(u,h):(l=r[t]=i[t](u),l.c()),K(l,1),l.m(e,null)):l=null)},i(u){a||(K(l),a=!0)},o(u){q(l),a=!1},d(u){u&&c(e),~t&&r[t].d()}}}function B1(s){let e,t,l=s[4].t("Bing Search V7 Endpoint")+"",a,i,r,f,u,h,b,p,m,g=s[4].t("Bing Search V7 Subscription Key")+"",E,w,k,I,y,T,$;function S(V){s[25](V)}let N={placeholder:s[4].t("Enter Bing Search V7 Subscription Key")};return s[1].search.bing_search_v7_subscription_key!==void 0&&(N.value=s[1].search.bing_search_v7_subscription_key),k=new Vl({props:N}),at.push(()=>ft(k,"value",S)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),b=A(),p=d("div"),m=d("div"),E=L(g),w=A(),de(k.$$.fragment),this.h()},l(V){e=_(V,"DIV",{});var C=v(e);t=_(C,"DIV",{class:!0});var R=v(t);a=P(R,l),R.forEach(c),i=D(C),r=_(C,"DIV",{class:!0});var U=v(r);f=_(U,"DIV",{class:!0});var Z=v(f);u=_(Z,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Z.forEach(c),U.forEach(c),C.forEach(c),b=D(V),p=_(V,"DIV",{class:!0});var B=v(p);m=_(B,"DIV",{class:!0});var M=v(m);E=P(M,g),M.forEach(c),w=D(B),_e(k.$$.fragment,B),B.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"type","text"),o(u,"placeholder",h=s[4].t("Enter Bing Search V7 Endpoint")),o(u,"autocomplete","off"),o(f,"class","flex-1"),o(r,"class","flex w-full"),o(m,"class","self-center text-xs font-medium mb-1"),o(p,"class","mt-2")},m(V,C){O(V,e,C),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[1].search.bing_search_v7_endpoint),O(V,b,C),O(V,p,C),n(p,m),n(m,E),n(p,w),he(k,p,null),y=!0,T||($=se(u,"input",s[24]),T=!0)},p(V,C){(!y||C[0]&16)&&l!==(l=V[4].t("Bing Search V7 Endpoint")+"")&&H(a,l),(!y||C[0]&16&&h!==(h=V[4].t("Enter Bing Search V7 Endpoint")))&&o(u,"placeholder",h),C[0]&66&&u.value!==V[1].search.bing_search_v7_endpoint&&ee(u,V[1].search.bing_search_v7_endpoint),(!y||C[0]&16)&&g!==(g=V[4].t("Bing Search V7 Subscription Key")+"")&&H(E,g);const R={};C[0]&16&&(R.placeholder=V[4].t("Enter Bing Search V7 Subscription Key")),!I&&C[0]&2&&(I=!0,R.value=V[1].search.bing_search_v7_subscription_key,ut(()=>I=!1)),k.$set(R)},i(V){y||(K(k.$$.fragment,V),y=!0)},o(V){q(k.$$.fragment,V),y=!1},d(V){V&&(c(e),c(b),c(p)),pe(k),T=!1,$()}}}function H1(s){let e,t,l=s[4].t("Exa API Key")+"",a,i,r,f,u;function h(p){s[23](p)}let b={placeholder:s[4].t("Enter Exa API Key")};return s[1].search.exa_api_key!==void 0&&(b.value=s[1].search.exa_api_key),r=new Vl({props:b}),at.push(()=>ft(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=P(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Exa API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Exa API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.exa_api_key,ut(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){q(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function j1(s){let e,t,l=s[4].t("Jina API Key")+"",a,i,r,f,u;function h(p){s[22](p)}let b={placeholder:s[4].t("Enter Jina API Key")};return s[1].search.jina_api_key!==void 0&&(b.value=s[1].search.jina_api_key),r=new Vl({props:b}),at.push(()=>ft(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=P(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Jina API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Jina API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.jina_api_key,ut(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){q(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function G1(s){let e,t,l=s[4].t("Tavily API Key")+"",a,i,r,f,u;function h(p){s[21](p)}let b={placeholder:s[4].t("Enter Tavily API Key")};return s[1].search.tavily_api_key!==void 0&&(b.value=s[1].search.tavily_api_key),r=new Vl({props:b}),at.push(()=>ft(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=P(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Tavily API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Tavily API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.tavily_api_key,ut(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){q(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function K1(s){let e,t,l=s[4].t("SearchApi API Key")+"",a,i,r,f,u,h,b,p=s[4].t("SearchApi Engine")+"",m,g,E,w,k,I,y,T,$;function S(V){s[19](V)}let N={placeholder:s[4].t("Enter SearchApi API Key")};return s[1].search.searchapi_api_key!==void 0&&(N.value=s[1].search.searchapi_api_key),r=new Vl({props:N}),at.push(()=>ft(r,"value",S)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),u=A(),h=d("div"),b=d("div"),m=L(p),g=A(),E=d("div"),w=d("div"),k=d("input"),this.h()},l(V){e=_(V,"DIV",{});var C=v(e);t=_(C,"DIV",{class:!0});var R=v(t);a=P(R,l),R.forEach(c),i=D(C),_e(r.$$.fragment,C),C.forEach(c),u=D(V),h=_(V,"DIV",{class:!0});var U=v(h);b=_(U,"DIV",{class:!0});var Z=v(b);m=P(Z,p),Z.forEach(c),g=D(U),E=_(U,"DIV",{class:!0});var B=v(E);w=_(B,"DIV",{class:!0});var M=v(w);k=_(M,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),M.forEach(c),B.forEach(c),U.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(b,"class","self-center text-xs font-medium mb-1"),o(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(k,"type","text"),o(k,"placeholder",I=s[4].t("Enter SearchApi Engine")),o(k,"autocomplete","off"),o(w,"class","flex-1"),o(E,"class","flex w-full"),o(h,"class","mt-1.5")},m(V,C){O(V,e,C),n(e,t),n(t,a),n(e,i),he(r,e,null),O(V,u,C),O(V,h,C),n(h,b),n(b,m),n(h,g),n(h,E),n(E,w),n(w,k),ee(k,s[1].search.searchapi_engine),y=!0,T||($=se(k,"input",s[20]),T=!0)},p(V,C){(!y||C[0]&16)&&l!==(l=V[4].t("SearchApi API Key")+"")&&H(a,l);const R={};C[0]&16&&(R.placeholder=V[4].t("Enter SearchApi API Key")),!f&&C[0]&2&&(f=!0,R.value=V[1].search.searchapi_api_key,ut(()=>f=!1)),r.$set(R),(!y||C[0]&16)&&p!==(p=V[4].t("SearchApi Engine")+"")&&H(m,p),(!y||C[0]&16&&I!==(I=V[4].t("Enter SearchApi Engine")))&&o(k,"placeholder",I),C[0]&66&&k.value!==V[1].search.searchapi_engine&&ee(k,V[1].search.searchapi_engine)},i(V){y||(K(r.$$.fragment,V),y=!0)},o(V){q(r.$$.fragment,V),y=!1},d(V){V&&(c(e),c(u),c(h)),pe(r),T=!1,$()}}}function Z1(s){let e,t,l=s[4].t("Serply API Key")+"",a,i,r,f,u;function h(p){s[18](p)}let b={placeholder:s[4].t("Enter Serply API Key")};return s[1].search.serply_api_key!==void 0&&(b.value=s[1].search.serply_api_key),r=new Vl({props:b}),at.push(()=>ft(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=P(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Serply API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Serply API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.serply_api_key,ut(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){q(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function q1(s){let e,t,l=s[4].t("Serper API Key")+"",a,i,r,f,u;function h(p){s[17](p)}let b={placeholder:s[4].t("Enter Serper API Key")};return s[1].search.serper_api_key!==void 0&&(b.value=s[1].search.serper_api_key),r=new Vl({props:b}),at.push(()=>ft(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=P(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Serper API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Serper API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.serper_api_key,ut(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){q(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function F1(s){let e,t,l=s[4].t("Serpstack API Key")+"",a,i,r,f,u;function h(p){s[16](p)}let b={placeholder:s[4].t("Enter Serpstack API Key")};return s[1].search.serpstack_api_key!==void 0&&(b.value=s[1].search.serpstack_api_key),r=new Vl({props:b}),at.push(()=>ft(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=P(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Serpstack API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Serpstack API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.serpstack_api_key,ut(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){q(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function W1(s){let e,t,l=s[4].t("Mojeek Search API Key")+"",a,i,r,f,u;function h(p){s[15](p)}let b={placeholder:s[4].t("Enter Mojeek Search API Key")};return s[1].search.mojeek_search_api_key!==void 0&&(b.value=s[1].search.mojeek_search_api_key),r=new Vl({props:b}),at.push(()=>ft(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=P(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Mojeek Search API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Mojeek Search API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.mojeek_search_api_key,ut(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){q(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function Y1(s){let e,t,l=s[4].t("Kagi Search API Key")+"",a,i,r,f,u;function h(p){s[14](p)}let b={placeholder:s[4].t("Enter Kagi Search API Key")};return s[1].search.kagi_search_api_key!==void 0&&(b.value=s[1].search.kagi_search_api_key),r=new Vl({props:b}),at.push(()=>ft(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=P(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Kagi Search API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Kagi Search API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.kagi_search_api_key,ut(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){q(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function z1(s){let e,t,l=s[4].t("Brave Search API Key")+"",a,i,r,f,u;function h(p){s[13](p)}let b={placeholder:s[4].t("Enter Brave Search API Key")};return s[1].search.brave_search_api_key!==void 0&&(b.value=s[1].search.brave_search_api_key),r=new Vl({props:b}),at.push(()=>ft(r,"value",h)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),this.h()},l(p){e=_(p,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=P(g,l),g.forEach(c),i=D(m),_e(r.$$.fragment,m),m.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(p,m){O(p,e,m),n(e,t),n(t,a),n(e,i),he(r,e,null),u=!0},p(p,m){(!u||m[0]&16)&&l!==(l=p[4].t("Brave Search API Key")+"")&&H(a,l);const g={};m[0]&16&&(g.placeholder=p[4].t("Enter Brave Search API Key")),!f&&m[0]&2&&(f=!0,g.value=p[1].search.brave_search_api_key,ut(()=>f=!1)),r.$set(g)},i(p){u||(K(r.$$.fragment,p),u=!0)},o(p){q(r.$$.fragment,p),u=!1},d(p){p&&c(e),pe(r)}}}function Q1(s){let e,t,l=s[4].t("Google PSE API Key")+"",a,i,r,f,u,h,b,p=s[4].t("Google PSE Engine Id")+"",m,g,E,w,k,I,y,T,$;function S(V){s[11](V)}let N={placeholder:s[4].t("Enter Google PSE API Key")};return s[1].search.google_pse_api_key!==void 0&&(N.value=s[1].search.google_pse_api_key),r=new Vl({props:N}),at.push(()=>ft(r,"value",S)),{c(){e=d("div"),t=d("div"),a=L(l),i=A(),de(r.$$.fragment),u=A(),h=d("div"),b=d("div"),m=L(p),g=A(),E=d("div"),w=d("div"),k=d("input"),this.h()},l(V){e=_(V,"DIV",{});var C=v(e);t=_(C,"DIV",{class:!0});var R=v(t);a=P(R,l),R.forEach(c),i=D(C),_e(r.$$.fragment,C),C.forEach(c),u=D(V),h=_(V,"DIV",{class:!0});var U=v(h);b=_(U,"DIV",{class:!0});var Z=v(b);m=P(Z,p),Z.forEach(c),g=D(U),E=_(U,"DIV",{class:!0});var B=v(E);w=_(B,"DIV",{class:!0});var M=v(w);k=_(M,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),M.forEach(c),B.forEach(c),U.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(b,"class","self-center text-xs font-medium mb-1"),o(k,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(k,"type","text"),o(k,"placeholder",I=s[4].t("Enter Google PSE Engine Id")),o(k,"autocomplete","off"),o(w,"class","flex-1"),o(E,"class","flex w-full"),o(h,"class","mt-1.5")},m(V,C){O(V,e,C),n(e,t),n(t,a),n(e,i),he(r,e,null),O(V,u,C),O(V,h,C),n(h,b),n(b,m),n(h,g),n(h,E),n(E,w),n(w,k),ee(k,s[1].search.google_pse_engine_id),y=!0,T||($=se(k,"input",s[12]),T=!0)},p(V,C){(!y||C[0]&16)&&l!==(l=V[4].t("Google PSE API Key")+"")&&H(a,l);const R={};C[0]&16&&(R.placeholder=V[4].t("Enter Google PSE API Key")),!f&&C[0]&2&&(f=!0,R.value=V[1].search.google_pse_api_key,ut(()=>f=!1)),r.$set(R),(!y||C[0]&16)&&p!==(p=V[4].t("Google PSE Engine Id")+"")&&H(m,p),(!y||C[0]&16&&I!==(I=V[4].t("Enter Google PSE Engine Id")))&&o(k,"placeholder",I),C[0]&66&&k.value!==V[1].search.google_pse_engine_id&&ee(k,V[1].search.google_pse_engine_id)},i(V){y||(K(r.$$.fragment,V),y=!0)},o(V){q(r.$$.fragment,V),y=!1},d(V){V&&(c(e),c(u),c(h)),pe(r),T=!1,$()}}}function J1(s){let e,t,l=s[4].t("Searxng Query URL")+"",a,i,r,f,u,h,b,p;return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("input"),this.h()},l(m){e=_(m,"DIV",{});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);a=P(E,l),E.forEach(c),i=D(g),r=_(g,"DIV",{class:!0});var w=v(r);f=_(w,"DIV",{class:!0});var k=v(f);u=_(k,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),k.forEach(c),w.forEach(c),g.forEach(c),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(u,"type","text"),o(u,"placeholder",h=s[4].t("Enter Searxng Query URL")),o(u,"autocomplete","off"),o(f,"class","flex-1"),o(r,"class","flex w-full")},m(m,g){O(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),ee(u,s[1].search.searxng_query_url),b||(p=se(u,"input",s[10]),b=!0)},p(m,g){g[0]&16&&l!==(l=m[4].t("Searxng Query URL")+"")&&H(a,l),g[0]&16&&h!==(h=m[4].t("Enter Searxng Query URL"))&&o(u,"placeholder",h),g[0]&66&&u.value!==m[1].search.searxng_query_url&&ee(u,m[1].search.searxng_query_url)},i:vt,o:vt,d(m){m&&c(e),b=!1,p()}}}function To(s){let e,t,l,a=s[4].t("Search Result Count")+"",i,r,f,u,h,b,p,m=s[4].t("Concurrent Requests")+"",g,E,w,k,I,y;return{c(){e=d("div"),t=d("div"),l=d("div"),i=L(a),r=A(),f=d("input"),h=A(),b=d("div"),p=d("div"),g=L(m),E=A(),w=d("input"),this.h()},l(T){e=_(T,"DIV",{class:!0});var $=v(e);t=_($,"DIV",{class:!0});var S=v(t);l=_(S,"DIV",{class:!0});var N=v(l);i=P(N,a),N.forEach(c),r=D(S),f=_(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(c),h=D($),b=_($,"DIV",{class:!0});var V=v(b);p=_(V,"DIV",{class:!0});var C=v(p);g=P(C,m),C.forEach(c),E=D(V),w=_(V,"INPUT",{class:!0,placeholder:!0}),V.forEach(c),$.forEach(c),this.h()},h(){o(l,"class","self-center text-xs font-medium mb-1"),o(f,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(f,"placeholder",u=s[4].t("Search Result Count")),f.required=!0,o(t,"class","w-full"),o(p,"class","self-center text-xs font-medium mb-1"),o(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none"),o(w,"placeholder",k=s[4].t("Concurrent Requests")),w.required=!0,o(b,"class","w-full"),o(e,"class","mt-2 flex gap-2 mb-1")},m(T,$){O(T,e,$),n(e,t),n(t,l),n(l,i),n(t,r),n(t,f),ee(f,s[1].search.result_count),n(e,h),n(e,b),n(b,p),n(p,g),n(b,E),n(b,w),ee(w,s[1].search.concurrent_requests),I||(y=[se(f,"input",s[26]),se(w,"input",s[27])],I=!0)},p(T,$){$[0]&16&&a!==(a=T[4].t("Search Result Count")+"")&&H(i,a),$[0]&16&&u!==(u=T[4].t("Search Result Count"))&&o(f,"placeholder",u),$[0]&66&&f.value!==T[1].search.result_count&&ee(f,T[1].search.result_count),$[0]&16&&m!==(m=T[4].t("Concurrent Requests")+"")&&H(g,m),$[0]&16&&k!==(k=T[4].t("Concurrent Requests"))&&o(w,"placeholder",k),$[0]&66&&w.value!==T[1].search.concurrent_requests&&ee(w,T[1].search.concurrent_requests)},d(T){T&&c(e),I=!1,ol(y)}}}function X1(s){let e,t=s[4].t("Off")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&16&&t!==(t=a[4].t("Off")+"")&&H(l,t)},d(a){a&&c(e)}}}function x1(s){let e,t=s[4].t("On")+"",l;return{c(){e=d("span"),l=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&16&&t!==(t=a[4].t("On")+"")&&H(l,t)},d(a){a&&c(e)}}}function e0(s){let e,t,l,a,i,r=s[4].t("Save")+"",f,u,h,b,p=s[1]&&ko(s);return{c(){e=d("form"),t=d("div"),p&&p.c(),l=A(),a=d("div"),i=d("button"),f=L(r),this.h()},l(m){e=_(m,"FORM",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var E=v(t);p&&p.l(E),E.forEach(c),l=D(g),a=_(g,"DIV",{class:!0});var w=v(a);i=_(w,"BUTTON",{class:!0,type:!0});var k=v(i);f=P(k,r),k.forEach(c),w.forEach(c),g.forEach(c),this.h()},h(){o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(i,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(i,"type","submit"),o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(m,g){O(m,e,g),n(e,t),p&&p.m(t,null),n(e,l),n(e,a),n(a,i),n(i,f),u=!0,h||(b=se(e,"submit",us(s[31])),h=!0)},p(m,g){m[1]?p?(p.p(m,g),g[0]&2&&K(p,1)):(p=ko(m),p.c(),K(p,1),p.m(t,null)):p&&(Vt(),q(p,1,1,()=>{p=null}),St()),(!u||g[0]&16)&&r!==(r=m[4].t("Save")+"")&&H(f,r)},i(m){u||(K(p),u=!0)},o(m){q(p),u=!1},d(m){m&&c(e),p&&p.d(),h=!1,b()}}}function t0(s,e,t){let l;const a=Dl("i18n");nl(s,a,Y=>t(4,l=Y));let{saveHandler:i}=e,r=null,f=["searxng","google_pse","brave","kagi","mojeek","serpstack","serper","serply","searchapi","duckduckgo","tavily","jina","bing","exa"],u="en",h=null,b="";const p=async()=>{await Go(localStorage.token,{web:r,youtube:{language:u.split(",").map(Y=>Y.trim()),translation:h,proxy_url:b}})};Fl(async()=>{const Y=await jo(localStorage.token);Y&&(t(1,r=Y.web),t(2,u=Y.youtube.language.join(",")),h=Y.youtube.translation,t(3,b=Y.youtube.proxy_url))});function m(Y){s.$$.not_equal(r.search.enabled,Y)&&(r.search.enabled=Y,t(1,r))}function g(){r.search.engine=Ol(this),t(1,r),t(6,f)}function E(){r.search.searxng_query_url=this.value,t(1,r),t(6,f)}function w(Y){s.$$.not_equal(r.search.google_pse_api_key,Y)&&(r.search.google_pse_api_key=Y,t(1,r))}function k(){r.search.google_pse_engine_id=this.value,t(1,r),t(6,f)}function I(Y){s.$$.not_equal(r.search.brave_search_api_key,Y)&&(r.search.brave_search_api_key=Y,t(1,r))}function y(Y){s.$$.not_equal(r.search.kagi_search_api_key,Y)&&(r.search.kagi_search_api_key=Y,t(1,r))}function T(Y){s.$$.not_equal(r.search.mojeek_search_api_key,Y)&&(r.search.mojeek_search_api_key=Y,t(1,r))}function $(Y){s.$$.not_equal(r.search.serpstack_api_key,Y)&&(r.search.serpstack_api_key=Y,t(1,r))}function S(Y){s.$$.not_equal(r.search.serper_api_key,Y)&&(r.search.serper_api_key=Y,t(1,r))}function N(Y){s.$$.not_equal(r.search.serply_api_key,Y)&&(r.search.serply_api_key=Y,t(1,r))}function V(Y){s.$$.not_equal(r.search.searchapi_api_key,Y)&&(r.search.searchapi_api_key=Y,t(1,r))}function C(){r.search.searchapi_engine=this.value,t(1,r),t(6,f)}function R(Y){s.$$.not_equal(r.search.tavily_api_key,Y)&&(r.search.tavily_api_key=Y,t(1,r))}function U(Y){s.$$.not_equal(r.search.jina_api_key,Y)&&(r.search.jina_api_key=Y,t(1,r))}function Z(Y){s.$$.not_equal(r.search.exa_api_key,Y)&&(r.search.exa_api_key=Y,t(1,r))}function B(){r.search.bing_search_v7_endpoint=this.value,t(1,r),t(6,f)}function M(Y){s.$$.not_equal(r.search.bing_search_v7_subscription_key,Y)&&(r.search.bing_search_v7_subscription_key=Y,t(1,r))}function j(){r.search.result_count=this.value,t(1,r),t(6,f)}function G(){r.search.concurrent_requests=this.value,t(1,r),t(6,f)}const W=()=>{t(1,r.web_loader_ssl_verification=!r.web_loader_ssl_verification,r),p()};function z(){u=this.value,t(2,u)}function x(){b=this.value,t(3,b)}const te=async()=>{await p(),i()};return s.$$set=Y=>{"saveHandler"in Y&&t(0,i=Y.saveHandler)},[i,r,u,b,l,a,f,p,m,g,E,w,k,I,y,T,$,S,N,V,C,R,U,Z,B,M,j,G,W,z,x,te]}class l0 extends gl{constructor(e){super(),bl(this,e,t0,e0,ml,{saveHandler:0},null,[-1,-1])}}function s0(s){let e,t,l;return{c(){e=sl("svg"),t=sl("path"),l=sl("path"),this.h()},l(a){e=al(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=al(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(c),l=al(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 17.25a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-.75Zm2.25-3a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 .75-.75Zm3.75-1.5a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-5.25Z"),o(t,"clip-rule","evenodd"),o(l,"d","M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class",s[0])},m(a,i){O(a,e,i),n(e,t),n(e,l)},p(a,[i]){i&1&&o(e,"class",a[0])},i:vt,o:vt,d(a){a&&c(e)}}}function a0(s,e,t){let{className:l="size-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=i=>{"className"in i&&t(0,l=i.className),"strokeWidth"in i&&t(1,a=i.strokeWidth)},[l,a]}class r0 extends gl{constructor(e){super(),bl(this,e,a0,s0,ml,{className:0,strokeWidth:1})}}function Ao(s,e,t){const l=s.slice();return l[2]=e[t],l}function Do(s,e,t){const l=s.slice();return l[39]=e[t],l[41]=t,l}function n0(s){let e=s[14].t("Add Arena Model")+"",t;return{c(){t=L(e)},l(l){t=P(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&16384&&e!==(e=l[14].t("Add Arena Model")+"")&&H(t,e)},d(l){l&&c(t)}}}function i0(s){let e=s[14].t("Edit Arena Model")+"",t;return{c(){t=L(e)},l(l){t=P(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&16384&&e!==(e=l[14].t("Edit Arena Model")+"")&&H(t,e)},d(l){l&&c(t)}}}function o0(s){let e=s[14].t("Exclude")+"",t;return{c(){t=L(e)},l(l){t=P(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&16384&&e!==(e=l[14].t("Exclude")+"")&&H(t,e)},d(l){l&&c(t)}}}function u0(s){let e=s[14].t("Include")+"",t;return{c(){t=L(e)},l(l){t=P(l,e)},m(l,a){O(l,t,a)},p(l,a){a[0]&16384&&e!==(e=l[14].t("Include")+"")&&H(t,e)},d(l){l&&c(t)}}}function f0(s){let e,t=s[14].t("Leave empty to include all models or select specific models")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i[0]&16384&&t!==(t=a[14].t("Leave empty to include all models or select specific models")+"")&&H(l,t)},i:vt,o:vt,d(a){a&&c(e)}}}function c0(s){let e,t,l=It(s[8]),a=[];for(let r=0;r<l.length;r+=1)a[r]=$o(Do(s,l,r));const i=r=>q(a[r],1,1,()=>{a[r]=null});return{c(){e=d("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=_(r,"DIV",{class:!0});var f=v(e);for(let u=0;u<a.length;u+=1)a[u].l(f);f.forEach(c),this.h()},h(){o(e,"class","flex flex-col")},m(r,f){O(r,e,f);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(r,f){if(f[0]&8448){l=It(r[8]);let u;for(u=0;u<l.length;u+=1){const h=Do(r,l,u);a[u]?(a[u].p(h,f),K(a[u],1)):(a[u]=$o(h),a[u].c(),K(a[u],1),a[u].m(e,null))}for(Vt(),u=l.length;u<a.length;u+=1)i(u);St()}},i(r){if(!t){for(let f=0;f<l.length;f+=1)K(a[f]);t=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)q(a[f]);t=!1},d(r){r&&c(e),_l(a,r)}}}function $o(s){var w;let e,t,l=((w=s[13].find(g))==null?void 0:w.name)+"",a,i,r,f,u,h,b,p,m;function g(...k){return s[28](s[39],...k)}u=new mr({props:{strokeWidth:"2",className:"size-3.5"}});function E(){return s[29](s[41])}return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("button"),de(u.$$.fragment),h=A(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var y=v(t);a=P(y,l),y.forEach(c),i=D(I),r=_(I,"DIV",{class:!0});var T=v(r);f=_(T,"BUTTON",{type:!0});var $=v(f);_e(u.$$.fragment,$),$.forEach(c),T.forEach(c),h=D(I),I.forEach(c),this.h()},h(){o(t,"class","text-sm flex-1 py-1 rounded-lg"),o(f,"type","button"),o(r,"class","flex-shrink-0"),o(e,"class","flex gap-2 w-full justify-between items-center")},m(k,I){O(k,e,I),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),he(u,f,null),n(e,h),b=!0,p||(m=se(f,"click",E),p=!0)},p(k,I){var y;s=k,(!b||I[0]&8448)&&l!==(l=((y=s[13].find(g))==null?void 0:y.name)+"")&&H(a,l)},i(k){b||(K(u.$$.fragment,k),b=!0)},o(k){q(u.$$.fragment,k),b=!1},d(k){k&&c(e),pe(u),p=!1,m()}}}function Vo(s){let e,t=s[2].name+"",l,a;return{c(){e=d("option"),l=L(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var r=v(e);l=P(r,t),r.forEach(c),this.h()},h(){e.__value=a=s[2].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,r){O(i,e,r),n(e,l)},p(i,r){r[0]&8192&&t!==(t=i[2].name+"")&&H(l,t),r[0]&8192&&a!==(a=i[2].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&c(e)}}}function So(s){let e,t=s[14].t("Delete")+"",l,a,i;return{c(){e=d("button"),l=L(t),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);l=P(f,t),f.forEach(c),this.h()},h(){o(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),o(e,"type","button")},m(r,f){O(r,e,f),n(e,l),a||(i=se(e,"click",s[32]),a=!0)},p(r,f){f[0]&16384&&t!==(t=r[14].t("Delete")+"")&&H(l,t)},d(r){r&&c(e),a=!1,i()}}}function No(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),Gt(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,a){O(l,e,a)},d(l){l&&c(e)}}}function d0(s){let e,t,l,a,i,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',f,u,h,b,p,m,g,E,w,k,I,y,T,$,S,N,V,C,R,U=s[14].t("Name")+"",Z,B,M,j,G,W,z,x,te=s[14].t("ID")+"",Y,Q,X,F,J,ae,ue,ne,De=s[14].t("Description")+"",ge,Pe,be,Re,$e,ie,le,Ee,ce,ke,Ie,Qe,Je,ve,ye,fe,me,Oe,Me=s[14].t("Models")+"",He,Ce,Ge,je,$t,re,we,ht,mt,gt,Ke,Ye,ct,Ut=s[14].t("Select a model")+"",At,Ae,We,bt,ot,dt,rt,lt,et,oe,Le=s[14].t("Save")+"",Tt,Xe,Ot,wt,it,Pt;function zt(Ze,Be){return Ze[1]?i0:n0}let qt=zt(s),Dt=qt(s);S=new jd({props:{className:"size-4"}});function Rt(Ze){s[26](Ze)}let Nt={};s[10]!==void 0&&(Nt.accessControl=s[10]),Ie=new af({props:Nt}),at.push(()=>ft(Ie,"accessControl",Rt));function Ue(Ze,Be){return Ze[9]==="include"?u0:o0}let Te=Ue(s),Ne=Te(s);const pt=[c0,f0],xe=[];function _t(Ze,Be){return Ze[8].length>0?0:1}re=_t(s),we=xe[re]=pt[re](s);let Kt=It(s[13].filter(Mo)),Lt=[];for(let Ze=0;Ze<Kt.length;Ze+=1)Lt[Ze]=Vo(Ao(s,Kt,Ze));dt=new wa({props:{className:"size-3.5",strokeWidth:"2"}});let Bt=s[1]&&So(s),Et=s[12]&&No();return{c(){e=d("div"),t=d("div"),l=d("div"),Dt.c(),a=A(),i=d("button"),i.innerHTML=r,f=A(),u=d("div"),h=d("div"),b=d("form"),p=d("div"),m=d("div"),g=d("input"),E=A(),w=d("button"),k=d("img"),y=A(),T=d("div"),$=d("div"),de(S.$$.fragment),N=A(),V=d("div"),C=d("div"),R=d("div"),Z=L(U),B=A(),M=d("div"),j=d("input"),W=A(),z=d("div"),x=d("div"),Y=L(te),Q=A(),X=d("div"),F=d("input"),ae=A(),ue=d("div"),ne=d("div"),ge=L(De),Pe=A(),be=d("div"),Re=d("input"),ie=A(),le=d("hr"),Ee=A(),ce=d("div"),ke=d("div"),de(Ie.$$.fragment),Je=A(),ve=d("hr"),ye=A(),fe=d("div"),me=d("div"),Oe=d("div"),He=L(Me),Ce=A(),Ge=d("div"),je=d("button"),Ne.c(),$t=A(),we.c(),ht=A(),mt=d("hr"),gt=A(),Ke=d("div"),Ye=d("select"),ct=d("option"),At=L(Ut);for(let Ze=0;Ze<Lt.length;Ze+=1)Lt[Ze].c();We=A(),bt=d("div"),ot=d("button"),de(dt.$$.fragment),rt=A(),lt=d("div"),Bt&&Bt.c(),et=A(),oe=d("button"),Tt=L(Le),Xe=A(),Et&&Et.c(),this.h()},l(Ze){e=_(Ze,"DIV",{});var Be=v(e);t=_(Be,"DIV",{class:!0});var tt=v(t);l=_(tt,"DIV",{class:!0});var kt=v(l);Dt.l(kt),kt.forEach(c),a=D(tt),i=_(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),Gt(i)!=="svelte-745w2y"&&(i.innerHTML=r),tt.forEach(c),f=D(Be),u=_(Be,"DIV",{class:!0});var Mt=v(u);h=_(Mt,"DIV",{class:!0});var rl=v(h);b=_(rl,"FORM",{class:!0});var tl=v(b);p=_(tl,"DIV",{class:!0});var Ht=v(p);m=_(Ht,"DIV",{class:!0});var ul=v(m);g=_(ul,"INPUT",{type:!0,accept:!0}),E=D(ul),w=_(ul,"BUTTON",{class:!0,type:!0});var hl=v(w);k=_(hl,"IMG",{src:!0,class:!0,alt:!0}),y=D(hl),T=_(hl,"DIV",{class:!0});var jt=v(T);$=_(jt,"DIV",{class:!0});var Il=v($);_e(S.$$.fragment,Il),Il.forEach(c),jt.forEach(c),hl.forEach(c),ul.forEach(c),N=D(Ht),V=_(Ht,"DIV",{class:!0});var cl=v(V);C=_(cl,"DIV",{class:!0});var il=v(C);R=_(il,"DIV",{class:!0});var yt=v(R);Z=P(yt,U),yt.forEach(c),B=D(il),M=_(il,"DIV",{class:!0});var dl=v(M);j=_(dl,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),dl.forEach(c),il.forEach(c),W=D(cl),z=_(cl,"DIV",{class:!0});var Yt=v(z);x=_(Yt,"DIV",{class:!0});var Qt=v(x);Y=P(Qt,te),Qt.forEach(c),Q=D(Yt),X=_(Yt,"DIV",{class:!0});var Ml=v(X);F=_(Ml,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ml.forEach(c),Yt.forEach(c),cl.forEach(c),ae=D(Ht),ue=_(Ht,"DIV",{class:!0});var pl=v(ue);ne=_(pl,"DIV",{class:!0});var Ft=v(ne);ge=P(Ft,De),Ft.forEach(c),Pe=D(pl),be=_(pl,"DIV",{class:!0});var Jt=v(be);Re=_(Jt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Jt.forEach(c),pl.forEach(c),ie=D(Ht),le=_(Ht,"HR",{class:!0}),Ee=D(Ht),ce=_(Ht,"DIV",{class:!0});var Rl=v(ce);ke=_(Rl,"DIV",{class:!0});var Pl=v(ke);_e(Ie.$$.fragment,Pl),Pl.forEach(c),Rl.forEach(c),Je=D(Ht),ve=_(Ht,"HR",{class:!0}),ye=D(Ht),fe=_(Ht,"DIV",{class:!0});var Ul=v(fe);me=_(Ul,"DIV",{class:!0});var fl=v(me);Oe=_(fl,"DIV",{class:!0});var Wt=v(Oe);He=P(Wt,Me),Wt.forEach(c),Ce=D(fl),Ge=_(fl,"DIV",{});var Wl=v(Ge);je=_(Wl,"BUTTON",{class:!0,type:!0});var El=v(je);Ne.l(El),El.forEach(c),Wl.forEach(c),fl.forEach(c),$t=D(Ul),we.l(Ul),Ul.forEach(c),ht=D(Ht),mt=_(Ht,"HR",{class:!0}),gt=D(Ht),Ke=_(Ht,"DIV",{class:!0});var Ve=v(Ke);Ye=_(Ve,"SELECT",{class:!0});var st=v(Ye);ct=_(st,"OPTION",{});var Fe=v(ct);At=P(Fe,Ut),Fe.forEach(c);for(let Tl=0;Tl<Lt.length;Tl+=1)Lt[Tl].l(st);st.forEach(c),We=D(Ve),bt=_(Ve,"DIV",{});var qe=v(bt);ot=_(qe,"BUTTON",{type:!0});var vl=v(ot);_e(dt.$$.fragment,vl),vl.forEach(c),qe.forEach(c),Ve.forEach(c),Ht.forEach(c),rt=D(tl),lt=_(tl,"DIV",{class:!0});var wl=v(lt);Bt&&Bt.l(wl),et=D(wl),oe=_(wl,"BUTTON",{class:!0,type:!0});var yl=v(oe);Tt=P(yl,Le),Xe=D(yl),Et&&Et.l(yl),yl.forEach(c),wl.forEach(c),tl.forEach(c),rl.forEach(c),Mt.forEach(c),Be.forEach(c),this.h()},h(){o(l,"class","text-lg font-medium self-center font-primary"),o(i,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(g,"type","file"),g.hidden=!0,o(g,"accept","image/*"),na(k.src,I=s[5])||o(k,"src",I),o(k,"class","size-16 rounded-full object-cover shrink-0"),o(k,"alt","Profile"),o($,"class","my-auto text-white"),o(T,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),o(w,"class","relative rounded-full w-fit h-fit shrink-0"),o(w,"type","button"),o(m,"class","flex justify-center pb-3"),o(R,"class","mb-0.5 text-xs text-gray-500"),o(j,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),o(j,"type","text"),o(j,"placeholder",G=s[14].t("Model Name")),o(j,"autocomplete","off"),j.required=!0,o(M,"class","flex-1"),o(C,"class","flex flex-col w-full"),o(x,"class","mb-0.5 text-xs text-gray-500"),o(F,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),o(F,"type","text"),o(F,"placeholder",J=s[14].t("Model ID")),o(F,"autocomplete","off"),F.required=!0,F.disabled=s[1],o(X,"class","flex-1"),o(z,"class","flex flex-col w-full"),o(V,"class","flex gap-2"),o(ne,"class","mb-1 text-xs text-gray-500"),o(Re,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),o(Re,"type","text"),o(Re,"placeholder",$e=s[14].t("Enter description")),o(Re,"autocomplete","off"),o(be,"class","flex-1"),o(ue,"class","flex flex-col w-full mt-2"),o(le,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o(ke,"class","px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg"),o(ce,"class","my-2 -mx-2"),o(ve,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o(Oe,"class","text-xs text-gray-500"),o(je,"class","text-xs text-gray-500"),o(je,"type","button"),o(me,"class","mb-1 flex justify-between"),o(fe,"class","flex flex-col w-full"),o(mt,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),ct.__value="",ee(ct,ct.__value),o(Ye,"class",Ae="w-full py-1 text-sm rounded-lg bg-transparent "+(s[7]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),s[7]===void 0&&Ll(()=>s[30].call(Ye)),o(ot,"type","button"),o(Ke,"class","flex items-center"),o(p,"class","px-1"),o(oe,"class",Ot="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[12]?" cursor-not-allowed":"")),o(oe,"type","submit"),oe.disabled=s[12],o(lt,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),o(b,"class","flex flex-col w-full"),o(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(u,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(Ze,Be){O(Ze,e,Be),n(e,t),n(t,l),Dt.m(l,null),n(t,a),n(t,i),n(e,f),n(e,u),n(u,h),n(h,b),n(b,p),n(p,m),n(m,g),s[20](g),n(m,E),n(m,w),n(w,k),n(w,y),n(w,T),n(T,$),he(S,$,null),n(p,N),n(p,V),n(V,C),n(C,R),n(R,Z),n(C,B),n(C,M),n(M,j),ee(j,s[3]),n(V,W),n(V,z),n(z,x),n(x,Y),n(z,Q),n(z,X),n(X,F),ee(F,s[4]),n(p,ae),n(p,ue),n(ue,ne),n(ne,ge),n(ue,Pe),n(ue,be),n(be,Re),ee(Re,s[6]),n(p,ie),n(p,le),n(p,Ee),n(p,ce),n(ce,ke),he(Ie,ke,null),n(p,Je),n(p,ve),n(p,ye),n(p,fe),n(fe,me),n(me,Oe),n(Oe,He),n(me,Ce),n(me,Ge),n(Ge,je),Ne.m(je,null),n(fe,$t),xe[re].m(fe,null),n(p,ht),n(p,mt),n(p,gt),n(p,Ke),n(Ke,Ye),n(Ye,ct),n(ct,At);for(let tt=0;tt<Lt.length;tt+=1)Lt[tt]&&Lt[tt].m(Ye,null);Xt(Ye,s[7],!0),n(Ke,We),n(Ke,bt),n(bt,ot),he(dt,ot,null),n(b,rt),n(b,lt),Bt&&Bt.m(lt,null),n(lt,et),n(lt,oe),n(oe,Tt),n(oe,Xe),Et&&Et.m(oe,null),wt=!0,it||(Pt=[se(i,"click",s[19]),se(g,"change",s[21]),se(w,"click",s[22]),se(j,"input",s[23]),se(F,"input",s[24]),se(Re,"input",s[25]),se(je,"click",s[27]),se(Ye,"change",s[30]),se(ot,"click",s[31]),se(b,"submit",us(s[33]))],it=!0)},p(Ze,Be){qt===(qt=zt(Ze))&&Dt?Dt.p(Ze,Be):(Dt.d(1),Dt=qt(Ze),Dt&&(Dt.c(),Dt.m(l,null))),(!wt||Be[0]&32&&!na(k.src,I=Ze[5]))&&o(k,"src",I),(!wt||Be[0]&16384)&&U!==(U=Ze[14].t("Name")+"")&&H(Z,U),(!wt||Be[0]&16384&&G!==(G=Ze[14].t("Model Name")))&&o(j,"placeholder",G),Be[0]&8&&j.value!==Ze[3]&&ee(j,Ze[3]),(!wt||Be[0]&16384)&&te!==(te=Ze[14].t("ID")+"")&&H(Y,te),(!wt||Be[0]&16384&&J!==(J=Ze[14].t("Model ID")))&&o(F,"placeholder",J),(!wt||Be[0]&2)&&(F.disabled=Ze[1]),Be[0]&16&&F.value!==Ze[4]&&ee(F,Ze[4]),(!wt||Be[0]&16384)&&De!==(De=Ze[14].t("Description")+"")&&H(ge,De),(!wt||Be[0]&16384&&$e!==($e=Ze[14].t("Enter description")))&&o(Re,"placeholder",$e),Be[0]&64&&Re.value!==Ze[6]&&ee(Re,Ze[6]);const tt={};!Qe&&Be[0]&1024&&(Qe=!0,tt.accessControl=Ze[10],ut(()=>Qe=!1)),Ie.$set(tt),(!wt||Be[0]&16384)&&Me!==(Me=Ze[14].t("Models")+"")&&H(He,Me),Te===(Te=Ue(Ze))&&Ne?Ne.p(Ze,Be):(Ne.d(1),Ne=Te(Ze),Ne&&(Ne.c(),Ne.m(je,null)));let kt=re;if(re=_t(Ze),re===kt?xe[re].p(Ze,Be):(Vt(),q(xe[kt],1,1,()=>{xe[kt]=null}),St(),we=xe[re],we?we.p(Ze,Be):(we=xe[re]=pt[re](Ze),we.c()),K(we,1),we.m(fe,null)),(!wt||Be[0]&16384)&&Ut!==(Ut=Ze[14].t("Select a model")+"")&&H(At,Ut),Be[0]&8192){Kt=It(Ze[13].filter(Mo));let Mt;for(Mt=0;Mt<Kt.length;Mt+=1){const rl=Ao(Ze,Kt,Mt);Lt[Mt]?Lt[Mt].p(rl,Be):(Lt[Mt]=Vo(rl),Lt[Mt].c(),Lt[Mt].m(Ye,null))}for(;Mt<Lt.length;Mt+=1)Lt[Mt].d(1);Lt.length=Kt.length}(!wt||Be[0]&8320&&Ae!==(Ae="w-full py-1 text-sm rounded-lg bg-transparent "+(Ze[7]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"))&&o(Ye,"class",Ae),Be[0]&8320&&Xt(Ye,Ze[7]),Ze[1]?Bt?Bt.p(Ze,Be):(Bt=So(Ze),Bt.c(),Bt.m(lt,et)):Bt&&(Bt.d(1),Bt=null),(!wt||Be[0]&16384)&&Le!==(Le=Ze[14].t("Save")+"")&&H(Tt,Le),Ze[12]?Et||(Et=No(),Et.c(),Et.m(oe,null)):Et&&(Et.d(1),Et=null),(!wt||Be[0]&4096&&Ot!==(Ot="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(Ze[12]?" cursor-not-allowed":"")))&&o(oe,"class",Ot),(!wt||Be[0]&4096)&&(oe.disabled=Ze[12])},i(Ze){wt||(K(S.$$.fragment,Ze),K(Ie.$$.fragment,Ze),K(we),K(dt.$$.fragment,Ze),wt=!0)},o(Ze){q(S.$$.fragment,Ze),q(Ie.$$.fragment,Ze),q(we),q(dt.$$.fragment,Ze),wt=!1},d(Ze){Ze&&c(e),Dt.d(),s[20](null),pe(S),pe(Ie),Ne.d(),xe[re].d(),_l(Lt,Ze),pe(dt),Bt&&Bt.d(),Et&&Et.d(),it=!1,ol(Pt)}}}function _0(s){let e,t,l;function a(r){s[34](r)}let i={size:"sm",$$slots:{default:[d0]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Ea({props:i}),at.push(()=>ft(e,"show",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};f[0]&32767|f[1]&2048&&(u.$$scope={dirty:f,ctx:r}),!t&&f[0]&1&&(t=!0,u.show=r[0],ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}const Mo=s=>(s==null?void 0:s.owned_by)!=="arena";function h0(s,e,t){let l,a;nl(s,Nl,J=>t(13,l=J));const i=Dl("i18n");nl(s,i,J=>t(14,a=J));const r=ys();let{show:f=!1}=e,{edit:u=!1}=e,{model:h=null}=e,b="",p="";const m=()=>{u||t(4,p=b.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))};let g="/favicon.png",E="",w="",k=[],I="include",y={},T,$=!1;const S=()=>{w&&(t(8,k=[...k,w]),t(7,w=""))},N=()=>{if(t(12,$=!0),!b||!p){t(12,$=!1),ze.error("Name and ID are required, please fill them out");return}if(!u&&l.find(ae=>ae.name===b)){t(12,$=!1),t(3,b=""),ze.error("Model name already exists, please choose a different one");return}const J={id:p,name:b,meta:{profile_image_url:g,description:E||null,model_ids:k.length>0?k:null,filter_mode:k.length>0&&I||null,access_control:y}};r("submit",J),t(12,$=!1),t(0,f=!1),t(3,b=""),t(4,p=""),t(5,g="/favicon.png"),t(6,E=""),t(8,k=[]),t(7,w="")},V=()=>{var J;h&&(t(3,b=h.name),t(4,p=h.id),t(5,g=h.meta.profile_image_url),t(6,E=h.meta.description),t(8,k=h.meta.model_ids||[]),t(9,I=((J=h.meta)==null?void 0:J.filter_mode)??"include"),t(10,y="access_control"in h.meta?h.meta.access_control:{}))};Fl(()=>{V()});const C=()=>{t(0,f=!1)};function R(J){at[J?"unshift":"push"](()=>{T=J,t(11,T)})}const U=J=>{const ae=J.target.files??[];let ue=new FileReader;ue.onload=ne=>{let De=`${ne.target.result}`;const ge=new Image;ge.src=De,ge.onload=function(){const Pe=document.createElement("canvas"),be=Pe.getContext("2d"),Re=ge.width/ge.height;let $e,ie;Re>1?($e=250*Re,ie=250):($e=250,ie=250/Re),Pe.width=250,Pe.height=250;const le=(250-$e)/2,Ee=(250-ie)/2;be.drawImage(ge,le,Ee,$e,ie);const ce=Pe.toDataURL("image/jpeg");t(5,g=ce),J.target.files=null}},ae.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(ae[0].type)&&ue.readAsDataURL(ae[0])},Z=()=>{T.click()};function B(){b=this.value,t(3,b)}function M(){p=this.value,t(4,p)}function j(){E=this.value,t(6,E)}function G(J){y=J,t(10,y)}const W=()=>{t(9,I=I==="include"?"exclude":"include")},z=(J,ae)=>ae.id===J,x=J=>{t(8,k=k.filter((ae,ue)=>ue!==J))};function te(){w=Ol(this),t(7,w)}const Y=()=>{S()},Q=()=>{r("delete",h),t(0,f=!1)},X=()=>{N()};function F(J){f=J,t(0,f)}return s.$$set=J=>{"show"in J&&t(0,f=J.show),"edit"in J&&t(1,u=J.edit),"model"in J&&t(2,h=J.model)},s.$$.update=()=>{s.$$.dirty[0]&8&&b&&m(),s.$$.dirty[0]&1&&f&&V()},[f,u,h,b,p,g,E,w,k,I,y,T,$,l,a,i,r,S,N,C,R,U,Z,B,M,j,G,W,z,x,te,Y,Q,X,F]}class Zo extends gl{constructor(e){super(),bl(this,e,h0,_0,ml,{show:0,edit:1,model:2},null,[-1,-1])}}function p0(s){var G,W;let e,t,l,a,i,r,f,u,h,b,p,m,g,E,w=s[0].name+"",k,I,y,T,$=(((W=(G=s[0])==null?void 0:G.meta)==null?void 0:W.description)??s[0].id)+"",S,N,V,C,R,U,Z,B;function M(z){s[3](z)}let j={edit:!0,model:s[0]};return s[1]!==void 0&&(j.show=s[1]),e=new Zo({props:j}),at.push(()=>ft(e,"show",M)),e.$on("submit",s[4]),e.$on("delete",s[5]),R=new xa({}),{c(){de(e.$$.fragment),l=A(),a=d("div"),i=d("div"),r=d("div"),f=d("div"),u=d("img"),p=A(),m=d("div"),g=d("div"),E=d("div"),k=L(w),I=A(),y=d("div"),T=d("div"),S=L($),N=A(),V=d("div"),C=d("button"),de(R.$$.fragment),this.h()},l(z){_e(e.$$.fragment,z),l=D(z),a=_(z,"DIV",{class:!0});var x=v(a);i=_(x,"DIV",{class:!0});var te=v(i);r=_(te,"DIV",{class:!0});var Y=v(r);f=_(Y,"DIV",{class:!0});var Q=v(f);u=_(Q,"IMG",{src:!0,alt:!0,class:!0}),p=D(Q),m=_(Q,"DIV",{class:!0});var X=v(m);g=_(X,"DIV",{class:!0});var F=v(g);E=_(F,"DIV",{class:!0});var J=v(E);k=P(J,w),J.forEach(c),F.forEach(c),I=D(X),y=_(X,"DIV",{class:!0});var ae=v(y);T=_(ae,"DIV",{class:!0});var ue=v(T);S=P(ue,$),ue.forEach(c),ae.forEach(c),X.forEach(c),Q.forEach(c),Y.forEach(c),N=D(te),V=_(te,"DIV",{class:!0});var ne=v(V);C=_(ne,"BUTTON",{class:!0,type:!0});var De=v(C);_e(R.$$.fragment,De),De.forEach(c),ne.forEach(c),te.forEach(c),x.forEach(c),this.h()},h(){na(u.src,h=s[0].meta.profile_image_url)||o(u,"src",h),o(u,"alt",b=s[0].name),o(u,"class","size-8 rounded-full object-cover shrink-0"),o(E,"class","flex-shrink-0 line-clamp-1"),o(g,"class","flex items-center gap-1"),o(T,"class","text-xs w-full text-gray-500 bg-transparent line-clamp-1"),o(y,"class","flex items-center gap-1"),o(m,"class","w-full flex flex-col"),o(f,"class","flex gap-2.5 items-center"),o(r,"class","flex flex-col flex-1"),o(C,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),o(C,"type","button"),o(V,"class","flex items-center"),o(i,"class","flex justify-between items-center mb-1"),o(a,"class","py-0.5")},m(z,x){he(e,z,x),O(z,l,x),O(z,a,x),n(a,i),n(i,r),n(r,f),n(f,u),n(f,p),n(f,m),n(m,g),n(g,E),n(E,k),n(m,I),n(m,y),n(y,T),n(T,S),n(i,N),n(i,V),n(V,C),he(R,C,null),U=!0,Z||(B=se(C,"click",s[6]),Z=!0)},p(z,[x]){var Y,Q;const te={};x&1&&(te.model=z[0]),!t&&x&2&&(t=!0,te.show=z[1],ut(()=>t=!1)),e.$set(te),(!U||x&1&&!na(u.src,h=z[0].meta.profile_image_url))&&o(u,"src",h),(!U||x&1&&b!==(b=z[0].name))&&o(u,"alt",b),(!U||x&1)&&w!==(w=z[0].name+"")&&H(k,w),(!U||x&1)&&$!==($=(((Q=(Y=z[0])==null?void 0:Y.meta)==null?void 0:Q.description)??z[0].id)+"")&&H(S,$)},i(z){U||(K(e.$$.fragment,z),K(R.$$.fragment,z),U=!0)},o(z){q(e.$$.fragment,z),q(R.$$.fragment,z),U=!1},d(z){z&&(c(l),c(a)),pe(e,z),pe(R),Z=!1,B()}}}function v0(s,e,t){const l=ys();Dl("i18n");let{model:a}=e,i=!1;function r(b){i=b,t(1,i)}const f=async b=>{l("edit",b.detail)},u=async()=>{l("delete")},h=()=>{t(1,i=!0)};return s.$$set=b=>{"model"in b&&t(0,a=b.model)},[a,i,l,r,f,u,h]}class m0 extends gl{constructor(e){super(),bl(this,e,v0,p0,ml,{model:0})}}function Oo(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function g0(s){let e,t,l,a;return l=new $s({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),de(l.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var f=v(t);_e(l.$$.fragment,f),f.forEach(c),r.forEach(c),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex h-full justify-center")},m(i,r){O(i,e,r),n(e,t),he(l,t,null),a=!0},p:vt,i(i){a||(K(l.$$.fragment,i),a=!0)},o(i){q(l.$$.fragment,i),a=!1},d(i){i&&c(e),pe(l)}}}function b0(s){let e,t,l=s[2].t("General Settings")+"",a,i,r,f,u,h=s[2].t("Arena Models")+"",b,p,m,g,E;m=new Zt({props:{content:s[2].t("Message rating should be enabled to use this feature"),$$slots:{default:[E0]},$$scope:{ctx:s}}});let w=s[0].ENABLE_EVALUATION_ARENA_MODELS&&Lo(s);return{c(){e=d("div"),t=d("div"),a=L(l),i=A(),r=d("div"),f=d("div"),u=d("div"),b=L(h),p=A(),de(m.$$.fragment),g=A(),w&&w.c(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var y=v(t);a=P(y,l),y.forEach(c),i=D(I),r=_(I,"DIV",{class:!0});var T=v(r);f=_(T,"DIV",{class:!0});var $=v(f);u=_($,"DIV",{class:!0});var S=v(u);b=P(S,h),S.forEach(c),p=D($),_e(m.$$.fragment,$),$.forEach(c),T.forEach(c),g=D(I),w&&w.l(I),I.forEach(c),this.h()},h(){o(t,"class","text-sm font-medium mb-2"),o(u,"class","text-xs font-medium"),o(f,"class","flex justify-between items-center text-xs"),o(r,"class","mb-2"),o(e,"class","")},m(k,I){O(k,e,I),n(e,t),n(t,a),n(e,i),n(e,r),n(r,f),n(f,u),n(u,b),n(f,p),he(m,f,null),n(e,g),w&&w.m(e,null),E=!0},p(k,I){(!E||I&4)&&l!==(l=k[2].t("General Settings")+"")&&H(a,l),(!E||I&4)&&h!==(h=k[2].t("Arena Models")+"")&&H(b,h);const y={};I&4&&(y.content=k[2].t("Message rating should be enabled to use this feature")),I&1048577&&(y.$$scope={dirty:I,ctx:k}),m.$set(y),k[0].ENABLE_EVALUATION_ARENA_MODELS?w?(w.p(k,I),I&1&&K(w,1)):(w=Lo(k),w.c(),K(w,1),w.m(e,null)):w&&(Vt(),q(w,1,1,()=>{w=null}),St())},i(k){E||(K(m.$$.fragment,k),K(w),E=!0)},o(k){q(m.$$.fragment,k),q(w),E=!1},d(k){k&&c(e),pe(m),w&&w.d()}}}function E0(s){let e,t,l;function a(r){s[11](r)}let i={};return s[0].ENABLE_EVALUATION_ARENA_MODELS!==void 0&&(i.state=s[0].ENABLE_EVALUATION_ARENA_MODELS),e=new kl({props:i}),at.push(()=>ft(e,"state",a)),{c(){de(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,f){he(e,r,f),l=!0},p(r,f){const u={};!t&&f&1&&(t=!0,u.state=r[0].ENABLE_EVALUATION_ARENA_MODELS,ut(()=>t=!1)),e.$set(u)},i(r){l||(K(e.$$.fragment,r),l=!0)},o(r){q(e.$$.fragment,r),l=!1},d(r){pe(e,r)}}}function Lo(s){let e,t,l,a,i=s[2].t("Manage Arena Models")+"",r,f,u,h,b,p,m,g,E;h=new Zt({props:{content:s[2].t("Add Arena Model"),$$slots:{default:[w0]},$$scope:{ctx:s}}});const w=[I0,k0],k=[];function I(y,T){var $;return((($=y[0])==null?void 0:$.EVALUATION_ARENA_MODELS)??[]).length>0?0:1}return m=I(s),g=k[m]=w[m](s),{c(){e=d("hr"),t=A(),l=d("div"),a=d("div"),r=L(i),f=A(),u=d("div"),de(h.$$.fragment),b=A(),p=d("div"),g.c(),this.h()},l(y){e=_(y,"HR",{class:!0}),t=D(y),l=_(y,"DIV",{class:!0});var T=v(l);a=_(T,"DIV",{class:!0});var $=v(a);r=P($,i),$.forEach(c),f=D(T),u=_(T,"DIV",{});var S=v(u);_e(h.$$.fragment,S),S.forEach(c),T.forEach(c),b=D(y),p=_(y,"DIV",{class:!0});var N=v(p);g.l(N),N.forEach(c),this.h()},h(){o(e,"class","border-gray-50 dark:border-gray-700/10 my-2"),o(a,"class","text-sm font-medium"),o(l,"class","flex justify-between items-center mb-2"),o(p,"class","flex flex-col gap-2")},m(y,T){O(y,e,T),O(y,t,T),O(y,l,T),n(l,a),n(a,r),n(l,f),n(l,u),he(h,u,null),O(y,b,T),O(y,p,T),k[m].m(p,null),E=!0},p(y,T){(!E||T&4)&&i!==(i=y[2].t("Manage Arena Models")+"")&&H(r,i);const $={};T&4&&($.content=y[2].t("Add Arena Model")),T&1048578&&($.$$scope={dirty:T,ctx:y}),h.$set($);let S=m;m=I(y),m===S?k[m].p(y,T):(Vt(),q(k[S],1,1,()=>{k[S]=null}),St(),g=k[m],g?g.p(y,T):(g=k[m]=w[m](y),g.c()),K(g,1),g.m(p,null))},i(y){E||(K(h.$$.fragment,y),K(g),E=!0)},o(y){q(h.$$.fragment,y),q(g),E=!1},d(y){y&&(c(e),c(t),c(l),c(b),c(p)),pe(h),k[m].d()}}}function w0(s){let e,t,l,a,i;return t=new wa({}),{c(){e=d("button"),de(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var f=v(e);_e(t.$$.fragment,f),f.forEach(c),this.h()},h(){o(e,"class","p-1"),o(e,"type","button")},m(r,f){O(r,e,f),he(t,e,null),l=!0,a||(i=se(e,"click",s[12]),a=!0)},p:vt,i(r){l||(K(t.$$.fragment,r),l=!0)},o(r){q(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t),a=!1,i()}}}function k0(s){let e,t=s[2].t("Using the default arena model with all models. Click the plus button to add custom models.")+"",l;return{c(){e=d("div"),l=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);l=P(i,t),i.forEach(c),this.h()},h(){o(e,"class","text-center text-xs text-gray-500")},m(a,i){O(a,e,i),n(e,l)},p(a,i){i&4&&t!==(t=a[2].t("Using the default arena model with all models. Click the plus button to add custom models.")+"")&&H(l,t)},i:vt,o:vt,d(a){a&&c(e)}}}function I0(s){let e,t,l=It(s[0].EVALUATION_ARENA_MODELS),a=[];for(let r=0;r<l.length;r+=1)a[r]=Po(Oo(s,l,r));const i=r=>q(a[r],1,1,()=>{a[r]=null});return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=xt()},l(r){for(let f=0;f<a.length;f+=1)a[f].l(r);e=xt()},m(r,f){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(r,f);O(r,e,f),t=!0},p(r,f){if(f&385){l=It(r[0].EVALUATION_ARENA_MODELS);let u;for(u=0;u<l.length;u+=1){const h=Oo(r,l,u);a[u]?(a[u].p(h,f),K(a[u],1)):(a[u]=Po(h),a[u].c(),K(a[u],1),a[u].m(e.parentNode,e))}for(Vt(),u=l.length;u<a.length;u+=1)i(u);St()}},i(r){if(!t){for(let f=0;f<l.length;f+=1)K(a[f]);t=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)q(a[f]);t=!1},d(r){r&&c(e),_l(a,r)}}}function Po(s){let e,t;function l(...i){return s[13](s[19],...i)}function a(...i){return s[14](s[19],...i)}return e=new m0({props:{model:s[17]}}),e.$on("edit",l),e.$on("delete",a),{c(){de(e.$$.fragment)},l(i){_e(e.$$.fragment,i)},m(i,r){he(e,i,r),t=!0},p(i,r){s=i;const f={};r&1&&(f.model=s[17]),e.$set(f)},i(i){t||(K(e.$$.fragment,i),t=!0)},o(i){q(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function y0(s){let e,t,l,a,i,r,f,u,h,b,p=s[2].t("Save")+"",m,g,E,w;function k(S){s[9](S)}let I={};s[1]!==void 0&&(I.show=s[1]),e=new Zo({props:I}),at.push(()=>ft(e,"show",k)),e.$on("submit",s[10]);const y=[b0,g0],T=[];function $(S,N){return S[0]!==null?0:1}return r=$(s),f=T[r]=y[r](s),{c(){de(e.$$.fragment),l=A(),a=d("form"),i=d("div"),f.c(),u=A(),h=d("div"),b=d("button"),m=L(p),this.h()},l(S){_e(e.$$.fragment,S),l=D(S),a=_(S,"FORM",{class:!0});var N=v(a);i=_(N,"DIV",{class:!0});var V=v(i);f.l(V),V.forEach(c),u=D(N),h=_(N,"DIV",{class:!0});var C=v(h);b=_(C,"BUTTON",{class:!0,type:!0});var R=v(b);m=P(R,p),R.forEach(c),C.forEach(c),N.forEach(c),this.h()},h(){o(i,"class","overflow-y-scroll scrollbar-hidden h-full"),o(b,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(b,"type","submit"),o(h,"class","flex justify-end pt-3 text-sm font-medium"),o(a,"class","flex flex-col h-full justify-between text-sm")},m(S,N){he(e,S,N),O(S,l,N),O(S,a,N),n(a,i),T[r].m(i,null),n(a,u),n(a,h),n(h,b),n(b,m),g=!0,E||(w=se(a,"submit",us(s[15])),E=!0)},p(S,[N]){const V={};!t&&N&2&&(t=!0,V.show=S[1],ut(()=>t=!1)),e.$set(V);let C=r;r=$(S),r===C?T[r].p(S,N):(Vt(),q(T[C],1,1,()=>{T[C]=null}),St(),f=T[r],f?f.p(S,N):(f=T[r]=y[r](S),f.c()),K(f,1),f.m(i,null)),(!g||N&4)&&p!==(p=S[2].t("Save")+"")&&H(m,p)},i(S){g||(K(e.$$.fragment,S),K(f),g=!0)},o(S){q(e.$$.fragment,S),q(f),g=!1},d(S){S&&(c(l),c(a)),pe(e,S),T[r].d(),E=!1,w()}}}function T0(s,e,t){let l,a;nl(s,ia,$=>t(16,l=$));const i=ys(),r=Dl("i18n");nl(s,r,$=>t(2,a=$));let f=null,u=!1;const h=async()=>{t(0,f=await sf(localStorage.token,f).catch($=>(ze.error($),null))),f&&(ze.success("Settings saved successfully"),Nl.set(await ql(localStorage.token)))},b=async $=>{f.EVALUATION_ARENA_MODELS.push($),t(0,f.EVALUATION_ARENA_MODELS=[...f.EVALUATION_ARENA_MODELS],f),await h(),Nl.set(await ql(localStorage.token))},p=async($,S)=>{t(0,f.EVALUATION_ARENA_MODELS[S]=$,f),t(0,f.EVALUATION_ARENA_MODELS=[...f.EVALUATION_ARENA_MODELS],f),await h(),Nl.set(await ql(localStorage.token))},m=async $=>{t(0,f.EVALUATION_ARENA_MODELS=f.EVALUATION_ARENA_MODELS.filter((S,N)=>N!==$),f),await h(),Nl.set(await ql(localStorage.token))};Fl(async()=>{l.role==="admin"&&t(0,f=await lf(localStorage.token).catch($=>(ze.error($),null)))});function g($){u=$,t(1,u)}const E=async $=>{b($.detail)};function w($){s.$$.not_equal(f.ENABLE_EVALUATION_ARENA_MODELS,$)&&(f.ENABLE_EVALUATION_ARENA_MODELS=$,t(0,f))}return[f,u,a,i,r,h,b,p,m,g,E,w,()=>{t(1,u=!0)},($,S)=>{p(S.detail,$)},($,S)=>{m($)},()=>{h(),i("save")}]}class A0 extends gl{constructor(e){super(),bl(this,e,T0,y0,ml,{})}}function D0(s){let e,t;return e=new Kf({props:{saveHandler:s[22]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[22]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function $0(s){let e,t;return e=new of({props:{saveHandler:s[21]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[21]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function V0(s){let e,t;return e=new gc({}),e.$on("save",s[20]),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function S0(s){let e,t;return e=new ac({props:{saveHandler:s[19]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[19]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function N0(s){let e,t;return e=new Sc({}),e.$on("save",s[18]),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function M0(s){let e,t;return e=new l0({props:{saveHandler:s[17]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[17]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function O0(s){let e,t;return e=new R1({}),e.$on("save",s[16]),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function L0(s){let e,t;return e=new A0({}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function P0(s){let e,t;return e=new Rd({}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function U0(s){let e,t;return e=new k1({}),e.$on("save",s[15]),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function C0(s){let e,t;return e=new mf({props:{saveHandler:s[14]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const i={};a&2&&(i.saveHandler=l[14]),e.$set(i)},i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function R0(s){let e,t,l,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',r,f,u=s[1].t("General")+"",h,b,p,m,g,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',w,k,I=s[1].t("Connections")+"",y,T,$,S,N,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',C,R,U=s[1].t("Models")+"",Z,B,M,j,G,W,z,x,te=s[1].t("Evaluations")+"",Y,Q,X,F,J,ae='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',ue,ne,De=s[1].t("Documents")+"",ge,Pe,be,Re,$e,ie='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',le,Ee,ce=s[1].t("Web Search")+"",ke,Ie,Qe,Je,ve,ye='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',fe,me,Oe=s[1].t("Interface")+"",Me,He,Ce,Ge,je,$t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',re,we,ht=s[1].t("Audio")+"",mt,gt,Ke,Ye,ct,Ut='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',At,Ae,We=s[1].t("Images")+"",bt,ot,dt,rt,lt,et='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>',oe,Le,Tt=s[1].t("Pipelines")+"",Xe,Ot,wt,it,Pt,zt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>',qt,Dt,Rt=s[1].t("Database")+"",Nt,Ue,Te,Ne,pt,xe,_t,Kt,Lt;W=new r0({});const Bt=[C0,U0,P0,L0,O0,M0,N0,S0,V0,$0,D0],Et=[];function Ze(Be,tt){return Be[0]==="general"?0:Be[0]==="connections"?1:Be[0]==="models"?2:Be[0]==="evaluations"?3:Be[0]==="documents"?4:Be[0]==="web"?5:Be[0]==="interface"?6:Be[0]==="audio"?7:Be[0]==="images"?8:Be[0]==="db"?9:Be[0]==="pipelines"?10:-1}return~(pt=Ze(s))&&(xe=Et[pt]=Bt[pt](s)),{c(){e=d("div"),t=d("div"),l=d("button"),a=d("div"),a.innerHTML=i,r=A(),f=d("div"),h=L(u),p=A(),m=d("button"),g=d("div"),g.innerHTML=E,w=A(),k=d("div"),y=L(I),$=A(),S=d("button"),N=d("div"),N.innerHTML=V,C=A(),R=d("div"),Z=L(U),M=A(),j=d("button"),G=d("div"),de(W.$$.fragment),z=A(),x=d("div"),Y=L(te),X=A(),F=d("button"),J=d("div"),J.innerHTML=ae,ue=A(),ne=d("div"),ge=L(De),be=A(),Re=d("button"),$e=d("div"),$e.innerHTML=ie,le=A(),Ee=d("div"),ke=L(ce),Qe=A(),Je=d("button"),ve=d("div"),ve.innerHTML=ye,fe=A(),me=d("div"),Me=L(Oe),Ce=A(),Ge=d("button"),je=d("div"),je.innerHTML=$t,re=A(),we=d("div"),mt=L(ht),Ke=A(),Ye=d("button"),ct=d("div"),ct.innerHTML=Ut,At=A(),Ae=d("div"),bt=L(We),dt=A(),rt=d("button"),lt=d("div"),lt.innerHTML=et,oe=A(),Le=d("div"),Xe=L(Tt),wt=A(),it=d("button"),Pt=d("div"),Pt.innerHTML=zt,qt=A(),Dt=d("div"),Nt=L(Rt),Te=A(),Ne=d("div"),xe&&xe.c(),this.h()},l(Be){e=_(Be,"DIV",{class:!0});var tt=v(e);t=_(tt,"DIV",{id:!0,class:!0});var kt=v(t);l=_(kt,"BUTTON",{class:!0});var Mt=v(l);a=_(Mt,"DIV",{class:!0,"data-svelte-h":!0}),Gt(a)!=="svelte-1e9u9pw"&&(a.innerHTML=i),r=D(Mt),f=_(Mt,"DIV",{class:!0});var rl=v(f);h=P(rl,u),rl.forEach(c),Mt.forEach(c),p=D(kt),m=_(kt,"BUTTON",{class:!0});var tl=v(m);g=_(tl,"DIV",{class:!0,"data-svelte-h":!0}),Gt(g)!=="svelte-1xixjje"&&(g.innerHTML=E),w=D(tl),k=_(tl,"DIV",{class:!0});var Ht=v(k);y=P(Ht,I),Ht.forEach(c),tl.forEach(c),$=D(kt),S=_(kt,"BUTTON",{class:!0});var ul=v(S);N=_(ul,"DIV",{class:!0,"data-svelte-h":!0}),Gt(N)!=="svelte-17kkxfv"&&(N.innerHTML=V),C=D(ul),R=_(ul,"DIV",{class:!0});var hl=v(R);Z=P(hl,U),hl.forEach(c),ul.forEach(c),M=D(kt),j=_(kt,"BUTTON",{class:!0});var jt=v(j);G=_(jt,"DIV",{class:!0});var Il=v(G);_e(W.$$.fragment,Il),Il.forEach(c),z=D(jt),x=_(jt,"DIV",{class:!0});var cl=v(x);Y=P(cl,te),cl.forEach(c),jt.forEach(c),X=D(kt),F=_(kt,"BUTTON",{class:!0});var il=v(F);J=_(il,"DIV",{class:!0,"data-svelte-h":!0}),Gt(J)!=="svelte-ofbvgh"&&(J.innerHTML=ae),ue=D(il),ne=_(il,"DIV",{class:!0});var yt=v(ne);ge=P(yt,De),yt.forEach(c),il.forEach(c),be=D(kt),Re=_(kt,"BUTTON",{class:!0});var dl=v(Re);$e=_(dl,"DIV",{class:!0,"data-svelte-h":!0}),Gt($e)!=="svelte-1t9ru36"&&($e.innerHTML=ie),le=D(dl),Ee=_(dl,"DIV",{class:!0});var Yt=v(Ee);ke=P(Yt,ce),Yt.forEach(c),dl.forEach(c),Qe=D(kt),Je=_(kt,"BUTTON",{class:!0});var Qt=v(Je);ve=_(Qt,"DIV",{class:!0,"data-svelte-h":!0}),Gt(ve)!=="svelte-1i52rm6"&&(ve.innerHTML=ye),fe=D(Qt),me=_(Qt,"DIV",{class:!0});var Ml=v(me);Me=P(Ml,Oe),Ml.forEach(c),Qt.forEach(c),Ce=D(kt),Ge=_(kt,"BUTTON",{class:!0});var pl=v(Ge);je=_(pl,"DIV",{class:!0,"data-svelte-h":!0}),Gt(je)!=="svelte-sf0iba"&&(je.innerHTML=$t),re=D(pl),we=_(pl,"DIV",{class:!0});var Ft=v(we);mt=P(Ft,ht),Ft.forEach(c),pl.forEach(c),Ke=D(kt),Ye=_(kt,"BUTTON",{class:!0});var Jt=v(Ye);ct=_(Jt,"DIV",{class:!0,"data-svelte-h":!0}),Gt(ct)!=="svelte-1gc3odz"&&(ct.innerHTML=Ut),At=D(Jt),Ae=_(Jt,"DIV",{class:!0});var Rl=v(Ae);bt=P(Rl,We),Rl.forEach(c),Jt.forEach(c),dt=D(kt),rt=_(kt,"BUTTON",{class:!0});var Pl=v(rt);lt=_(Pl,"DIV",{class:!0,"data-svelte-h":!0}),Gt(lt)!=="svelte-1q46caf"&&(lt.innerHTML=et),oe=D(Pl),Le=_(Pl,"DIV",{class:!0});var Ul=v(Le);Xe=P(Ul,Tt),Ul.forEach(c),Pl.forEach(c),wt=D(kt),it=_(kt,"BUTTON",{class:!0});var fl=v(it);Pt=_(fl,"DIV",{class:!0,"data-svelte-h":!0}),Gt(Pt)!=="svelte-35c53k"&&(Pt.innerHTML=zt),qt=D(fl),Dt=_(fl,"DIV",{class:!0});var Wt=v(Dt);Nt=P(Wt,Rt),Wt.forEach(c),fl.forEach(c),kt.forEach(c),Te=D(tt),Ne=_(tt,"DIV",{class:!0});var Wl=v(Ne);xe&&xe.l(Wl),Wl.forEach(c),tt.forEach(c),this.h()},h(){o(a,"class","self-center mr-2"),o(f,"class","self-center"),o(l,"class",b="px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[0]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(g,"class","self-center mr-2"),o(k,"class","self-center"),o(m,"class",T="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="connections"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(N,"class","self-center mr-2"),o(R,"class","self-center"),o(S,"class",B="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="models"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(G,"class","self-center mr-2"),o(x,"class","self-center"),o(j,"class",Q="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="evaluations"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(J,"class","self-center mr-2"),o(ne,"class","self-center"),o(F,"class",Pe="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="documents"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o($e,"class","self-center mr-2"),o(Ee,"class","self-center"),o(Re,"class",Ie="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="web"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(ve,"class","self-center mr-2"),o(me,"class","self-center"),o(Je,"class",He="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(je,"class","self-center mr-2"),o(we,"class","self-center"),o(Ge,"class",gt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(ct,"class","self-center mr-2"),o(Ae,"class","self-center"),o(Ye,"class",ot="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="images"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(lt,"class","self-center mr-2"),o(Le,"class","self-center"),o(rt,"class",Ot="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="pipelines"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(Pt,"class","self-center mr-2"),o(Dt,"class","self-center"),o(it,"class",Ue="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="db"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(t,"id","admin-settings-tabs-container"),o(t,"class","tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),o(Ne,"class","flex-1 mt-3 lg:mt-0 overflow-y-scroll pr-1 scrollbar-hidden"),o(e,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4")},m(Be,tt){O(Be,e,tt),n(e,t),n(t,l),n(l,a),n(l,r),n(l,f),n(f,h),n(t,p),n(t,m),n(m,g),n(m,w),n(m,k),n(k,y),n(t,$),n(t,S),n(S,N),n(S,C),n(S,R),n(R,Z),n(t,M),n(t,j),n(j,G),he(W,G,null),n(j,z),n(j,x),n(x,Y),n(t,X),n(t,F),n(F,J),n(F,ue),n(F,ne),n(ne,ge),n(t,be),n(t,Re),n(Re,$e),n(Re,le),n(Re,Ee),n(Ee,ke),n(t,Qe),n(t,Je),n(Je,ve),n(Je,fe),n(Je,me),n(me,Me),n(t,Ce),n(t,Ge),n(Ge,je),n(Ge,re),n(Ge,we),n(we,mt),n(t,Ke),n(t,Ye),n(Ye,ct),n(Ye,At),n(Ye,Ae),n(Ae,bt),n(t,dt),n(t,rt),n(rt,lt),n(rt,oe),n(rt,Le),n(Le,Xe),n(t,wt),n(t,it),n(it,Pt),n(it,qt),n(it,Dt),n(Dt,Nt),n(e,Te),n(e,Ne),~pt&&Et[pt].m(Ne,null),_t=!0,Kt||(Lt=[se(l,"click",s[3]),se(m,"click",s[4]),se(S,"click",s[5]),se(j,"click",s[6]),se(F,"click",s[7]),se(Re,"click",s[8]),se(Je,"click",s[9]),se(Ge,"click",s[10]),se(Ye,"click",s[11]),se(rt,"click",s[12]),se(it,"click",s[13])],Kt=!0)},p(Be,[tt]){(!_t||tt&2)&&u!==(u=Be[1].t("General")+"")&&H(h,u),(!_t||tt&1&&b!==(b="px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(Be[0]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(l,"class",b),(!_t||tt&2)&&I!==(I=Be[1].t("Connections")+"")&&H(y,I),(!_t||tt&1&&T!==(T="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="connections"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(m,"class",T),(!_t||tt&2)&&U!==(U=Be[1].t("Models")+"")&&H(Z,U),(!_t||tt&1&&B!==(B="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="models"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(S,"class",B),(!_t||tt&2)&&te!==(te=Be[1].t("Evaluations")+"")&&H(Y,te),(!_t||tt&1&&Q!==(Q="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="evaluations"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(j,"class",Q),(!_t||tt&2)&&De!==(De=Be[1].t("Documents")+"")&&H(ge,De),(!_t||tt&1&&Pe!==(Pe="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="documents"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(F,"class",Pe),(!_t||tt&2)&&ce!==(ce=Be[1].t("Web Search")+"")&&H(ke,ce),(!_t||tt&1&&Ie!==(Ie="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="web"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(Re,"class",Ie),(!_t||tt&2)&&Oe!==(Oe=Be[1].t("Interface")+"")&&H(Me,Oe),(!_t||tt&1&&He!==(He="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(Je,"class",He),(!_t||tt&2)&&ht!==(ht=Be[1].t("Audio")+"")&&H(mt,ht),(!_t||tt&1&&gt!==(gt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(Ge,"class",gt),(!_t||tt&2)&&We!==(We=Be[1].t("Images")+"")&&H(bt,We),(!_t||tt&1&&ot!==(ot="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="images"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(Ye,"class",ot),(!_t||tt&2)&&Tt!==(Tt=Be[1].t("Pipelines")+"")&&H(Xe,Tt),(!_t||tt&1&&Ot!==(Ot="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="pipelines"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(rt,"class",Ot),(!_t||tt&2)&&Rt!==(Rt=Be[1].t("Database")+"")&&H(Nt,Rt),(!_t||tt&1&&Ue!==(Ue="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(Be[0]==="db"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(it,"class",Ue);let kt=pt;pt=Ze(Be),pt===kt?~pt&&Et[pt].p(Be,tt):(xe&&(Vt(),q(Et[kt],1,1,()=>{Et[kt]=null}),St()),~pt?(xe=Et[pt],xe?xe.p(Be,tt):(xe=Et[pt]=Bt[pt](Be),xe.c()),K(xe,1),xe.m(Ne,null)):xe=null)},i(Be){_t||(K(W.$$.fragment,Be),K(xe),_t=!0)},o(Be){q(W.$$.fragment,Be),q(xe),_t=!1},d(Be){Be&&c(e),pe(W),~pt&&Et[pt].d(),Kt=!1,ol(Lt)}}}function B0(s,e,t){let l;const a=Dl("i18n");nl(s,a,U=>t(1,l=U));let i="general";return Fl(()=>{const U=document.getElementById("admin-settings-tabs-container");U&&U.addEventListener("wheel",function(Z){Z.deltaY!==0&&(U.scrollLeft+=Z.deltaY)})}),[i,l,a,()=>{t(0,i="general")},()=>{t(0,i="connections")},()=>{t(0,i="models")},()=>{t(0,i="evaluations")},()=>{t(0,i="documents")},()=>{t(0,i="web")},()=>{t(0,i="interface")},()=>{t(0,i="audio")},()=>{t(0,i="images")},()=>{t(0,i="pipelines")},()=>{t(0,i="db")},async()=>{ze.success(l.t("Settings saved successfully!")),await ba(),await Hs.set(await ra())},()=>{ze.success(l.t("Settings saved successfully!"))},async()=>{ze.success(l.t("Settings saved successfully!")),await ba(),await Hs.set(await ra())},async()=>{ze.success(l.t("Settings saved successfully!")),await ba(),await Hs.set(await ra())},()=>{ze.success(l.t("Settings saved successfully!"))},()=>{ze.success(l.t("Settings saved successfully!"))},()=>{ze.success(l.t("Settings saved successfully!"))},()=>{ze.success(l.t("Settings saved successfully!"))},()=>{ze.success(l.t("Settings saved successfully!"))}]}class H0 extends gl{constructor(e){super(),bl(this,e,B0,R0,ml,{})}}function j0(s){let e,t;return e=new H0({}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p:vt,i(l){t||(K(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}class y_ extends gl{constructor(e){super(),bl(this,e,null,j0,ml,{})}}export{y_ as component};
//# sourceMappingURL=12.D2lAhuti.js.map
